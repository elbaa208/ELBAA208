function EN(n,e){for(var i=0;i<e.length;i++){const a=e[i];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in n)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(n,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function TN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kh={exports:{}},Jr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function CN(){if(Bv)return Jr;Bv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Jr.Fragment=e,Jr.jsx=i,Jr.jsxs=i,Jr}var Hv;function jN(){return Hv||(Hv=1,kh.exports=CN()),kh.exports}var c=jN(),Ih={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function AN(){if(qv)return Ee;qv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,C={};function B(w,Y,ae){this.props=w,this.context=Y,this.refs=C,this.updater=ae||E}B.prototype.isReactComponent={},B.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function P(){}P.prototype=B.prototype;function X(w,Y,ae){this.props=w,this.context=Y,this.refs=C,this.updater=ae||E}var W=X.prototype=new P;W.constructor=X,I(W,B.prototype),W.isPureReactComponent=!0;var se=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function oe(w,Y,ae,J,ce,Ie){return ae=Ie.ref,{$$typeof:n,type:w,key:Y,ref:ae!==void 0?ae:null,props:Ie}}function $(w,Y){return oe(w.type,Y,void 0,void 0,void 0,w.props)}function me(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function z(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ae){return Y[ae]})}var D=/\/+/g;function U(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?z(""+w.key):Y.toString(36)}function j(){}function V(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(j,j):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Q(w,Y,ae,J,ce){var Ie=typeof w;(Ie==="undefined"||Ie==="boolean")&&(w=null);var Se=!1;if(w===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(w.$$typeof){case n:case e:Se=!0;break;case v:return Se=w._init,Q(Se(w._payload),Y,ae,J,ce)}}if(Se)return ce=ce(w),Se=J===""?"."+U(w,0):J,se(ce)?(ae="",Se!=null&&(ae=Se.replace(D,"$&/")+"/"),Q(ce,Y,ae,"",function(Gt){return Gt})):ce!=null&&(me(ce)&&(ce=$(ce,ae+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+Se)),Y.push(ce)),1;Se=0;var Ue=J===""?".":J+":";if(se(w))for(var Qe=0;Qe<w.length;Qe++)J=w[Qe],Ie=Ue+U(J,Qe),Se+=Q(J,Y,ae,Ie,ce);else if(Qe=b(w),typeof Qe=="function")for(w=Qe.call(w),Qe=0;!(J=w.next()).done;)J=J.value,Ie=Ue+U(J,Qe++),Se+=Q(J,Y,ae,Ie,ce);else if(Ie==="object"){if(typeof w.then=="function")return Q(V(w),Y,ae,J,ce);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Se}function k(w,Y,ae){if(w==null)return w;var J=[],ce=0;return Q(w,J,"","",function(Ie){return Y.call(ae,Ie,ce++)}),J}function Z(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(ae){(w._status===0||w._status===-1)&&(w._status=1,w._result=ae)},function(ae){(w._status===0||w._status===-1)&&(w._status=2,w._result=ae)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var K=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function He(){}return Ee.Children={map:k,forEach:function(w,Y,ae){k(w,function(){Y.apply(this,arguments)},ae)},count:function(w){var Y=0;return k(w,function(){Y++}),Y},toArray:function(w){return k(w,function(Y){return Y})||[]},only:function(w){if(!me(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ee.Component=B,Ee.Fragment=i,Ee.Profiler=o,Ee.PureComponent=X,Ee.StrictMode=a,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(w){return ie.H.useMemoCache(w)}},Ee.cache=function(w){return function(){return w.apply(null,arguments)}},Ee.cloneElement=function(w,Y,ae){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var J=I({},w.props),ce=w.key,Ie=void 0;if(Y!=null)for(Se in Y.ref!==void 0&&(Ie=void 0),Y.key!==void 0&&(ce=""+Y.key),Y)!H.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(J[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)J.children=ae;else if(1<Se){for(var Ue=Array(Se),Qe=0;Qe<Se;Qe++)Ue[Qe]=arguments[Qe+2];J.children=Ue}return oe(w.type,ce,void 0,void 0,Ie,J)},Ee.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Ee.createElement=function(w,Y,ae){var J,ce={},Ie=null;if(Y!=null)for(J in Y.key!==void 0&&(Ie=""+Y.key),Y)H.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=Y[J]);var Se=arguments.length-2;if(Se===1)ce.children=ae;else if(1<Se){for(var Ue=Array(Se),Qe=0;Qe<Se;Qe++)Ue[Qe]=arguments[Qe+2];ce.children=Ue}if(w&&w.defaultProps)for(J in Se=w.defaultProps,Se)ce[J]===void 0&&(ce[J]=Se[J]);return oe(w,Ie,void 0,void 0,null,ce)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(w){return{$$typeof:m,render:w}},Ee.isValidElement=me,Ee.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:Z}},Ee.memo=function(w,Y){return{$$typeof:p,type:w,compare:Y===void 0?null:Y}},Ee.startTransition=function(w){var Y=ie.T,ae={};ie.T=ae;try{var J=w(),ce=ie.S;ce!==null&&ce(ae,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(He,K)}catch(Ie){K(Ie)}finally{ie.T=Y}},Ee.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ee.use=function(w){return ie.H.use(w)},Ee.useActionState=function(w,Y,ae){return ie.H.useActionState(w,Y,ae)},Ee.useCallback=function(w,Y){return ie.H.useCallback(w,Y)},Ee.useContext=function(w){return ie.H.useContext(w)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(w,Y){return ie.H.useDeferredValue(w,Y)},Ee.useEffect=function(w,Y,ae){var J=ie.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(w,Y)},Ee.useId=function(){return ie.H.useId()},Ee.useImperativeHandle=function(w,Y,ae){return ie.H.useImperativeHandle(w,Y,ae)},Ee.useInsertionEffect=function(w,Y){return ie.H.useInsertionEffect(w,Y)},Ee.useLayoutEffect=function(w,Y){return ie.H.useLayoutEffect(w,Y)},Ee.useMemo=function(w,Y){return ie.H.useMemo(w,Y)},Ee.useOptimistic=function(w,Y){return ie.H.useOptimistic(w,Y)},Ee.useReducer=function(w,Y,ae){return ie.H.useReducer(w,Y,ae)},Ee.useRef=function(w){return ie.H.useRef(w)},Ee.useState=function(w){return ie.H.useState(w)},Ee.useSyncExternalStore=function(w,Y,ae){return ie.H.useSyncExternalStore(w,Y,ae)},Ee.useTransition=function(){return ie.H.useTransition()},Ee.version="19.1.0",Ee}var Vv;function Uf(){return Vv||(Vv=1,Ih.exports=AN()),Ih.exports}var L=Uf();const Vs=TN(L),Rx=EN({__proto__:null,default:Vs},[L]);var Oh={exports:{}},el={},Mh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function RN(){return Fv||(Fv=1,function(n){function e(k,Z){var K=k.length;k.push(Z);e:for(;0<K;){var He=K-1>>>1,w=k[He];if(0<o(w,Z))k[He]=Z,k[K]=w,K=He;else break e}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var Z=k[0],K=k.pop();if(K!==Z){k[0]=K;e:for(var He=0,w=k.length,Y=w>>>1;He<Y;){var ae=2*(He+1)-1,J=k[ae],ce=ae+1,Ie=k[ce];if(0>o(J,K))ce<w&&0>o(Ie,J)?(k[He]=Ie,k[ce]=K,He=ce):(k[He]=J,k[ae]=K,He=ae);else if(ce<w&&0>o(Ie,K))k[He]=Ie,k[ce]=K,He=ce;else break e}}return Z}function o(k,Z){var K=k.sortIndex-Z.sortIndex;return K!==0?K:k.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,x=null,b=3,E=!1,I=!1,C=!1,B=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function se(k){for(var Z=i(p);Z!==null;){if(Z.callback===null)a(p);else if(Z.startTime<=k)a(p),Z.sortIndex=Z.expirationTime,e(g,Z);else break;Z=i(p)}}function ie(k){if(C=!1,se(k),!I)if(i(g)!==null)I=!0,H||(H=!0,U());else{var Z=i(p);Z!==null&&Q(ie,Z.startTime-k)}}var H=!1,oe=-1,$=5,me=-1;function z(){return B?!0:!(n.unstable_now()-me<$)}function D(){if(B=!1,H){var k=n.unstable_now();me=k;var Z=!0;try{e:{I=!1,C&&(C=!1,X(oe),oe=-1),E=!0;var K=b;try{t:{for(se(k),x=i(g);x!==null&&!(x.expirationTime>k&&z());){var He=x.callback;if(typeof He=="function"){x.callback=null,b=x.priorityLevel;var w=He(x.expirationTime<=k);if(k=n.unstable_now(),typeof w=="function"){x.callback=w,se(k),Z=!0;break t}x===i(g)&&a(g),se(k)}else a(g);x=i(g)}if(x!==null)Z=!0;else{var Y=i(p);Y!==null&&Q(ie,Y.startTime-k),Z=!1}}break e}finally{x=null,b=K,E=!1}Z=void 0}}finally{Z?U():H=!1}}}var U;if(typeof W=="function")U=function(){W(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=D,U=function(){V.postMessage(null)}}else U=function(){P(D,0)};function Q(k,Z){oe=P(function(){k(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var K=b;b=Z;try{return k()}finally{b=K}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=b;b=k;try{return Z()}finally{b=K}},n.unstable_scheduleCallback=function(k,Z,K){var He=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?He+K:He):K=He,k){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=K+w,k={id:v++,callback:Z,priorityLevel:k,startTime:K,expirationTime:w,sortIndex:-1},K>He?(k.sortIndex=K,e(p,k),i(g)===null&&k===i(p)&&(C?(X(oe),oe=-1):C=!0,Q(ie,K-He))):(k.sortIndex=w,e(g,k),I||E||(I=!0,H||(H=!0,U()))),k},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(k){var Z=b;return function(){var K=b;b=Z;try{return k.apply(this,arguments)}finally{b=K}}}}(Dh)),Dh}var Gv;function kN(){return Gv||(Gv=1,Mh.exports=RN()),Mh.exports}var Lh={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function IN(){if(Yv)return It;Yv=1;var n=Uf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:p,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,It.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},It.flushSync=function(g){var p=h.T,v=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=p,a.p=v,a.d.f()}},It.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},It.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},It.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,x=m(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:E}):v==="script"&&a.d.X(g,{crossOrigin:x,integrity:b,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},It.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},It.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=m(v,p.crossOrigin);a.d.L(g,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},It.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},It.requestFormReset=function(g){a.d.r(g)},It.unstable_batchedUpdates=function(g,p){return g(p)},It.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},It.useFormStatus=function(){return h.H.useHostTransitionStatus()},It.version="19.1.0",It}var Kv;function kx(){if(Kv)return Lh.exports;Kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lh.exports=IN(),Lh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function ON(){if($v)return el;$v=1;var n=kN(),e=Uf(),i=kx();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(a(188));return s!==t?null:t}for(var r=t,l=s;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return m(d),t;if(f===l)return m(d),s;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=d,l=f;else{for(var y=!1,_=d.child;_;){if(_===r){y=!0,r=d,l=f;break}if(_===l){y=!0,l=d,r=f;break}_=_.sibling}if(!y){for(_=f.child;_;){if(_===r){y=!0,r=f,l=d;break}if(_===l){y=!0,l=f,r=d;break}_=_.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:s}function p(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=p(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function V(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case B:return"Profiler";case C:return"StrictMode";case ie:return"Suspense";case H:return"SuspenseList";case me:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case W:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case se:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oe:return s=t.displayName||null,s!==null?s:V(t.type)||"Memo";case $:s=t._payload,t=t._init;try{return V(t(s))}catch{}}return null}var Q=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},He=[],w=-1;function Y(t){return{current:t}}function ae(t){0>w||(t.current=He[w],He[w]=null,w--)}function J(t,s){w++,He[w]=t.current,t.current=s}var ce=Y(null),Ie=Y(null),Se=Y(null),Ue=Y(null);function Qe(t,s){switch(J(Se,s),J(Ie,t),J(ce,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?mv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=mv(s),t=pv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(ce),J(ce,t)}function Gt(){ae(ce),ae(Ie),ae(Se)}function ms(t){t.memoizedState!==null&&J(Ue,t);var s=ce.current,r=pv(s,t.type);s!==r&&(J(Ie,t),J(ce,r))}function ps(t){Ie.current===t&&(ae(ce),ae(Ie)),Ue.current===t&&(ae(Ue),$r._currentValue=K)}var gs=Object.prototype.hasOwnProperty,vu=n.unstable_scheduleCallback,_u=n.unstable_cancelCallback,sS=n.unstable_shouldYield,iS=n.unstable_requestPaint,An=n.unstable_now,aS=n.unstable_getCurrentPriorityLevel,$m=n.unstable_ImmediatePriority,Qm=n.unstable_UserBlockingPriority,Gl=n.unstable_NormalPriority,rS=n.unstable_LowPriority,Xm=n.unstable_IdlePriority,lS=n.log,oS=n.unstable_setDisableYieldValue,nr=null,Yt=null;function ys(t){if(typeof lS=="function"&&oS(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(nr,t)}catch{}}var Kt=Math.clz32?Math.clz32:dS,cS=Math.log,uS=Math.LN2;function dS(t){return t>>>=0,t===0?32:31-(cS(t)/uS|0)|0}var Yl=256,Kl=4194304;function ai(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $l(t,s,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?d=ai(l):(y&=_,y!==0?d=ai(y):r||(r=_&~t,r!==0&&(d=ai(r))))):(_=l&~f,_!==0?d=ai(_):y!==0?d=ai(y):r||(r=l&~t,r!==0&&(d=ai(r)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,r=s&-s,f>=r||f===32&&(r&4194048)!==0)?s:d}function sr(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function hS(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(){var t=Yl;return Yl<<=1,(Yl&4194048)===0&&(Yl=256),t}function Zm(){var t=Kl;return Kl<<=1,(Kl&62914560)===0&&(Kl=4194304),t}function xu(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function ir(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fS(t,s,r,l,d,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(r=y&~r;0<r;){var q=31-Kt(r),G=1<<q;_[q]=0,S[q]=-1;var O=R[q];if(O!==null)for(R[q]=null,q=0;q<O.length;q++){var M=O[q];M!==null&&(M.lane&=-536870913)}r&=~G}l!==0&&Jm(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~s))}function Jm(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Kt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ep(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var l=31-Kt(r),d=1<<l;d&s|t[l]&s&&(t[l]|=s),r&=~d}}function bu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Su(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tp(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Mv(t.type))}function mS(t,s){var r=Z.p;try{return Z.p=t,s()}finally{Z.p=r}}var vs=Math.random().toString(36).slice(2),Rt="__reactFiber$"+vs,Ut="__reactProps$"+vs,Yi="__reactContainer$"+vs,wu="__reactEvents$"+vs,pS="__reactListeners$"+vs,gS="__reactHandles$"+vs,np="__reactResources$"+vs,ar="__reactMarker$"+vs;function Nu(t){delete t[Rt],delete t[Ut],delete t[wu],delete t[pS],delete t[gS]}function Ki(t){var s=t[Rt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Yi]||r[Rt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=_v(t);t!==null;){if(r=t[Rt])return r;t=_v(t)}return s}t=r,r=t.parentNode}return null}function $i(t){if(t=t[Rt]||t[Yi]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function rr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function Qi(t){var s=t[np];return s||(s=t[np]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(t){t[ar]=!0}var sp=new Set,ip={};function ri(t,s){Xi(t,s),Xi(t+"Capture",s)}function Xi(t,s){for(ip[t]=s,t=0;t<s.length;t++)sp.add(s[t])}var yS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ap={},rp={};function vS(t){return gs.call(rp,t)?!0:gs.call(ap,t)?!1:yS.test(t)?rp[t]=!0:(ap[t]=!0,!1)}function Ql(t,s,r){if(vS(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Xl(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Bn(t,s,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+l)}}var Eu,lp;function Wi(t){if(Eu===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Eu=s&&s[1]||"",lp=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eu+t+lp}var Tu=!1;function Cu(t,s){if(!t||Tu)return"";Tu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(M){var O=M}Reflect.construct(t,[],G)}else{try{G.call()}catch(M){O=M}t.call(G.prototype)}}else{try{throw Error()}catch(M){O=M}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(M){if(M&&O&&typeof M.stack=="string")return[M.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],_=f[1];if(y&&_){var S=y.split(`
`),R=_.split(`
`);for(d=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;d<R.length&&!R[d].includes("DetermineComponentFrameRoot");)d++;if(l===S.length||d===R.length)for(l=S.length-1,d=R.length-1;1<=l&&0<=d&&S[l]!==R[d];)d--;for(;1<=l&&0<=d;l--,d--)if(S[l]!==R[d]){if(l!==1||d!==1)do if(l--,d--,0>d||S[l]!==R[d]){var q=`
`+S[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=d);break}}}finally{Tu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Wi(r):""}function _S(t){switch(t.tag){case 26:case 27:case 5:return Wi(t.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return Cu(t.type,!1);case 11:return Cu(t.type.render,!1);case 1:return Cu(t.type,!0);case 31:return Wi("Activity");default:return""}}function op(t){try{var s="";do s+=_S(t),t=t.return;while(t);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cp(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xS(t){var s=cp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,f=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Wl(t){t._valueTracker||(t._valueTracker=xS(t))}function up(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),l="";return t&&(l=cp(t)?t.checked?"true":"false":t.value),t=l,t!==r?(s.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bS=/[\n"\\]/g;function rn(t){return t.replace(bS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ju(t,s,r,l,d,f,y,_){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),s!=null?y==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+an(s)):t.value!==""+an(s)&&(t.value=""+an(s)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),s!=null?Au(t,y,an(s)):r!=null?Au(t,y,an(r)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+an(_):t.removeAttribute("name")}function dp(t,s,r,l,d,f,y,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||s!=null))return;r=r!=null?""+an(r):"",s=s!=null?""+an(s):r,_||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Au(t,s,r){s==="number"&&Zl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Zi(t,s,r,l){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&l&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function hp(t,s,r){if(s!=null&&(s=""+an(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+an(r):""}function fp(t,s,r,l){if(s==null){if(l!=null){if(r!=null)throw Error(a(92));if(Q(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),s=r}r=an(s),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Ji(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var SS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mp(t,s,r){var l=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,r):typeof r!="number"||r===0||SS.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function pp(t,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&r[d]!==l&&mp(t,d,l)}else for(var f in s)s.hasOwnProperty(f)&&mp(t,f,s[f])}function Ru(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(t){return NS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ku=null;function Iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ea=null,ta=null;function gp(t){var s=$i(t);if(s&&(t=s.stateNode)){var r=t[Ut]||null;e:switch(t=s.stateNode,s.type){case"input":if(ju(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var l=r[s];if(l!==t&&l.form===t.form){var d=l[Ut]||null;if(!d)throw Error(a(90));ju(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)l=r[s],l.form===t.form&&up(l)}break e;case"textarea":hp(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Zi(t,!!r.multiple,s,!1)}}}var Ou=!1;function yp(t,s,r){if(Ou)return t(s,r);Ou=!0;try{var l=t(s);return l}finally{if(Ou=!1,(ea!==null||ta!==null)&&(zo(),ea&&(s=ea,t=ta,ta=ea=null,gp(s),t)))for(s=0;s<t.length;s++)gp(t[s])}}function lr(t,s){var r=t.stateNode;if(r===null)return null;var l=r[Ut]||null;if(l===null)return null;r=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=!1;if(Hn)try{var or={};Object.defineProperty(or,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Mu=!1}var _s=null,Du=null,eo=null;function vp(){if(eo)return eo;var t,s=Du,r=s.length,l,d="value"in _s?_s.value:_s.textContent,f=d.length;for(t=0;t<r&&s[t]===d[t];t++);var y=r-t;for(l=1;l<=y&&s[r-l]===d[f-l];l++);return eo=d.slice(t,1<l?1-l:void 0)}function to(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function no(){return!0}function _p(){return!1}function Pt(t){function s(r,l,d,f,y){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?no:_p,this.isPropagationStopped=_p,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),s}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Pt(li),cr=v({},li,{view:0,detail:0}),ES=Pt(cr),Lu,Uu,ur,io=v({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&t.type==="mousemove"?(Lu=t.screenX-ur.screenX,Uu=t.screenY-ur.screenY):Uu=Lu=0,ur=t),Lu)},movementY:function(t){return"movementY"in t?t.movementY:Uu}}),xp=Pt(io),TS=v({},io,{dataTransfer:0}),CS=Pt(TS),jS=v({},cr,{relatedTarget:0}),Pu=Pt(jS),AS=v({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),RS=Pt(AS),kS=v({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IS=Pt(kS),OS=v({},li,{data:0}),bp=Pt(OS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function US(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=LS[t])?!!s[t]:!1}function zu(){return US}var PS=v({},cr,{key:function(t){if(t.key){var s=MS[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=to(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(t){return t.type==="keypress"?to(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?to(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zS=Pt(PS),BS=v({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sp=Pt(BS),HS=v({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),qS=Pt(HS),VS=v({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=Pt(VS),GS=v({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YS=Pt(GS),KS=v({},li,{newState:0,oldState:0}),$S=Pt(KS),QS=[9,13,27,32],Bu=Hn&&"CompositionEvent"in window,dr=null;Hn&&"documentMode"in document&&(dr=document.documentMode);var XS=Hn&&"TextEvent"in window&&!dr,wp=Hn&&(!Bu||dr&&8<dr&&11>=dr),Np=" ",Ep=!1;function Tp(t,s){switch(t){case"keyup":return QS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function WS(t,s){switch(t){case"compositionend":return Cp(s);case"keypress":return s.which!==32?null:(Ep=!0,Np);case"textInput":return t=s.data,t===Np&&Ep?null:t;default:return null}}function ZS(t,s){if(na)return t==="compositionend"||!Bu&&Tp(t,s)?(t=vp(),eo=Du=_s=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wp&&s.locale!=="ko"?null:s.data;default:return null}}var JS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!JS[t.type]:s==="textarea"}function Ap(t,s,r,l){ea?ta?ta.push(l):ta=[l]:ea=l,s=Go(s,"onChange"),0<s.length&&(r=new so("onChange","change",null,r,l),t.push({event:r,listeners:s}))}var hr=null,fr=null;function ew(t){cv(t,0)}function ao(t){var s=rr(t);if(up(s))return t}function Rp(t,s){if(t==="change")return s}var kp=!1;if(Hn){var Hu;if(Hn){var qu="oninput"in document;if(!qu){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),qu=typeof Ip.oninput=="function"}Hu=qu}else Hu=!1;kp=Hu&&(!document.documentMode||9<document.documentMode)}function Op(){hr&&(hr.detachEvent("onpropertychange",Mp),fr=hr=null)}function Mp(t){if(t.propertyName==="value"&&ao(fr)){var s=[];Ap(s,fr,t,Iu(t)),yp(ew,s)}}function tw(t,s,r){t==="focusin"?(Op(),hr=s,fr=r,hr.attachEvent("onpropertychange",Mp)):t==="focusout"&&Op()}function nw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ao(fr)}function sw(t,s){if(t==="click")return ao(s)}function iw(t,s){if(t==="input"||t==="change")return ao(s)}function aw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var $t=typeof Object.is=="function"?Object.is:aw;function mr(t,s){if($t(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),l=Object.keys(s);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!gs.call(s,d)||!$t(t[d],s[d]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lp(t,s){var r=Dp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=s&&l>=s)return{node:r,offset:s-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dp(r)}}function Up(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Up(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Zl(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Zl(t.document)}return s}function Vu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var rw=Hn&&"documentMode"in document&&11>=document.documentMode,sa=null,Fu=null,pr=null,Gu=!1;function zp(t,s,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gu||sa==null||sa!==Zl(l)||(l=sa,"selectionStart"in l&&Vu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pr&&mr(pr,l)||(pr=l,l=Go(Fu,"onSelect"),0<l.length&&(s=new so("onSelect","select",null,s,r),t.push({event:s,listeners:l}),s.target=sa)))}function oi(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var ia={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Yu={},Bp={};Hn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function ci(t){if(Yu[t])return Yu[t];if(!ia[t])return t;var s=ia[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Bp)return Yu[t]=s[r];return t}var Hp=ci("animationend"),qp=ci("animationiteration"),Vp=ci("animationstart"),lw=ci("transitionrun"),ow=ci("transitionstart"),cw=ci("transitioncancel"),Fp=ci("transitionend"),Gp=new Map,Ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ku.push("scrollEnd");function yn(t,s){Gp.set(t,s),ri(s,[t])}var Yp=new WeakMap;function ln(t,s){if(typeof t=="object"&&t!==null){var r=Yp.get(t);return r!==void 0?r:(s={value:t,source:s,stack:op(s)},Yp.set(t,s),s)}return{value:t,source:s,stack:op(s)}}var on=[],aa=0,$u=0;function ro(){for(var t=aa,s=$u=aa=0;s<t;){var r=on[s];on[s++]=null;var l=on[s];on[s++]=null;var d=on[s];on[s++]=null;var f=on[s];if(on[s++]=null,l!==null&&d!==null){var y=l.pending;y===null?d.next=d:(d.next=y.next,y.next=d),l.pending=d}f!==0&&Kp(r,d,f)}}function lo(t,s,r,l){on[aa++]=t,on[aa++]=s,on[aa++]=r,on[aa++]=l,$u|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qu(t,s,r,l){return lo(t,s,r,l),oo(t)}function ra(t,s){return lo(t,null,null,s),oo(t)}function Kp(t,s,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var d=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&s!==null&&(d=31-Kt(r),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=r|536870912),f):null}function oo(t){if(50<Br)throw Br=0,th=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var la={};function uw(t,s,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,s,r,l){return new uw(t,s,r,l)}function Xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qn(t,s){var r=t.alternate;return r===null?(r=Qt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $p(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function co(t,s,r,l,d,f){var y=0;if(l=t,typeof t=="function")Xu(t)&&(y=1);else if(typeof t=="string")y=hN(t,r,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case me:return t=Qt(31,r,s,d),t.elementType=me,t.lanes=f,t;case I:return ui(r.children,d,f,s);case C:y=8,d|=24;break;case B:return t=Qt(12,r,s,d|2),t.elementType=B,t.lanes=f,t;case ie:return t=Qt(13,r,s,d),t.elementType=ie,t.lanes=f,t;case H:return t=Qt(19,r,s,d),t.elementType=H,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:case W:y=10;break e;case X:y=9;break e;case se:y=11;break e;case oe:y=14;break e;case $:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return s=Qt(y,r,s,d),s.elementType=t,s.type=l,s.lanes=f,s}function ui(t,s,r,l){return t=Qt(7,t,l,s),t.lanes=r,t}function Wu(t,s,r){return t=Qt(6,t,null,s),t.lanes=r,t}function Zu(t,s,r){return s=Qt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var oa=[],ca=0,uo=null,ho=0,cn=[],un=0,di=null,Vn=1,Fn="";function hi(t,s){oa[ca++]=ho,oa[ca++]=uo,uo=t,ho=s}function Qp(t,s,r){cn[un++]=Vn,cn[un++]=Fn,cn[un++]=di,di=t;var l=Vn;t=Fn;var d=32-Kt(l)-1;l&=~(1<<d),r+=1;var f=32-Kt(s)+d;if(30<f){var y=d-d%5;f=(l&(1<<y)-1).toString(32),l>>=y,d-=y,Vn=1<<32-Kt(s)+d|r<<d|l,Fn=f+t}else Vn=1<<f|r<<d|l,Fn=t}function Ju(t){t.return!==null&&(hi(t,1),Qp(t,1,0))}function ed(t){for(;t===uo;)uo=oa[--ca],oa[ca]=null,ho=oa[--ca],oa[ca]=null;for(;t===di;)di=cn[--un],cn[un]=null,Fn=cn[--un],cn[un]=null,Vn=cn[--un],cn[un]=null}var Ot=null,rt=null,Be=!1,fi=null,Rn=!1,td=Error(a(519));function mi(t){var s=Error(a(418,""));throw vr(ln(s,t)),td}function Xp(t){var s=t.stateNode,r=t.type,l=t.memoizedProps;switch(s[Rt]=t,s[Ut]=l,r){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(r=0;r<qr.length;r++)Me(qr[r],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),dp(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wl(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),fp(s,l.value,l.defaultValue,l.children),Wl(s)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||l.suppressHydrationWarning===!0||fv(s.textContent,r)?(l.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),l.onScroll!=null&&Me("scroll",s),l.onScrollEnd!=null&&Me("scrollend",s),l.onClick!=null&&(s.onclick=Yo),s=!0):s=!1,s||mi(t)}function Wp(t){for(Ot=t.return;Ot;)switch(Ot.tag){case 5:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Ot=Ot.return}}function gr(t){if(t!==Ot)return!1;if(!Be)return Wp(t),Be=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yh(t.type,t.memoizedProps)),r=!r),r&&rt&&mi(t),Wp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(s===0){rt=_n(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++;t=t.nextSibling}rt=null}}else s===27?(s=rt,Ds(t.type)?(t=bh,bh=null,rt=t):rt=s):rt=Ot?_n(t.stateNode.nextSibling):null;return!0}function yr(){rt=Ot=null,Be=!1}function Zp(){var t=fi;return t!==null&&(Ht===null?Ht=t:Ht.push.apply(Ht,t),fi=null),t}function vr(t){fi===null?fi=[t]:fi.push(t)}var nd=Y(null),pi=null,Gn=null;function xs(t,s,r){J(nd,s._currentValue),s._currentValue=r}function Yn(t){t._currentValue=nd.current,ae(nd)}function sd(t,s,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===r)break;t=t.return}}function id(t,s,r,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var y=d.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=d;for(var S=0;S<s.length;S++)if(_.context===s[S]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),sd(f.return,r,t),l||(y=null);break e}f=_.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),sd(y,r,t),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===t){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function _r(t,s,r,l){t=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var _=d.type;$t(d.pendingProps.value,y.value)||(t!==null?t.push(_):t=[_])}}else if(d===Ue.current){if(y=d.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push($r):t=[$r])}d=d.return}t!==null&&id(s,t,r,l),s.flags|=262144}function fo(t){for(t=t.firstContext;t!==null;){if(!$t(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gi(t){pi=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function kt(t){return Jp(pi,t)}function mo(t,s){return pi===null&&gi(t),Jp(t,s)}function Jp(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Gn===null){if(t===null)throw Error(a(308));Gn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Gn=Gn.next=s;return r}var dw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},hw=n.unstable_scheduleCallback,fw=n.unstable_NormalPriority,ft={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new dw,data:new Map,refCount:0}}function xr(t){t.refCount--,t.refCount===0&&hw(fw,function(){t.controller.abort()})}var br=null,rd=0,ua=0,da=null;function mw(t,s){if(br===null){var r=br=[];rd=0,ua=oh(),da={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rd++,s.then(eg,eg),s}function eg(){if(--rd===0&&br!==null){da!==null&&(da.status="fulfilled");var t=br;br=null,ua=0,da=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function pw(t,s){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var tg=k.S;k.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&mw(t,s),tg!==null&&tg(t,s)};var yi=Y(null);function ld(){var t=yi.current;return t!==null?t:Ze.pooledCache}function po(t,s){s===null?J(yi,yi.current):J(yi,s.pool)}function ng(){var t=ld();return t===null?null:{parent:ft._currentValue,pool:t}}var Sr=Error(a(460)),sg=Error(a(474)),go=Error(a(542)),od={then:function(){}};function ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yo(){}function ag(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(yo,yo),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,lg(t),t;default:if(typeof s.status=="string")s.then(yo,yo);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,lg(t),t}throw wr=s,Sr}}var wr=null;function rg(){if(wr===null)throw Error(a(459));var t=wr;return wr=null,t}function lg(t){if(t===Sr||t===go)throw Error(a(483))}var bs=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ws(t,s,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=oo(t),Kp(t,null,r),s}return lo(t,l,s,r),oo(t)}function Nr(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,ep(t,r)}}function dd(t,s){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?d=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?d=f=s:f=f.next=s}else d=f=s;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var hd=!1;function Er(){if(hd){var t=da;if(t!==null)throw t}}function Tr(t,s,r,l){hd=!1;var d=t.updateQueue;bs=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var S=_,R=S.next;S.next=null,y===null?f=R:y.next=R,y=S;var q=t.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==y&&(_===null?q.firstBaseUpdate=R:_.next=R,q.lastBaseUpdate=S))}if(f!==null){var G=d.baseState;y=0,q=R=S=null,_=f;do{var O=_.lane&-536870913,M=O!==_.lane;if(M?(Le&O)===O:(l&O)===O){O!==0&&O===ua&&(hd=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var xe=t,ye=_;O=s;var Ke=r;switch(ye.tag){case 1:if(xe=ye.payload,typeof xe=="function"){G=xe.call(Ke,G,O);break e}G=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ye.payload,O=typeof xe=="function"?xe.call(Ke,G,O):xe,O==null)break e;G=v({},G,O);break e;case 2:bs=!0}}O=_.callback,O!==null&&(t.flags|=64,M&&(t.flags|=8192),M=d.callbacks,M===null?d.callbacks=[O]:M.push(O))}else M={lane:O,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(R=q=M,S=G):q=q.next=M,y|=O;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;M=_,_=M.next,M.next=null,d.lastBaseUpdate=M,d.shared.pending=null}}while(!0);q===null&&(S=G),d.baseState=S,d.firstBaseUpdate=R,d.lastBaseUpdate=q,f===null&&(d.shared.lanes=0),ks|=y,t.lanes=y,t.memoizedState=G}}function og(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function cg(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)og(r[t],s)}var ha=Y(null),vo=Y(0);function ug(t,s){t=Jn,J(vo,t),J(ha,s),Jn=t|s.baseLanes}function fd(){J(vo,Jn),J(ha,ha.current)}function md(){Jn=vo.current,ae(ha),ae(vo)}var Ns=0,Te=null,Ge=null,dt=null,_o=!1,fa=!1,vi=!1,xo=0,Cr=0,ma=null,gw=0;function ct(){throw Error(a(321))}function pd(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!$t(t[r],s[r]))return!1;return!0}function gd(t,s,r,l,d,f){return Ns=f,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=t===null||t.memoizedState===null?Kg:$g,vi=!1,f=r(l,d),vi=!1,fa&&(f=hg(s,r,l,d)),dg(t),f}function dg(t){k.H=To;var s=Ge!==null&&Ge.next!==null;if(Ns=0,dt=Ge=Te=null,_o=!1,Cr=0,ma=null,s)throw Error(a(300));t===null||_t||(t=t.dependencies,t!==null&&fo(t)&&(_t=!0))}function hg(t,s,r,l){Te=t;var d=0;do{if(fa&&(ma=null),Cr=0,fa=!1,25<=d)throw Error(a(301));if(d+=1,dt=Ge=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=ww,f=s(r,l)}while(fa);return f}function yw(){var t=k.H,s=t.useState()[0];return s=typeof s.then=="function"?jr(s):s,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Te.flags|=1024),s}function yd(){var t=xo!==0;return xo=0,t}function vd(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function _d(t){if(_o){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}_o=!1}Ns=0,dt=Ge=Te=null,fa=!1,Cr=xo=0,ma=null}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Te.memoizedState=dt=t:dt=dt.next=t,dt}function ht(){if(Ge===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var s=dt===null?Te.memoizedState:dt.next;if(s!==null)dt=s,Ge=t;else{if(t===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},dt===null?Te.memoizedState=dt=t:dt=dt.next=t}return dt}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jr(t){var s=Cr;return Cr+=1,ma===null&&(ma=[]),t=ag(ma,t,s),s=Te,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?Kg:$g),t}function bo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jr(t);if(t.$$typeof===W)return kt(t)}throw Error(a(438,String(t)))}function bd(t){var s=null,r=Te.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=xd(),Te.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),l=0;l<t;l++)r[l]=z;return s.index++,r}function Kn(t,s){return typeof s=="function"?s(t):s}function So(t){var s=ht();return Sd(s,Ge,t)}function Sd(t,s,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}s.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{s=d.next;var _=y=null,S=null,R=s,q=!1;do{var G=R.lane&-536870913;if(G!==R.lane?(Le&G)===G:(Ns&G)===G){var O=R.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),G===ua&&(q=!0);else if((Ns&O)===O){R=R.next,O===ua&&(q=!0);continue}else G={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=G,y=f):S=S.next=G,Te.lanes|=O,ks|=O;G=R.action,vi&&r(f,G),f=R.hasEagerState?R.eagerState:r(f,G)}else O={lane:G,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=O,y=f):S=S.next=O,Te.lanes|=G,ks|=G;R=R.next}while(R!==null&&R!==s);if(S===null?y=f:S.next=_,!$t(f,t.memoizedState)&&(_t=!0,q&&(r=da,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wd(t){var s=ht(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,d=r.pending,f=s.memoizedState;if(d!==null){r.pending=null;var y=d=d.next;do f=t(f,y.action),y=y.next;while(y!==d);$t(f,s.memoizedState)||(_t=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),r.lastRenderedState=f}return[f,l]}function fg(t,s,r){var l=Te,d=ht(),f=Be;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=s();var y=!$t((Ge||d).memoizedState,r);y&&(d.memoizedState=r,_t=!0),d=d.queue;var _=gg.bind(null,l,d,t);if(Ar(2048,8,_,[t]),d.getSnapshot!==s||y||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,pa(9,wo(),pg.bind(null,l,d,r,s),null),Ze===null)throw Error(a(349));f||(Ns&124)!==0||mg(l,s,r)}return r}function mg(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Te.updateQueue,s===null?(s=xd(),Te.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function pg(t,s,r,l){s.value=r,s.getSnapshot=l,yg(s)&&vg(t)}function gg(t,s,r){return r(function(){yg(s)&&vg(t)})}function yg(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!$t(t,r)}catch{return!0}}function vg(t){var s=ra(t,2);s!==null&&en(s,t,2)}function Nd(t){var s=zt();if(typeof t=="function"){var r=t;if(t=r(),vi){ys(!0);try{r()}finally{ys(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},s}function _g(t,s,r,l){return t.baseState=r,Sd(t,Ge,typeof l=="function"?l:Kn)}function vw(t,s,r,l,d){if(Eo(t))throw Error(a(485));if(t=s.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};k.T!==null?r(!0):f.isTransition=!1,l(f),r=s.pending,r===null?(f.next=s.pending=f,xg(s,f)):(f.next=r.next,s.pending=r.next=f)}}function xg(t,s){var r=s.action,l=s.payload,d=t.state;if(s.isTransition){var f=k.T,y={};k.T=y;try{var _=r(d,l),S=k.S;S!==null&&S(y,_),bg(t,s,_)}catch(R){Ed(t,s,R)}finally{k.T=f}}else try{f=r(d,l),bg(t,s,f)}catch(R){Ed(t,s,R)}}function bg(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Sg(t,s,l)},function(l){return Ed(t,s,l)}):Sg(t,s,r)}function Sg(t,s,r){s.status="fulfilled",s.value=r,wg(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,xg(t,r)))}function Ed(t,s,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=r,wg(s),s=s.next;while(s!==l)}t.action=null}function wg(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ng(t,s){return s}function Eg(t,s){if(Be){var r=Ze.formState;if(r!==null){e:{var l=Te;if(Be){if(rt){t:{for(var d=rt,f=Rn;d.nodeType!==8;){if(!f){d=null;break t}if(d=_n(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){rt=_n(d.nextSibling),l=d.data==="F!";break e}}mi(l)}l=!1}l&&(s=r[0])}}return r=zt(),r.memoizedState=r.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:s},r.queue=l,r=Fg.bind(null,Te,l),l.dispatch=r,l=Nd(!1),f=Rd.bind(null,Te,!1,l.queue),l=zt(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,r=vw.bind(null,Te,d,f,r),d.dispatch=r,l.memoizedState=t,[s,r,!1]}function Tg(t){var s=ht();return Cg(s,Ge,t)}function Cg(t,s,r){if(s=Sd(t,s,Ng)[0],t=So(Kn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=jr(s)}catch(y){throw y===Sr?go:y}else l=s;s=ht();var d=s.queue,f=d.dispatch;return r!==s.memoizedState&&(Te.flags|=2048,pa(9,wo(),_w.bind(null,d,r),null)),[l,f,t]}function _w(t,s){t.action=s}function jg(t){var s=ht(),r=Ge;if(r!==null)return Cg(s,r,t);ht(),s=s.memoizedState,r=ht();var l=r.queue.dispatch;return r.memoizedState=t,[s,l,!1]}function pa(t,s,r,l){return t={tag:t,create:r,deps:l,inst:s,next:null},s=Te.updateQueue,s===null&&(s=xd(),Te.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,s.lastEffect=t),t}function wo(){return{destroy:void 0,resource:void 0}}function Ag(){return ht().memoizedState}function No(t,s,r,l){var d=zt();l=l===void 0?null:l,Te.flags|=t,d.memoizedState=pa(1|s,wo(),r,l)}function Ar(t,s,r,l){var d=ht();l=l===void 0?null:l;var f=d.memoizedState.inst;Ge!==null&&l!==null&&pd(l,Ge.memoizedState.deps)?d.memoizedState=pa(s,f,r,l):(Te.flags|=t,d.memoizedState=pa(1|s,f,r,l))}function Rg(t,s){No(8390656,8,t,s)}function kg(t,s){Ar(2048,8,t,s)}function Ig(t,s){return Ar(4,2,t,s)}function Og(t,s){return Ar(4,4,t,s)}function Mg(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Dg(t,s,r){r=r!=null?r.concat([t]):null,Ar(4,4,Mg.bind(null,s,t),r)}function Td(){}function Lg(t,s){var r=ht();s=s===void 0?null:s;var l=r.memoizedState;return s!==null&&pd(s,l[1])?l[0]:(r.memoizedState=[t,s],t)}function Ug(t,s){var r=ht();s=s===void 0?null:s;var l=r.memoizedState;if(s!==null&&pd(s,l[1]))return l[0];if(l=t(),vi){ys(!0);try{t()}finally{ys(!1)}}return r.memoizedState=[l,s],l}function Cd(t,s,r){return r===void 0||(Ns&1073741824)!==0?t.memoizedState=s:(t.memoizedState=r,t=By(),Te.lanes|=t,ks|=t,r)}function Pg(t,s,r,l){return $t(r,s)?r:ha.current!==null?(t=Cd(t,r,l),$t(t,s)||(_t=!0),t):(Ns&42)===0?(_t=!0,t.memoizedState=r):(t=By(),Te.lanes|=t,ks|=t,s)}function zg(t,s,r,l,d){var f=Z.p;Z.p=f!==0&&8>f?f:8;var y=k.T,_={};k.T=_,Rd(t,!1,s,r);try{var S=d(),R=k.S;if(R!==null&&R(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var q=pw(S,l);Rr(t,s,q,Jt(t))}else Rr(t,s,l,Jt(t))}catch(G){Rr(t,s,{then:function(){},status:"rejected",reason:G},Jt())}finally{Z.p=f,k.T=y}}function xw(){}function jd(t,s,r,l){if(t.tag!==5)throw Error(a(476));var d=Bg(t).queue;zg(t,d,s,K,r===null?xw:function(){return Hg(t),r(l)})}function Bg(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:K},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Hg(t){var s=Bg(t).next.queue;Rr(t,s,{},Jt())}function Ad(){return kt($r)}function qg(){return ht().memoizedState}function Vg(){return ht().memoizedState}function bw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=Jt();t=Ss(r);var l=ws(s,t,r);l!==null&&(en(l,s,r),Nr(l,s,r)),s={cache:ad()},t.payload=s;return}s=s.return}}function Sw(t,s,r){var l=Jt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Eo(t)?Gg(s,r):(r=Qu(t,s,r,l),r!==null&&(en(r,t,l),Yg(r,s,l)))}function Fg(t,s,r){var l=Jt();Rr(t,s,r,l)}function Rr(t,s,r,l){var d={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Eo(t))Gg(s,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var y=s.lastRenderedState,_=f(y,r);if(d.hasEagerState=!0,d.eagerState=_,$t(_,y))return lo(t,s,d,0),Ze===null&&ro(),!1}catch{}finally{}if(r=Qu(t,s,d,l),r!==null)return en(r,t,l),Yg(r,s,l),!0}return!1}function Rd(t,s,r,l){if(l={lane:2,revertLane:oh(),action:l,hasEagerState:!1,eagerState:null,next:null},Eo(t)){if(s)throw Error(a(479))}else s=Qu(t,r,l,2),s!==null&&en(s,t,2)}function Eo(t){var s=t.alternate;return t===Te||s!==null&&s===Te}function Gg(t,s){fa=_o=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Yg(t,s,r){if((r&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,ep(t,r)}}var To={readContext:kt,use:bo,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},Kg={readContext:kt,use:bo,useCallback:function(t,s){return zt().memoizedState=[t,s===void 0?null:s],t},useContext:kt,useEffect:Rg,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,No(4194308,4,Mg.bind(null,s,t),r)},useLayoutEffect:function(t,s){return No(4194308,4,t,s)},useInsertionEffect:function(t,s){No(4,2,t,s)},useMemo:function(t,s){var r=zt();s=s===void 0?null:s;var l=t();if(vi){ys(!0);try{t()}finally{ys(!1)}}return r.memoizedState=[l,s],l},useReducer:function(t,s,r){var l=zt();if(r!==void 0){var d=r(s);if(vi){ys(!0);try{r(s)}finally{ys(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Sw.bind(null,Te,t),[l.memoizedState,t]},useRef:function(t){var s=zt();return t={current:t},s.memoizedState=t},useState:function(t){t=Nd(t);var s=t.queue,r=Fg.bind(null,Te,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:Td,useDeferredValue:function(t,s){var r=zt();return Cd(r,t,s)},useTransition:function(){var t=Nd(!1);return t=zg.bind(null,Te,t.queue,!0,!1),zt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var l=Te,d=zt();if(Be){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),Ze===null)throw Error(a(349));(Le&124)!==0||mg(l,s,r)}d.memoizedState=r;var f={value:r,getSnapshot:s};return d.queue=f,Rg(gg.bind(null,l,f,t),[t]),l.flags|=2048,pa(9,wo(),pg.bind(null,l,f,r,s),null),r},useId:function(){var t=zt(),s=Ze.identifierPrefix;if(Be){var r=Fn,l=Vn;r=(l&~(1<<32-Kt(l)-1)).toString(32)+r,s="«"+s+"R"+r,r=xo++,0<r&&(s+="H"+r.toString(32)),s+="»"}else r=gw++,s="«"+s+"r"+r.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:Ad,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var s=zt();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Rd.bind(null,Te,!0,r),r.dispatch=s,[t,s]},useMemoCache:bd,useCacheRefresh:function(){return zt().memoizedState=bw.bind(null,Te)}},$g={readContext:kt,use:bo,useCallback:Lg,useContext:kt,useEffect:kg,useImperativeHandle:Dg,useInsertionEffect:Ig,useLayoutEffect:Og,useMemo:Ug,useReducer:So,useRef:Ag,useState:function(){return So(Kn)},useDebugValue:Td,useDeferredValue:function(t,s){var r=ht();return Pg(r,Ge.memoizedState,t,s)},useTransition:function(){var t=So(Kn)[0],s=ht().memoizedState;return[typeof t=="boolean"?t:jr(t),s]},useSyncExternalStore:fg,useId:qg,useHostTransitionStatus:Ad,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,s){var r=ht();return _g(r,Ge,t,s)},useMemoCache:bd,useCacheRefresh:Vg},ww={readContext:kt,use:bo,useCallback:Lg,useContext:kt,useEffect:kg,useImperativeHandle:Dg,useInsertionEffect:Ig,useLayoutEffect:Og,useMemo:Ug,useReducer:wd,useRef:Ag,useState:function(){return wd(Kn)},useDebugValue:Td,useDeferredValue:function(t,s){var r=ht();return Ge===null?Cd(r,t,s):Pg(r,Ge.memoizedState,t,s)},useTransition:function(){var t=wd(Kn)[0],s=ht().memoizedState;return[typeof t=="boolean"?t:jr(t),s]},useSyncExternalStore:fg,useId:qg,useHostTransitionStatus:Ad,useFormState:jg,useActionState:jg,useOptimistic:function(t,s){var r=ht();return Ge!==null?_g(r,Ge,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bd,useCacheRefresh:Vg},ga=null,kr=0;function Co(t){var s=kr;return kr+=1,ga===null&&(ga=[]),ag(ga,t,s)}function Ir(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function jo(t,s){throw s.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Qg(t){var s=t._init;return s(t._payload)}function Xg(t){function s(T,N){if(t){var A=T.deletions;A===null?(T.deletions=[N],T.flags|=16):A.push(N)}}function r(T,N){if(!t)return null;for(;N!==null;)s(T,N),N=N.sibling;return null}function l(T){for(var N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function d(T,N){return T=qn(T,N),T.index=0,T.sibling=null,T}function f(T,N,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<N?(T.flags|=67108866,N):A):(T.flags|=67108866,N)):(T.flags|=1048576,N)}function y(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function _(T,N,A,F){return N===null||N.tag!==6?(N=Wu(A,T.mode,F),N.return=T,N):(N=d(N,A),N.return=T,N)}function S(T,N,A,F){var ue=A.type;return ue===I?q(T,N,A.props.children,F,A.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===$&&Qg(ue)===N.type)?(N=d(N,A.props),Ir(N,A),N.return=T,N):(N=co(A.type,A.key,A.props,null,T.mode,F),Ir(N,A),N.return=T,N)}function R(T,N,A,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==A.containerInfo||N.stateNode.implementation!==A.implementation?(N=Zu(A,T.mode,F),N.return=T,N):(N=d(N,A.children||[]),N.return=T,N)}function q(T,N,A,F,ue){return N===null||N.tag!==7?(N=ui(A,T.mode,F,ue),N.return=T,N):(N=d(N,A),N.return=T,N)}function G(T,N,A){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wu(""+N,T.mode,A),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return A=co(N.type,N.key,N.props,null,T.mode,A),Ir(A,N),A.return=T,A;case E:return N=Zu(N,T.mode,A),N.return=T,N;case $:var F=N._init;return N=F(N._payload),G(T,N,A)}if(Q(N)||U(N))return N=ui(N,T.mode,A,null),N.return=T,N;if(typeof N.then=="function")return G(T,Co(N),A);if(N.$$typeof===W)return G(T,mo(T,N),A);jo(T,N)}return null}function O(T,N,A,F){var ue=N!==null?N.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ue!==null?null:_(T,N,""+A,F);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return A.key===ue?S(T,N,A,F):null;case E:return A.key===ue?R(T,N,A,F):null;case $:return ue=A._init,A=ue(A._payload),O(T,N,A,F)}if(Q(A)||U(A))return ue!==null?null:q(T,N,A,F,null);if(typeof A.then=="function")return O(T,N,Co(A),F);if(A.$$typeof===W)return O(T,N,mo(T,A),F);jo(T,A)}return null}function M(T,N,A,F,ue){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return T=T.get(A)||null,_(N,T,""+F,ue);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return T=T.get(F.key===null?A:F.key)||null,S(N,T,F,ue);case E:return T=T.get(F.key===null?A:F.key)||null,R(N,T,F,ue);case $:var je=F._init;return F=je(F._payload),M(T,N,A,F,ue)}if(Q(F)||U(F))return T=T.get(A)||null,q(N,T,F,ue,null);if(typeof F.then=="function")return M(T,N,A,Co(F),ue);if(F.$$typeof===W)return M(T,N,A,mo(N,F),ue);jo(N,F)}return null}function xe(T,N,A,F){for(var ue=null,je=null,pe=N,ve=N=0,bt=null;pe!==null&&ve<A.length;ve++){pe.index>ve?(bt=pe,pe=null):bt=pe.sibling;var Pe=O(T,pe,A[ve],F);if(Pe===null){pe===null&&(pe=bt);break}t&&pe&&Pe.alternate===null&&s(T,pe),N=f(Pe,N,ve),je===null?ue=Pe:je.sibling=Pe,je=Pe,pe=bt}if(ve===A.length)return r(T,pe),Be&&hi(T,ve),ue;if(pe===null){for(;ve<A.length;ve++)pe=G(T,A[ve],F),pe!==null&&(N=f(pe,N,ve),je===null?ue=pe:je.sibling=pe,je=pe);return Be&&hi(T,ve),ue}for(pe=l(pe);ve<A.length;ve++)bt=M(pe,T,ve,A[ve],F),bt!==null&&(t&&bt.alternate!==null&&pe.delete(bt.key===null?ve:bt.key),N=f(bt,N,ve),je===null?ue=bt:je.sibling=bt,je=bt);return t&&pe.forEach(function(Bs){return s(T,Bs)}),Be&&hi(T,ve),ue}function ye(T,N,A,F){if(A==null)throw Error(a(151));for(var ue=null,je=null,pe=N,ve=N=0,bt=null,Pe=A.next();pe!==null&&!Pe.done;ve++,Pe=A.next()){pe.index>ve?(bt=pe,pe=null):bt=pe.sibling;var Bs=O(T,pe,Pe.value,F);if(Bs===null){pe===null&&(pe=bt);break}t&&pe&&Bs.alternate===null&&s(T,pe),N=f(Bs,N,ve),je===null?ue=Bs:je.sibling=Bs,je=Bs,pe=bt}if(Pe.done)return r(T,pe),Be&&hi(T,ve),ue;if(pe===null){for(;!Pe.done;ve++,Pe=A.next())Pe=G(T,Pe.value,F),Pe!==null&&(N=f(Pe,N,ve),je===null?ue=Pe:je.sibling=Pe,je=Pe);return Be&&hi(T,ve),ue}for(pe=l(pe);!Pe.done;ve++,Pe=A.next())Pe=M(pe,T,ve,Pe.value,F),Pe!==null&&(t&&Pe.alternate!==null&&pe.delete(Pe.key===null?ve:Pe.key),N=f(Pe,N,ve),je===null?ue=Pe:je.sibling=Pe,je=Pe);return t&&pe.forEach(function(NN){return s(T,NN)}),Be&&hi(T,ve),ue}function Ke(T,N,A,F){if(typeof A=="object"&&A!==null&&A.type===I&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case b:e:{for(var ue=A.key;N!==null;){if(N.key===ue){if(ue=A.type,ue===I){if(N.tag===7){r(T,N.sibling),F=d(N,A.props.children),F.return=T,T=F;break e}}else if(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===$&&Qg(ue)===N.type){r(T,N.sibling),F=d(N,A.props),Ir(F,A),F.return=T,T=F;break e}r(T,N);break}else s(T,N);N=N.sibling}A.type===I?(F=ui(A.props.children,T.mode,F,A.key),F.return=T,T=F):(F=co(A.type,A.key,A.props,null,T.mode,F),Ir(F,A),F.return=T,T=F)}return y(T);case E:e:{for(ue=A.key;N!==null;){if(N.key===ue)if(N.tag===4&&N.stateNode.containerInfo===A.containerInfo&&N.stateNode.implementation===A.implementation){r(T,N.sibling),F=d(N,A.children||[]),F.return=T,T=F;break e}else{r(T,N);break}else s(T,N);N=N.sibling}F=Zu(A,T.mode,F),F.return=T,T=F}return y(T);case $:return ue=A._init,A=ue(A._payload),Ke(T,N,A,F)}if(Q(A))return xe(T,N,A,F);if(U(A)){if(ue=U(A),typeof ue!="function")throw Error(a(150));return A=ue.call(A),ye(T,N,A,F)}if(typeof A.then=="function")return Ke(T,N,Co(A),F);if(A.$$typeof===W)return Ke(T,N,mo(T,A),F);jo(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,N!==null&&N.tag===6?(r(T,N.sibling),F=d(N,A),F.return=T,T=F):(r(T,N),F=Wu(A,T.mode,F),F.return=T,T=F),y(T)):r(T,N)}return function(T,N,A,F){try{kr=0;var ue=Ke(T,N,A,F);return ga=null,ue}catch(pe){if(pe===Sr||pe===go)throw pe;var je=Qt(29,pe,null,T.mode);return je.lanes=F,je.return=T,je}finally{}}}var ya=Xg(!0),Wg=Xg(!1),dn=Y(null),kn=null;function Es(t){var s=t.alternate;J(mt,mt.current&1),J(dn,t),kn===null&&(s===null||ha.current!==null||s.memoizedState!==null)&&(kn=t)}function Zg(t){if(t.tag===22){if(J(mt,mt.current),J(dn,t),kn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(kn=t)}}else Ts()}function Ts(){J(mt,mt.current),J(dn,dn.current)}function $n(t){ae(dn),kn===t&&(kn=null),ae(mt)}var mt=Y(0);function Ao(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||xh(r)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function kd(t,s,r,l){s=t.memoizedState,r=r(l,s),r=r==null?s:v({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Id={enqueueSetState:function(t,s,r){t=t._reactInternals;var l=Jt(),d=Ss(l);d.payload=s,r!=null&&(d.callback=r),s=ws(t,d,l),s!==null&&(en(s,t,l),Nr(s,t,l))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var l=Jt(),d=Ss(l);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=ws(t,d,l),s!==null&&(en(s,t,l),Nr(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Jt(),l=Ss(r);l.tag=2,s!=null&&(l.callback=s),s=ws(t,l,r),s!==null&&(en(s,t,r),Nr(s,t,r))}};function Jg(t,s,r,l,d,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):s.prototype&&s.prototype.isPureReactComponent?!mr(r,l)||!mr(d,f):!0}function ey(t,s,r,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,l),s.state!==t&&Id.enqueueReplaceState(s,s.state,null)}function _i(t,s){var r=s;if("ref"in s){r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}if(t=t.defaultProps){r===s&&(r=v({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}var Ro=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ty(t){Ro(t)}function ny(t){console.error(t)}function sy(t){Ro(t)}function ko(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,s,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Od(t,s,r){return r=Ss(r),r.tag=3,r.payload={element:null},r.callback=function(){ko(t,s)},r}function ay(t){return t=Ss(t),t.tag=3,t}function ry(t,s,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){iy(s,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){iy(s,r,l),typeof d!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function Nw(t,s,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=r.alternate,s!==null&&_r(s,r,d,!0),r=dn.current,r!==null){switch(r.tag){case 13:return kn===null?sh():r.alternate===null&&lt===0&&(lt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===od?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([l]):s.add(l),ah(t,l,d)),!1;case 22:return r.flags|=65536,l===od?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([l]):r.add(l)),ah(t,l,d)),!1}throw Error(a(435,r.tag))}return ah(t,l,d),sh(),!1}if(Be)return s=dn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==td&&(t=Error(a(422),{cause:l}),vr(ln(t,r)))):(l!==td&&(s=Error(a(423),{cause:l}),vr(ln(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=ln(l,r),d=Od(t.stateNode,l,d),dd(t,d),lt!==4&&(lt=2)),!1;var f=Error(a(520),{cause:l});if(f=ln(f,r),zr===null?zr=[f]:zr.push(f),lt!==4&&(lt=2),s===null)return!0;l=ln(l,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=Od(r.stateNode,l,t),dd(r,t),!1;case 1:if(s=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return r.flags|=65536,d&=-d,r.lanes|=d,d=ay(d),ry(d,t,r,l),dd(r,d),!1}r=r.return}while(r!==null);return!1}var ly=Error(a(461)),_t=!1;function Nt(t,s,r,l){s.child=t===null?Wg(s,null,r,l):ya(s,t.child,r,l)}function oy(t,s,r,l,d){r=r.render;var f=s.ref;if("ref"in l){var y={};for(var _ in l)_!=="ref"&&(y[_]=l[_])}else y=l;return gi(s),l=gd(t,s,r,y,f,d),_=yd(),t!==null&&!_t?(vd(t,s,d),Qn(t,s,d)):(Be&&_&&Ju(s),s.flags|=1,Nt(t,s,l,d),s.child)}function cy(t,s,r,l,d){if(t===null){var f=r.type;return typeof f=="function"&&!Xu(f)&&f.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=f,uy(t,s,f,l,d)):(t=co(r.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!Hd(t,d)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:mr,r(y,l)&&t.ref===s.ref)return Qn(t,s,d)}return s.flags|=1,t=qn(f,l),t.ref=s.ref,t.return=s,s.child=t}function uy(t,s,r,l,d){if(t!==null){var f=t.memoizedProps;if(mr(f,l)&&t.ref===s.ref)if(_t=!1,s.pendingProps=l=f,Hd(t,d))(t.flags&131072)!==0&&(_t=!0);else return s.lanes=t.lanes,Qn(t,s,d)}return Md(t,s,r,l,d)}function dy(t,s,r){var l=s.pendingProps,d=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(d=s.child=t.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;s.childLanes=f&~l}else s.childLanes=0,s.child=null;return hy(t,s,l,r)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&po(s,f!==null?f.cachePool:null),f!==null?ug(s,f):fd(),Zg(s);else return s.lanes=s.childLanes=536870912,hy(t,s,f!==null?f.baseLanes|r:r,r)}else f!==null?(po(s,f.cachePool),ug(s,f),Ts(),s.memoizedState=null):(t!==null&&po(s,null),fd(),Ts());return Nt(t,s,d,r),s.child}function hy(t,s,r,l){var d=ld();return d=d===null?null:{parent:ft._currentValue,pool:d},s.memoizedState={baseLanes:r,cachePool:d},t!==null&&po(s,null),fd(),Zg(s),t!==null&&_r(t,s,l,!0),null}function Io(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function Md(t,s,r,l,d){return gi(s),r=gd(t,s,r,l,void 0,d),l=yd(),t!==null&&!_t?(vd(t,s,d),Qn(t,s,d)):(Be&&l&&Ju(s),s.flags|=1,Nt(t,s,r,d),s.child)}function fy(t,s,r,l,d,f){return gi(s),s.updateQueue=null,r=hg(s,l,r,d),dg(t),l=yd(),t!==null&&!_t?(vd(t,s,f),Qn(t,s,f)):(Be&&l&&Ju(s),s.flags|=1,Nt(t,s,r,f),s.child)}function my(t,s,r,l,d){if(gi(s),s.stateNode===null){var f=la,y=r.contextType;typeof y=="object"&&y!==null&&(f=kt(y)),f=new r(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Id,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},cd(s),y=r.contextType,f.context=typeof y=="object"&&y!==null?kt(y):la,f.state=s.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(kd(s,r,y,l),f.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Id.enqueueReplaceState(f,f.state,null),Tr(s,l,f,d),Er(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var _=s.memoizedProps,S=_i(r,_);f.props=S;var R=f.context,q=r.contextType;y=la,typeof q=="object"&&q!==null&&(y=kt(q));var G=r.getDerivedStateFromProps;q=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==y)&&ey(s,f,l,y),bs=!1;var O=s.memoizedState;f.state=O,Tr(s,l,f,d),Er(),R=s.memoizedState,_||O!==R||bs?(typeof G=="function"&&(kd(s,r,G,l),R=s.memoizedState),(S=bs||Jg(s,r,S,l,O,R,y))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=R),f.props=l,f.state=R,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,ud(t,s),y=s.memoizedProps,q=_i(r,y),f.props=q,G=s.pendingProps,O=f.context,R=r.contextType,S=la,typeof R=="object"&&R!==null&&(S=kt(R)),_=r.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==G||O!==S)&&ey(s,f,l,S),bs=!1,O=s.memoizedState,f.state=O,Tr(s,l,f,d),Er();var M=s.memoizedState;y!==G||O!==M||bs||t!==null&&t.dependencies!==null&&fo(t.dependencies)?(typeof _=="function"&&(kd(s,r,_,l),M=s.memoizedState),(q=bs||Jg(s,r,q,l,O,M,S)||t!==null&&t.dependencies!==null&&fo(t.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,M,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,M,S)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=M),f.props=l,f.state=M,f.context=S,l=q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&O===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,Io(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=ya(s,t.child,null,d),s.child=ya(s,null,r,d)):Nt(t,s,r,d),s.memoizedState=f.state,t=s.child):t=Qn(t,s,d),t}function py(t,s,r,l){return yr(),s.flags|=256,Nt(t,s,r,l),s.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(t){return{baseLanes:t,cachePool:ng()}}function Ud(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=hn),t}function gy(t,s,r){var l=s.pendingProps,d=!1,f=(s.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),y&&(d=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(d?Es(s):Ts(),Be){var _=rt,S;if(S=_){e:{for(S=_,_=Rn;S.nodeType!==8;){if(!_){_=null;break e}if(S=_n(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(s.memoizedState={dehydrated:_,treeContext:di!==null?{id:Vn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},S=Qt(18,null,null,0),S.stateNode=_,S.return=s,s.child=S,Ot=s,rt=null,S=!0):S=!1}S||mi(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return xh(_)?s.lanes=32:s.lanes=536870912,null;$n(s)}return _=l.children,l=l.fallback,d?(Ts(),d=s.mode,_=Oo({mode:"hidden",children:_},d),l=ui(l,d,r,null),_.return=s,l.return=s,_.sibling=l,s.child=_,d=s.child,d.memoizedState=Ld(r),d.childLanes=Ud(t,y,r),s.memoizedState=Dd,l):(Es(s),Pd(s,_))}if(S=t.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(f)s.flags&256?(Es(s),s.flags&=-257,s=zd(t,s,r)):s.memoizedState!==null?(Ts(),s.child=t.child,s.flags|=128,s=null):(Ts(),d=l.fallback,_=s.mode,l=Oo({mode:"visible",children:l.children},_),d=ui(d,_,r,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,ya(s,t.child,null,r),l=s.child,l.memoizedState=Ld(r),l.childLanes=Ud(t,y,r),s.memoizedState=Dd,s=d);else if(Es(s),xh(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var R=y.dgst;y=R,l=Error(a(419)),l.stack="",l.digest=y,vr({value:l,source:null,stack:null}),s=zd(t,s,r)}else if(_t||_r(t,s,r,!1),y=(r&t.childLanes)!==0,_t||y){if(y=Ze,y!==null&&(l=r&-r,l=(l&42)!==0?1:bu(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,ra(t,l),en(y,t,l),ly;_.data==="$?"||sh(),s=zd(t,s,r)}else _.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=S.treeContext,rt=_n(_.nextSibling),Ot=s,Be=!0,fi=null,Rn=!1,t!==null&&(cn[un++]=Vn,cn[un++]=Fn,cn[un++]=di,Vn=t.id,Fn=t.overflow,di=s),s=Pd(s,l.children),s.flags|=4096);return s}return d?(Ts(),d=l.fallback,_=s.mode,S=t.child,R=S.sibling,l=qn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,R!==null?d=qn(R,d):(d=ui(d,_,r,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,_=t.child.memoizedState,_===null?_=Ld(r):(S=_.cachePool,S!==null?(R=ft._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=ng(),_={baseLanes:_.baseLanes|r,cachePool:S}),d.memoizedState=_,d.childLanes=Ud(t,y,r),s.memoizedState=Dd,l):(Es(s),r=t.child,t=r.sibling,r=qn(r,{mode:"visible",children:l.children}),r.return=s,r.sibling=null,t!==null&&(y=s.deletions,y===null?(s.deletions=[t],s.flags|=16):y.push(t)),s.child=r,s.memoizedState=null,r)}function Pd(t,s){return s=Oo({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Oo(t,s){return t=Qt(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zd(t,s,r){return ya(s,t.child,null,r),t=Pd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function yy(t,s,r){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),sd(t.return,s,r)}function Bd(t,s,r,l,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=d)}function vy(t,s,r){var l=s.pendingProps,d=l.revealOrder,f=l.tail;if(Nt(t,s,l.children,r),l=mt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,r,s);else if(t.tag===19)yy(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(mt,l),d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&Ao(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),Bd(s,!1,d,r,f);break;case"backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Ao(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}Bd(s,!0,r,null,f);break;case"together":Bd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qn(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),ks|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(_r(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,r=qn(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=qn(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Hd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&fo(t)))}function Ew(t,s,r){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),xs(s,ft,t.memoizedState.cache),yr();break;case 27:case 5:ms(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:xs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Es(s),s.flags|=128,null):(r&s.child.childLanes)!==0?gy(t,s,r):(Es(s),t=Qn(t,s,r),t!==null?t.sibling:null);Es(s);break;case 19:var d=(t.flags&128)!==0;if(l=(r&s.childLanes)!==0,l||(_r(t,s,r,!1),l=(r&s.childLanes)!==0),d){if(l)return vy(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(mt,mt.current),l)break;return null;case 22:case 23:return s.lanes=0,dy(t,s,r);case 24:xs(s,ft,t.memoizedState.cache)}return Qn(t,s,r)}function _y(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)_t=!0;else{if(!Hd(t,r)&&(s.flags&128)===0)return _t=!1,Ew(t,s,r);_t=(t.flags&131072)!==0}else _t=!1,Be&&(s.flags&1048576)!==0&&Qp(s,ho,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")Xu(l)?(t=_i(l,t),s.tag=1,s=my(null,s,l,t,r)):(s.tag=0,s=Md(null,s,l,t,r));else{if(l!=null){if(d=l.$$typeof,d===se){s.tag=11,s=oy(null,s,l,t,r);break e}else if(d===oe){s.tag=14,s=cy(null,s,l,t,r);break e}}throw s=V(l)||l,Error(a(306,s,""))}}return s;case 0:return Md(t,s,s.type,s.pendingProps,r);case 1:return l=s.type,d=_i(l,s.pendingProps),my(t,s,l,d,r);case 3:e:{if(Qe(s,s.stateNode.containerInfo),t===null)throw Error(a(387));l=s.pendingProps;var f=s.memoizedState;d=f.element,ud(t,s),Tr(s,l,null,r);var y=s.memoizedState;if(l=y.cache,xs(s,ft,l),l!==f.cache&&id(s,[ft],r,!0),Er(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=py(t,s,l,r);break e}else if(l!==d){d=ln(Error(a(424)),s),vr(d),s=py(t,s,l,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=_n(t.firstChild),Ot=s,Be=!0,fi=null,Rn=!0,r=Wg(s,null,l,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(yr(),l===d){s=Qn(t,s,r);break e}Nt(t,s,l,r)}s=s.child}return s;case 26:return Io(t,s),t===null?(r=wv(s.type,null,s.pendingProps,null))?s.memoizedState=r:Be||(r=s.type,t=s.pendingProps,l=Ko(Se.current).createElement(r),l[Rt]=s,l[Ut]=t,Tt(l,r,t),vt(l),s.stateNode=l):s.memoizedState=wv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ms(s),t===null&&Be&&(l=s.stateNode=xv(s.type,s.pendingProps,Se.current),Ot=s,Rn=!0,d=rt,Ds(s.type)?(bh=d,rt=_n(l.firstChild)):rt=d),Nt(t,s,s.pendingProps.children,r),Io(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((d=l=rt)&&(l=Jw(l,s.type,s.pendingProps,Rn),l!==null?(s.stateNode=l,Ot=s,rt=_n(l.firstChild),Rn=!1,d=!0):d=!1),d||mi(s)),ms(s),d=s.type,f=s.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,yh(d,f)?l=null:y!==null&&yh(d,y)&&(s.flags|=32),s.memoizedState!==null&&(d=gd(t,s,yw,null,null,r),$r._currentValue=d),Io(t,s),Nt(t,s,l,r),s.child;case 6:return t===null&&Be&&((t=r=rt)&&(r=eN(r,s.pendingProps,Rn),r!==null?(s.stateNode=r,Ot=s,rt=null,t=!0):t=!1),t||mi(s)),null;case 13:return gy(t,s,r);case 4:return Qe(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=ya(s,null,l,r):Nt(t,s,l,r),s.child;case 11:return oy(t,s,s.type,s.pendingProps,r);case 7:return Nt(t,s,s.pendingProps,r),s.child;case 8:return Nt(t,s,s.pendingProps.children,r),s.child;case 12:return Nt(t,s,s.pendingProps.children,r),s.child;case 10:return l=s.pendingProps,xs(s,s.type,l.value),Nt(t,s,l.children,r),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,gi(s),d=kt(d),l=l(d),s.flags|=1,Nt(t,s,l,r),s.child;case 14:return cy(t,s,s.type,s.pendingProps,r);case 15:return uy(t,s,s.type,s.pendingProps,r);case 19:return vy(t,s,r);case 31:return l=s.pendingProps,r=s.mode,l={mode:l.mode,children:l.children},t===null?(r=Oo(l,r),r.ref=s.ref,s.child=r,r.return=s,s=r):(r=qn(t.child,l),r.ref=s.ref,s.child=r,r.return=s,s=r),s;case 22:return dy(t,s,r);case 24:return gi(s),l=kt(ft),t===null?(d=ld(),d===null&&(d=Ze,f=ad(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=r),d=f),s.memoizedState={parent:l,cache:d},cd(s),xs(s,ft,d)):((t.lanes&r)!==0&&(ud(t,s),Tr(s,null,null,r),Er()),d=t.memoizedState,f=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),xs(s,ft,l)):(l=f.cache,xs(s,ft,l),l!==d.cache&&id(s,[ft],r,!0))),Nt(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Xn(t){t.flags|=4}function xy(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jv(s)){if(s=dn.current,s!==null&&((Le&4194048)===Le?kn!==null:(Le&62914560)!==Le&&(Le&536870912)===0||s!==kn))throw wr=od,sg;t.flags|=8192}}function Mo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Zm():536870912,t.lanes|=s,ba|=s)}function Or(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=r,s}function Tw(t,s,r){var l=s.pendingProps;switch(ed(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return r=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Yn(ft),Gt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gr(s)?Xn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zp())),it(s),null;case 26:return r=s.memoizedState,t===null?(Xn(s),r!==null?(it(s),xy(s,r)):(it(s),s.flags&=-16777217)):r?r!==t.memoizedState?(Xn(s),it(s),xy(s,r)):(it(s),s.flags&=-16777217):(t.memoizedProps!==l&&Xn(s),it(s),s.flags&=-16777217),null;case 27:ps(s),r=Se.current;var d=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Xn(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return it(s),null}t=ce.current,gr(s)?Xp(s):(t=xv(d,l,r),s.stateNode=t,Xn(s))}return it(s),null;case 5:if(ps(s),r=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Xn(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return it(s),null}if(t=ce.current,gr(s))Xp(s);else{switch(d=Ko(Se.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(r,{is:l.is}):d.createElement(r)}}t[Rt]=s,t[Ut]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=t;e:switch(Tt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xn(s)}}return it(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&Xn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(a(166));if(t=Se.current,gr(s)){if(t=s.stateNode,r=s.memoizedProps,l=null,d=Ot,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Rt]=s,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||fv(t.nodeValue,r)),t||mi(s)}else t=Ko(t).createTextNode(l),t[Rt]=s,s.stateNode=t}return it(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=gr(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Rt]=s}else yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),d=!1}else d=Zp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?($n(s),s):($n(s),null)}if($n(s),(s.flags&128)!==0)return s.lanes=r,s;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return r!==t&&r&&(s.child.flags|=8192),Mo(s,s.updateQueue),it(s),null;case 4:return Gt(),t===null&&hh(s.stateNode.containerInfo),it(s),null;case 10:return Yn(s.type),it(s),null;case 19:if(ae(mt),d=s.memoizedState,d===null)return it(s),null;if(l=(s.flags&128)!==0,f=d.rendering,f===null)if(l)Or(d,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=Ao(t),f!==null){for(s.flags|=128,Or(d,!1),t=f.updateQueue,s.updateQueue=t,Mo(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)$p(r,t),r=r.sibling;return J(mt,mt.current&1|2),s.child}t=t.sibling}d.tail!==null&&An()>Uo&&(s.flags|=128,l=!0,Or(d,!1),s.lanes=4194304)}else{if(!l)if(t=Ao(f),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,Mo(s,t),Or(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Be)return it(s),null}else 2*An()-d.renderingStartTime>Uo&&r!==536870912&&(s.flags|=128,l=!0,Or(d,!1),s.lanes=4194304);d.isBackwards?(f.sibling=s.child,s.child=f):(t=d.last,t!==null?t.sibling=f:s.child=f,d.last=f)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=An(),s.sibling=null,t=mt.current,J(mt,l?t&1|2:t&1),s):(it(s),null);case 22:case 23:return $n(s),md(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(r&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),r=s.updateQueue,r!==null&&Mo(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048),t!==null&&ae(yi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Yn(ft),it(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Cw(t,s){switch(ed(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Yn(ft),Gt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ps(s),null;case 13:if($n(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));yr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ae(mt),null;case 4:return Gt(),null;case 10:return Yn(s.type),null;case 22:case 23:return $n(s),md(),t!==null&&ae(yi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Yn(ft),null;case 25:return null;default:return null}}function by(t,s){switch(ed(s),s.tag){case 3:Yn(ft),Gt();break;case 26:case 27:case 5:ps(s);break;case 4:Gt();break;case 13:$n(s);break;case 19:ae(mt);break;case 10:Yn(s.type);break;case 22:case 23:$n(s),md(),t!==null&&ae(yi);break;case 24:Yn(ft)}}function Mr(t,s){try{var r=s.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==d)}}catch(_){Xe(s,s.return,_)}}function Cs(t,s,r){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var y=l.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,d=s;var S=r,R=_;try{R()}catch(q){Xe(d,S,q)}}}l=l.next}while(l!==f)}}catch(q){Xe(s,s.return,q)}}function Sy(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{cg(s,r)}catch(l){Xe(t,t.return,l)}}}function wy(t,s,r){r.props=_i(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(t,s,l)}}function Dr(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(d){Xe(t,s,d)}}function In(t,s){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){Xe(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Xe(t,s,d)}else r.current=null}function Ny(t){var s=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){Xe(t,t.return,d)}}function qd(t,s,r){try{var l=t.stateNode;$w(l,t.type,r,s),l[Ut]=s}catch(d){Xe(t,t.return,d)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ds(t.type)||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fd(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Yo));else if(l!==4&&(l===27&&Ds(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(Fd(t,s,r),t=t.sibling;t!==null;)Fd(t,s,r),t=t.sibling}function Do(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(l!==4&&(l===27&&Ds(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Do(t,s,r),t=t.sibling;t!==null;)Do(t,s,r),t=t.sibling}function Ty(t){var s=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Tt(s,l,r),s[Rt]=t,s[Ut]=r}catch(f){Xe(t,t.return,f)}}var Wn=!1,ut=!1,Gd=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,xt=null;function jw(t,s){if(t=t.containerInfo,ph=Jo,t=Pp(t),Vu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,_=-1,S=-1,R=0,q=0,G=t,O=null;t:for(;;){for(var M;G!==r||d!==0&&G.nodeType!==3||(_=y+d),G!==f||l!==0&&G.nodeType!==3||(S=y+l),G.nodeType===3&&(y+=G.nodeValue.length),(M=G.firstChild)!==null;)O=G,G=M;for(;;){if(G===t)break t;if(O===r&&++R===d&&(_=y),O===f&&++q===l&&(S=y),(M=G.nextSibling)!==null)break;G=O,O=G.parentNode}G=M}r=_===-1||S===-1?null:{start:_,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(gh={focusedElem:t,selectionRange:r},Jo=!1,xt=s;xt!==null;)if(s=xt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,xt=t;else for(;xt!==null;){switch(s=xt,f=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=s,d=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var xe=_i(r.type,d,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(xe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)_h(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_h(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,xt=t;break}xt=s.return}}function jy(t,s,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:js(t,r),l&4&&Mr(5,r);break;case 1:if(js(t,r),l&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(y){Xe(r,r.return,y)}else{var d=_i(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xe(r,r.return,y)}}l&64&&Sy(r),l&512&&Dr(r,r.return);break;case 3:if(js(t,r),l&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{cg(t,s)}catch(y){Xe(r,r.return,y)}}break;case 27:s===null&&l&4&&Ty(r);case 26:case 5:js(t,r),s===null&&l&4&&Ny(r),l&512&&Dr(r,r.return);break;case 12:js(t,r);break;case 13:js(t,r),l&4&&ky(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Uw.bind(null,r),tN(t,r))));break;case 22:if(l=r.memoizedState!==null||Wn,!l){s=s!==null&&s.memoizedState!==null||ut,d=Wn;var f=ut;Wn=l,(ut=s)&&!f?As(t,r,(r.subtreeFlags&8772)!==0):js(t,r),Wn=d,ut=f}break;case 30:break;default:js(t,r)}}function Ay(t){var s=t.alternate;s!==null&&(t.alternate=null,Ay(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Nu(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,Bt=!1;function Zn(t,s,r){for(r=r.child;r!==null;)Ry(t,s,r),r=r.sibling}function Ry(t,s,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(nr,r)}catch{}switch(r.tag){case 26:ut||In(r,s),Zn(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ut||In(r,s);var l=tt,d=Bt;Ds(r.type)&&(tt=r.stateNode,Bt=!1),Zn(t,s,r),Fr(r.stateNode),tt=l,Bt=d;break;case 5:ut||In(r,s);case 6:if(l=tt,d=Bt,tt=null,Zn(t,s,r),tt=l,Bt=d,tt!==null)if(Bt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(r.stateNode)}catch(f){Xe(r,s,f)}else try{tt.removeChild(r.stateNode)}catch(f){Xe(r,s,f)}break;case 18:tt!==null&&(Bt?(t=tt,vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Zr(t)):vv(tt,r.stateNode));break;case 4:l=tt,d=Bt,tt=r.stateNode.containerInfo,Bt=!0,Zn(t,s,r),tt=l,Bt=d;break;case 0:case 11:case 14:case 15:ut||Cs(2,r,s),ut||Cs(4,r,s),Zn(t,s,r);break;case 1:ut||(In(r,s),l=r.stateNode,typeof l.componentWillUnmount=="function"&&wy(r,s,l)),Zn(t,s,r);break;case 21:Zn(t,s,r);break;case 22:ut=(l=ut)||r.memoizedState!==null,Zn(t,s,r),ut=l;break;default:Zn(t,s,r)}}function ky(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zr(t)}catch(r){Xe(s,s.return,r)}}function Aw(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Cy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Cy),s;default:throw Error(a(435,t.tag))}}function Yd(t,s){var r=Aw(t);s.forEach(function(l){var d=Pw.bind(null,t,l);r.has(l)||(r.add(l),l.then(d,d))})}function Xt(t,s){var r=s.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],f=t,y=s,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(Ds(_.type)){tt=_.stateNode,Bt=!1;break e}break;case 5:tt=_.stateNode,Bt=!1;break e;case 3:case 4:tt=_.stateNode.containerInfo,Bt=!0;break e}_=_.return}if(tt===null)throw Error(a(160));Ry(f,y,d),tt=null,Bt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Iy(s,t),s=s.sibling}var vn=null;function Iy(t,s){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xt(s,t),Wt(t),l&4&&(Cs(3,t,t.return),Mr(3,t),Cs(5,t,t.return));break;case 1:Xt(s,t),Wt(t),l&512&&(ut||r===null||In(r,r.return)),l&64&&Wn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=vn;if(Xt(s,t),Wt(t),l&512&&(ut||r===null||In(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[ar]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Tt(f,l,r),f[Rt]=t,vt(f),l=f;break e;case"link":var y=Tv("link","href",d).get(l+(r.href||""));if(y){for(var _=0;_<y.length;_++)if(f=y[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(_,1);break t}}f=d.createElement(l),Tt(f,l,r),d.head.appendChild(f);break;case"meta":if(y=Tv("meta","content",d).get(l+(r.content||""))){for(_=0;_<y.length;_++)if(f=y[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(_,1);break t}}f=d.createElement(l),Tt(f,l,r),d.head.appendChild(f);break;default:throw Error(a(468,l))}f[Rt]=t,vt(f),l=f}t.stateNode=l}else Cv(d,t.type,t.stateNode);else t.stateNode=Ev(d,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Cv(d,t.type,t.stateNode):Ev(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Xt(s,t),Wt(t),l&512&&(ut||r===null||In(r,r.return)),r!==null&&l&4&&qd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Xt(s,t),Wt(t),l&512&&(ut||r===null||In(r,r.return)),t.flags&32){d=t.stateNode;try{Ji(d,"")}catch(M){Xe(t,t.return,M)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,qd(t,d,r!==null?r.memoizedProps:d)),l&1024&&(Gd=!0);break;case 6:if(Xt(s,t),Wt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(M){Xe(t,t.return,M)}}break;case 3:if(Xo=null,d=vn,vn=$o(s.containerInfo),Xt(s,t),vn=d,Wt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Zr(s.containerInfo)}catch(M){Xe(t,t.return,M)}Gd&&(Gd=!1,Oy(t));break;case 4:l=vn,vn=$o(t.stateNode.containerInfo),Xt(s,t),Wt(t),vn=l;break;case 12:Xt(s,t),Wt(t);break;case 13:Xt(s,t),Wt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Zd=An()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yd(t,l)));break;case 22:d=t.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,R=Wn,q=ut;if(Wn=R||d,ut=q||S,Xt(s,t),ut=q,Wn=R,Wt(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||S||Wn||ut||xi(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){S=r=s;try{if(f=S.stateNode,d)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=S.stateNode;var G=S.memoizedProps.style,O=G!=null&&G.hasOwnProperty("display")?G.display:null;_.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(M){Xe(S,S.return,M)}}}else if(s.tag===6){if(r===null){S=s;try{S.stateNode.nodeValue=d?"":S.memoizedProps}catch(M){Xe(S,S.return,M)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Yd(t,r))));break;case 19:Xt(s,t),Wt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yd(t,l)));break;case 30:break;case 21:break;default:Xt(s,t),Wt(t)}}function Wt(t){var s=t.flags;if(s&2){try{for(var r,l=t.return;l!==null;){if(Ey(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,f=Vd(t);Do(t,f,d);break;case 5:var y=r.stateNode;r.flags&32&&(Ji(y,""),r.flags&=-33);var _=Vd(t);Do(t,_,y);break;case 3:case 4:var S=r.stateNode.containerInfo,R=Vd(t);Fd(t,R,S);break;default:throw Error(a(161))}}catch(q){Xe(t,t.return,q)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Oy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function js(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jy(t,s.alternate,s),s=s.sibling}function xi(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Cs(4,s,s.return),xi(s);break;case 1:In(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&wy(s,s.return,r),xi(s);break;case 27:Fr(s.stateNode);case 26:case 5:In(s,s.return),xi(s);break;case 22:s.memoizedState===null&&xi(s);break;case 30:xi(s);break;default:xi(s)}t=t.sibling}}function As(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,f=s,y=f.flags;switch(f.tag){case 0:case 11:case 15:As(d,f,r),Mr(4,f);break;case 1:if(As(d,f,r),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(R){Xe(l,l.return,R)}if(l=f,d=l.updateQueue,d!==null){var _=l.stateNode;try{var S=d.shared.hiddenCallbacks;if(S!==null)for(d.shared.hiddenCallbacks=null,d=0;d<S.length;d++)og(S[d],_)}catch(R){Xe(l,l.return,R)}}r&&y&64&&Sy(f),Dr(f,f.return);break;case 27:Ty(f);case 26:case 5:As(d,f,r),r&&l===null&&y&4&&Ny(f),Dr(f,f.return);break;case 12:As(d,f,r);break;case 13:As(d,f,r),r&&y&4&&ky(d,f);break;case 22:f.memoizedState===null&&As(d,f,r),Dr(f,f.return);break;case 30:break;default:As(d,f,r)}s=s.sibling}}function Kd(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&xr(r))}function $d(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&xr(t))}function On(t,s,r,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)My(t,s,r,l),s=s.sibling}function My(t,s,r,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:On(t,s,r,l),d&2048&&Mr(9,s);break;case 1:On(t,s,r,l);break;case 3:On(t,s,r,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&xr(t)));break;case 12:if(d&2048){On(t,s,r,l),t=s.stateNode;try{var f=s.memoizedProps,y=f.id,_=f.onPostCommit;typeof _=="function"&&_(y,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Xe(s,s.return,S)}}else On(t,s,r,l);break;case 13:On(t,s,r,l);break;case 23:break;case 22:f=s.stateNode,y=s.alternate,s.memoizedState!==null?f._visibility&2?On(t,s,r,l):Lr(t,s):f._visibility&2?On(t,s,r,l):(f._visibility|=2,va(t,s,r,l,(s.subtreeFlags&10256)!==0)),d&2048&&Kd(y,s);break;case 24:On(t,s,r,l),d&2048&&$d(s.alternate,s);break;default:On(t,s,r,l)}}function va(t,s,r,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var f=t,y=s,_=r,S=l,R=y.flags;switch(y.tag){case 0:case 11:case 15:va(f,y,_,S,d),Mr(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?va(f,y,_,S,d):Lr(f,y):(q._visibility|=2,va(f,y,_,S,d)),d&&R&2048&&Kd(y.alternate,y);break;case 24:va(f,y,_,S,d),d&&R&2048&&$d(y.alternate,y);break;default:va(f,y,_,S,d)}s=s.sibling}}function Lr(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,l=s,d=l.flags;switch(l.tag){case 22:Lr(r,l),d&2048&&Kd(l.alternate,l);break;case 24:Lr(r,l),d&2048&&$d(l.alternate,l);break;default:Lr(r,l)}s=s.sibling}}var Ur=8192;function _a(t){if(t.subtreeFlags&Ur)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 26:_a(t),t.flags&Ur&&t.memoizedState!==null&&mN(vn,t.memoizedState,t.memoizedProps);break;case 5:_a(t);break;case 3:case 4:var s=vn;vn=$o(t.stateNode.containerInfo),_a(t),vn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Ur,Ur=16777216,_a(t),Ur=s):_a(t));break;default:_a(t)}}function Ly(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Pr(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];xt=l,Py(l,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:Pr(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:Pr(t);break;case 12:Pr(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Lo(t)):Pr(t);break;default:Pr(t)}}function Lo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];xt=l,Py(l,t)}Ly(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Cs(8,s,s.return),Lo(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Lo(s));break;default:Lo(s)}t=t.sibling}}function Py(t,s){for(;xt!==null;){var r=xt;switch(r.tag){case 0:case 11:case 15:Cs(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xt=l;else e:for(r=t;xt!==null;){l=xt;var d=l.sibling,f=l.return;if(Ay(l),l===r){xt=null;break e}if(d!==null){d.return=f,xt=d;break e}xt=f}}}var Rw={getCacheForType:function(t){var s=kt(ft),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r}},kw=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,Oe=null,Le=0,Ve=0,Zt=null,Rs=!1,xa=!1,Qd=!1,Jn=0,lt=0,ks=0,bi=0,Xd=0,hn=0,ba=0,zr=null,Ht=null,Wd=!1,Zd=0,Uo=1/0,Po=null,Is=null,Et=0,Os=null,Sa=null,wa=0,Jd=0,eh=null,zy=null,Br=0,th=null;function Jt(){if((qe&2)!==0&&Le!==0)return Le&-Le;if(k.T!==null){var t=ua;return t!==0?t:oh()}return tp()}function By(){hn===0&&(hn=(Le&536870912)===0||Be?Wm():536870912);var t=dn.current;return t!==null&&(t.flags|=32),hn}function en(t,s,r){(t===Ze&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(Na(t,0),Ms(t,Le,hn,!1)),ir(t,r),((qe&2)===0||t!==Ze)&&(t===Ze&&((qe&2)===0&&(bi|=r),lt===4&&Ms(t,Le,hn,!1)),Mn(t))}function Hy(t,s,r){if((qe&6)!==0)throw Error(a(327));var l=!r&&(s&124)===0&&(s&t.expiredLanes)===0||sr(t,s),d=l?Mw(t,s):ih(t,s,!0),f=l;do{if(d===0){xa&&!l&&Ms(t,s,0,!1);break}else{if(r=t.current.alternate,f&&!Iw(r)){d=ih(t,s,!1),f=!1;continue}if(d===2){if(f=s,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var _=t;d=zr;var S=_.current.memoizedState.isDehydrated;if(S&&(Na(_,y).flags|=256),y=ih(_,y,!1),y!==2){if(Qd&&!S){_.errorRecoveryDisabledLanes|=f,bi|=f,d=4;break e}f=Ht,Ht=d,f!==null&&(Ht===null?Ht=f:Ht.push.apply(Ht,f))}d=y}if(f=!1,d!==2)continue}}if(d===1){Na(t,0),Ms(t,s,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ms(l,s,hn,!Rs);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=Zd+300-An(),10<d)){if(Ms(l,s,hn,!Rs),$l(l,0,!0)!==0)break e;l.timeoutHandle=gv(qy.bind(null,l,r,Ht,Po,Wd,s,hn,bi,ba,Rs,f,2,-0,0),d);break e}qy(l,r,Ht,Po,Wd,s,hn,bi,ba,Rs,f,0,-0,0)}}break}while(!0);Mn(t)}function qy(t,s,r,l,d,f,y,_,S,R,q,G,O,M){if(t.timeoutHandle=-1,G=s.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Kr={stylesheets:null,count:0,unsuspend:fN},Dy(s),G=pN(),G!==null)){t.cancelPendingCommit=G(Qy.bind(null,t,s,f,r,l,d,y,_,S,q,1,O,M)),Ms(t,f,y,!R);return}Qy(t,s,f,r,l,d,y,_,S)}function Iw(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],f=d.getSnapshot;d=d.value;try{if(!$t(f(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(t,s,r,l){s&=~Xd,s&=~bi,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var f=31-Kt(d),y=1<<f;l[f]=-1,d&=~y}r!==0&&Jm(t,r,s)}function zo(){return(qe&6)===0?(Hr(0),!1):!0}function nh(){if(Oe!==null){if(Ve===0)var t=Oe.return;else t=Oe,Gn=pi=null,_d(t),ga=null,kr=0,t=Oe;for(;t!==null;)by(t.alternate,t),t=t.return;Oe=null}}function Na(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Xw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),nh(),Ze=t,Oe=r=qn(t.current,null),Le=s,Ve=0,Zt=null,Rs=!1,xa=sr(t,s),Qd=!1,ba=hn=Xd=bi=ks=lt=0,Ht=zr=null,Wd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-Kt(l),f=1<<d;s|=t[d],l&=~f}return Jn=s,ro(),r}function Vy(t,s){Te=null,k.H=To,s===Sr||s===go?(s=rg(),Ve=3):s===sg?(s=rg(),Ve=4):Ve=s===ly?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zt=s,Oe===null&&(lt=1,ko(t,ln(s,t.current)))}function Fy(){var t=k.H;return k.H=To,t===null?To:t}function Gy(){var t=k.A;return k.A=Rw,t}function sh(){lt=4,Rs||(Le&4194048)!==Le&&dn.current!==null||(xa=!0),(ks&134217727)===0&&(bi&134217727)===0||Ze===null||Ms(Ze,Le,hn,!1)}function ih(t,s,r){var l=qe;qe|=2;var d=Fy(),f=Gy();(Ze!==t||Le!==s)&&(Po=null,Na(t,s)),s=!1;var y=lt;e:do try{if(Ve!==0&&Oe!==null){var _=Oe,S=Zt;switch(Ve){case 8:nh(),y=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(s=!0);var R=Ve;if(Ve=0,Zt=null,Ea(t,_,S,R),r&&xa){y=0;break e}break;default:R=Ve,Ve=0,Zt=null,Ea(t,_,S,R)}}Ow(),y=lt;break}catch(q){Vy(t,q)}while(!0);return s&&t.shellSuspendCounter++,Gn=pi=null,qe=l,k.H=d,k.A=f,Oe===null&&(Ze=null,Le=0,ro()),y}function Ow(){for(;Oe!==null;)Yy(Oe)}function Mw(t,s){var r=qe;qe|=2;var l=Fy(),d=Gy();Ze!==t||Le!==s?(Po=null,Uo=An()+500,Na(t,s)):xa=sr(t,s);e:do try{if(Ve!==0&&Oe!==null){s=Oe;var f=Zt;t:switch(Ve){case 1:Ve=0,Zt=null,Ea(t,s,f,1);break;case 2:case 9:if(ig(f)){Ve=0,Zt=null,Ky(s);break}s=function(){Ve!==2&&Ve!==9||Ze!==t||(Ve=7),Mn(t)},f.then(s,s);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:ig(f)?(Ve=0,Zt=null,Ky(s)):(Ve=0,Zt=null,Ea(t,s,f,7));break;case 5:var y=null;switch(Oe.tag){case 26:y=Oe.memoizedState;case 5:case 27:var _=Oe;if(!y||jv(y)){Ve=0,Zt=null;var S=_.sibling;if(S!==null)Oe=S;else{var R=_.return;R!==null?(Oe=R,Bo(R)):Oe=null}break t}}Ve=0,Zt=null,Ea(t,s,f,5);break;case 6:Ve=0,Zt=null,Ea(t,s,f,6);break;case 8:nh(),lt=6;break e;default:throw Error(a(462))}}Dw();break}catch(q){Vy(t,q)}while(!0);return Gn=pi=null,k.H=l,k.A=d,qe=r,Oe!==null?0:(Ze=null,Le=0,ro(),lt)}function Dw(){for(;Oe!==null&&!sS();)Yy(Oe)}function Yy(t){var s=_y(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,s===null?Bo(t):Oe=s}function Ky(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=fy(r,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=fy(r,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:_d(s);default:by(r,s),s=Oe=$p(s,Jn),s=_y(r,s,Jn)}t.memoizedProps=t.pendingProps,s===null?Bo(t):Oe=s}function Ea(t,s,r,l){Gn=pi=null,_d(s),ga=null,kr=0;var d=s.return;try{if(Nw(t,d,s,r,Le)){lt=1,ko(t,ln(r,t.current)),Oe=null;return}}catch(f){if(d!==null)throw Oe=d,f;lt=1,ko(t,ln(r,t.current)),Oe=null;return}s.flags&32768?(Be||l===1?t=!0:xa||(Le&536870912)!==0?t=!1:(Rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(s,t)):Bo(s)}function Bo(t){var s=t;do{if((s.flags&32768)!==0){$y(s,Rs);return}t=s.return;var r=Tw(s.alternate,s,Jn);if(r!==null){Oe=r;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=t}while(s!==null);lt===0&&(lt=5)}function $y(t,s){do{var r=Cw(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);lt=6,Oe=null}function Qy(t,s,r,l,d,f,y,_,S){t.cancelPendingCommit=null;do Ho();while(Et!==0);if((qe&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(f=s.lanes|s.childLanes,f|=$u,fS(t,r,f,y,_,S),t===Ze&&(Oe=Ze=null,Le=0),Sa=s,Os=t,wa=r,Jd=f,eh=d,zy=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zw(Gl,function(){return ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,d=Z.p,Z.p=2,y=qe,qe|=4;try{jw(t,s,r)}finally{qe=y,Z.p=d,k.T=l}}Et=1,Xy(),Wy(),Zy()}}function Xy(){if(Et===1){Et=0;var t=Os,s=Sa,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=k.T,k.T=null;var l=Z.p;Z.p=2;var d=qe;qe|=4;try{Iy(s,t);var f=gh,y=Pp(t.containerInfo),_=f.focusedElem,S=f.selectionRange;if(y!==_&&_&&_.ownerDocument&&Up(_.ownerDocument.documentElement,_)){if(S!==null&&Vu(_)){var R=S.start,q=S.end;if(q===void 0&&(q=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(q,_.value.length);else{var G=_.ownerDocument||document,O=G&&G.defaultView||window;if(O.getSelection){var M=O.getSelection(),xe=_.textContent.length,ye=Math.min(S.start,xe),Ke=S.end===void 0?ye:Math.min(S.end,xe);!M.extend&&ye>Ke&&(y=Ke,Ke=ye,ye=y);var T=Lp(_,ye),N=Lp(_,Ke);if(T&&N&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==N.node||M.focusOffset!==N.offset)){var A=G.createRange();A.setStart(T.node,T.offset),M.removeAllRanges(),ye>Ke?(M.addRange(A),M.extend(N.node,N.offset)):(A.setEnd(N.node,N.offset),M.addRange(A))}}}}for(G=[],M=_;M=M.parentNode;)M.nodeType===1&&G.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<G.length;_++){var F=G[_];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Jo=!!ph,gh=ph=null}finally{qe=d,Z.p=l,k.T=r}}t.current=s,Et=2}}function Wy(){if(Et===2){Et=0;var t=Os,s=Sa,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=k.T,k.T=null;var l=Z.p;Z.p=2;var d=qe;qe|=4;try{jy(t,s.alternate,s)}finally{qe=d,Z.p=l,k.T=r}}Et=3}}function Zy(){if(Et===4||Et===3){Et=0,iS();var t=Os,s=Sa,r=wa,l=zy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Et=5:(Et=0,Sa=Os=null,Jy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Is=null),Su(r),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(nr,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=k.T,d=Z.p,Z.p=2,k.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var _=l[y];f(_.value,{componentStack:_.stack})}}finally{k.T=s,Z.p=d}}(wa&3)!==0&&Ho(),Mn(t),d=t.pendingLanes,(r&4194090)!==0&&(d&42)!==0?t===th?Br++:(Br=0,th=t):Br=0,Hr(0)}}function Jy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,xr(s)))}function Ho(t){return Xy(),Wy(),Zy(),ev()}function ev(){if(Et!==5)return!1;var t=Os,s=Jd;Jd=0;var r=Su(wa),l=k.T,d=Z.p;try{Z.p=32>r?32:r,k.T=null,r=eh,eh=null;var f=Os,y=wa;if(Et=0,Sa=Os=null,wa=0,(qe&6)!==0)throw Error(a(331));var _=qe;if(qe|=4,Uy(f.current),My(f,f.current,y,r),qe=_,Hr(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(nr,f)}catch{}return!0}finally{Z.p=d,k.T=l,Jy(t,s)}}function tv(t,s,r){s=ln(r,s),s=Od(t.stateNode,s,2),t=ws(t,s,2),t!==null&&(ir(t,2),Mn(t))}function Xe(t,s,r){if(t.tag===3)tv(t,t,r);else for(;s!==null;){if(s.tag===3){tv(s,t,r);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){t=ln(r,t),r=ay(2),l=ws(s,r,2),l!==null&&(ry(r,l,s,t),ir(l,2),Mn(l));break}}s=s.return}}function ah(t,s,r){var l=t.pingCache;if(l===null){l=t.pingCache=new kw;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(r)||(Qd=!0,d.add(r),t=Lw.bind(null,t,s,r),s.then(t,t))}function Lw(t,s,r){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ze===t&&(Le&r)===r&&(lt===4||lt===3&&(Le&62914560)===Le&&300>An()-Zd?(qe&2)===0&&Na(t,0):Xd|=r,ba===Le&&(ba=0)),Mn(t)}function nv(t,s){s===0&&(s=Zm()),t=ra(t,s),t!==null&&(ir(t,s),Mn(t))}function Uw(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),nv(t,r)}function Pw(t,s){var r=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(s),nv(t,r)}function zw(t,s){return vu(t,s)}var qo=null,Ta=null,rh=!1,Vo=!1,lh=!1,Si=0;function Mn(t){t!==Ta&&t.next===null&&(Ta===null?qo=Ta=t:Ta=Ta.next=t),Vo=!0,rh||(rh=!0,Hw())}function Hr(t,s){if(!lh&&Vo){lh=!0;do for(var r=!1,l=qo;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var y=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Kt(42|t)+1)-1,f&=d&~(y&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,rv(l,f))}else f=Le,f=$l(l,l===Ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||sr(l,f)||(r=!0,rv(l,f));l=l.next}while(r);lh=!1}}function Bw(){sv()}function sv(){Vo=rh=!1;var t=0;Si!==0&&(Qw()&&(t=Si),Si=0);for(var s=An(),r=null,l=qo;l!==null;){var d=l.next,f=iv(l,s);f===0?(l.next=null,r===null?qo=d:r.next=d,d===null&&(Ta=r)):(r=l,(t!==0||(f&3)!==0)&&(Vo=!0)),l=d}Hr(t)}function iv(t,s){for(var r=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Kt(f),_=1<<y,S=d[y];S===-1?((_&r)===0||(_&l)!==0)&&(d[y]=hS(_,s)):S<=s&&(t.expiredLanes|=_),f&=~_}if(s=Ze,r=Le,r=$l(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===s&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_u(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||sr(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(l!==null&&_u(l),Su(r)){case 2:case 8:r=Qm;break;case 32:r=Gl;break;case 268435456:r=Xm;break;default:r=Gl}return l=av.bind(null,t),r=vu(r,l),t.callbackPriority=s,t.callbackNode=r,s}return l!==null&&l!==null&&_u(l),t.callbackPriority=2,t.callbackNode=null,2}function av(t,s){if(Et!==0&&Et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ho()&&t.callbackNode!==r)return null;var l=Le;return l=$l(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hy(t,l,s),iv(t,An()),t.callbackNode!=null&&t.callbackNode===r?av.bind(null,t):null)}function rv(t,s){if(Ho())return null;Hy(t,s,!0)}function Hw(){Ww(function(){(qe&6)!==0?vu($m,Bw):sv()})}function oh(){return Si===0&&(Si=Wm()),Si}function lv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jl(""+t)}function ov(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function qw(t,s,r,l,d){if(s==="submit"&&r&&r.stateNode===d){var f=lv((d[Ut]||null).action),y=l.submitter;y&&(s=(s=y[Ut]||null)?lv(s.formAction):y.getAttribute("formAction"),s!==null&&(f=s,y=null));var _=new so("action","action",null,l,d);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Si!==0){var S=y?ov(d,y):new FormData(d);jd(r,{pending:!0,data:S,method:d.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=y?ov(d,y):new FormData(d),jd(r,{pending:!0,data:S,method:d.method,action:f},f,S))},currentTarget:d}]})}}for(var ch=0;ch<Ku.length;ch++){var uh=Ku[ch],Vw=uh.toLowerCase(),Fw=uh[0].toUpperCase()+uh.slice(1);yn(Vw,"on"+Fw)}yn(Hp,"onAnimationEnd"),yn(qp,"onAnimationIteration"),yn(Vp,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(lw,"onTransitionRun"),yn(ow,"onTransitionStart"),yn(cw,"onTransitionCancel"),yn(Fp,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qr));function cv(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],d=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var y=l.length-1;0<=y;y--){var _=l[y],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==f&&d.isPropagationStopped())break e;f=_,d.currentTarget=R;try{f(d)}catch(q){Ro(q)}d.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(_=l[y],S=_.instance,R=_.currentTarget,_=_.listener,S!==f&&d.isPropagationStopped())break e;f=_,d.currentTarget=R;try{f(d)}catch(q){Ro(q)}d.currentTarget=null,f=S}}}}function Me(t,s){var r=s[wu];r===void 0&&(r=s[wu]=new Set);var l=t+"__bubble";r.has(l)||(uv(s,t,2,!1),r.add(l))}function dh(t,s,r){var l=0;s&&(l|=4),uv(r,t,l,s)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function hh(t){if(!t[Fo]){t[Fo]=!0,sp.forEach(function(r){r!=="selectionchange"&&(Gw.has(r)||dh(r,!1,t),dh(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Fo]||(s[Fo]=!0,dh("selectionchange",!1,s))}}function uv(t,s,r,l){switch(Mv(s)){case 2:var d=vN;break;case 8:d=_N;break;default:d=Th}r=d.bind(null,s,r,t),d=void 0,!Mu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function fh(t,s,r,l,d){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var _=l.stateNode.containerInfo;if(_===d)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;_!==null;){if(y=Ki(_),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue e}_=_.parentNode}}l=l.return}yp(function(){var R=f,q=Iu(r),G=[];e:{var O=Gp.get(t);if(O!==void 0){var M=so,xe=t;switch(t){case"keypress":if(to(r)===0)break e;case"keydown":case"keyup":M=zS;break;case"focusin":xe="focus",M=Pu;break;case"focusout":xe="blur",M=Pu;break;case"beforeblur":case"afterblur":M=Pu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=CS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=qS;break;case Hp:case qp:case Vp:M=RS;break;case Fp:M=FS;break;case"scroll":case"scrollend":M=ES;break;case"wheel":M=YS;break;case"copy":case"cut":case"paste":M=IS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Sp;break;case"toggle":case"beforetoggle":M=$S}var ye=(s&4)!==0,Ke=!ye&&(t==="scroll"||t==="scrollend"),T=ye?O!==null?O+"Capture":null:O;ye=[];for(var N=R,A;N!==null;){var F=N;if(A=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||A===null||T===null||(F=lr(N,T),F!=null&&ye.push(Vr(N,F,A))),Ke)break;N=N.return}0<ye.length&&(O=new M(O,xe,null,r,q),G.push({event:O,listeners:ye}))}}if((s&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",O&&r!==ku&&(xe=r.relatedTarget||r.fromElement)&&(Ki(xe)||xe[Yi]))break e;if((M||O)&&(O=q.window===q?q:(O=q.ownerDocument)?O.defaultView||O.parentWindow:window,M?(xe=r.relatedTarget||r.toElement,M=R,xe=xe?Ki(xe):null,xe!==null&&(Ke=u(xe),ye=xe.tag,xe!==Ke||ye!==5&&ye!==27&&ye!==6)&&(xe=null)):(M=null,xe=R),M!==xe)){if(ye=xp,F="onMouseLeave",T="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Sp,F="onPointerLeave",T="onPointerEnter",N="pointer"),Ke=M==null?O:rr(M),A=xe==null?O:rr(xe),O=new ye(F,N+"leave",M,r,q),O.target=Ke,O.relatedTarget=A,F=null,Ki(q)===R&&(ye=new ye(T,N+"enter",xe,r,q),ye.target=A,ye.relatedTarget=Ke,F=ye),Ke=F,M&&xe)t:{for(ye=M,T=xe,N=0,A=ye;A;A=Ca(A))N++;for(A=0,F=T;F;F=Ca(F))A++;for(;0<N-A;)ye=Ca(ye),N--;for(;0<A-N;)T=Ca(T),A--;for(;N--;){if(ye===T||T!==null&&ye===T.alternate)break t;ye=Ca(ye),T=Ca(T)}ye=null}else ye=null;M!==null&&dv(G,O,M,ye,!1),xe!==null&&Ke!==null&&dv(G,Ke,xe,ye,!0)}}e:{if(O=R?rr(R):window,M=O.nodeName&&O.nodeName.toLowerCase(),M==="select"||M==="input"&&O.type==="file")var ue=Rp;else if(jp(O))if(kp)ue=iw;else{ue=nw;var je=tw}else M=O.nodeName,!M||M.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&Ru(R.elementType)&&(ue=Rp):ue=sw;if(ue&&(ue=ue(t,R))){Ap(G,ue,r,q);break e}je&&je(t,O,R),t==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&Au(O,"number",O.value)}switch(je=R?rr(R):window,t){case"focusin":(jp(je)||je.contentEditable==="true")&&(sa=je,Fu=R,pr=null);break;case"focusout":pr=Fu=sa=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,zp(G,r,q);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":zp(G,r,q)}var pe;if(Bu)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else na?Tp(t,r)&&(ve="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ve="onCompositionStart");ve&&(wp&&r.locale!=="ko"&&(na||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&na&&(pe=vp()):(_s=q,Du="value"in _s?_s.value:_s.textContent,na=!0)),je=Go(R,ve),0<je.length&&(ve=new bp(ve,t,null,r,q),G.push({event:ve,listeners:je}),pe?ve.data=pe:(pe=Cp(r),pe!==null&&(ve.data=pe)))),(pe=XS?WS(t,r):ZS(t,r))&&(ve=Go(R,"onBeforeInput"),0<ve.length&&(je=new bp("onBeforeInput","beforeinput",null,r,q),G.push({event:je,listeners:ve}),je.data=pe)),qw(G,t,R,r,q)}cv(G,s)})}function Vr(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Go(t,s){for(var r=s+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=lr(t,r),d!=null&&l.unshift(Vr(t,d,f)),d=lr(t,s),d!=null&&l.push(Vr(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dv(t,s,r,l,d){for(var f=s._reactName,y=[];r!==null&&r!==l;){var _=r,S=_.alternate,R=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||R===null||(S=R,d?(R=lr(r,f),R!=null&&y.unshift(Vr(r,R,S))):d||(R=lr(r,f),R!=null&&y.push(Vr(r,R,S)))),r=r.return}y.length!==0&&t.push({event:s,listeners:y})}var Yw=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(Yw,`
`).replace(Kw,"")}function fv(t,s){return s=hv(s),hv(t)===s}function Yo(){}function Ye(t,s,r,l,d,f){switch(r){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Ji(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Ji(t,""+l);break;case"className":Xl(t,"class",l);break;case"tabIndex":Xl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(t,r,l);break;case"style":pp(t,l,f);break;case"data":if(s!=="object"){Xl(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Jl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(s!=="input"&&Ye(t,s,"name",d.name,d,null),Ye(t,s,"formEncType",d.formEncType,d,null),Ye(t,s,"formMethod",d.formMethod,d,null),Ye(t,s,"formTarget",d.formTarget,d,null)):(Ye(t,s,"encType",d.encType,d,null),Ye(t,s,"method",d.method,d,null),Ye(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Jl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Yo);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Jl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Ql(t,"popover",l);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ql(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wS.get(r)||r,Ql(t,r,l))}}function mh(t,s,r,l,d,f){switch(r){case"style":pp(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ji(t,l):(typeof l=="number"||typeof l=="bigint")&&Ji(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ip.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),f=t[Ut]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(s,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,l,d);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ql(t,r,l)}}}function Tt(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,d=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ye(t,s,f,y,r,null)}}d&&Ye(t,s,"srcSet",r.srcSet,r,null),l&&Ye(t,s,"src",r.src,r,null);return;case"input":Me("invalid",t);var _=f=y=d=null,S=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":d=q;break;case"type":y=q;break;case"checked":S=q;break;case"defaultChecked":R=q;break;case"value":f=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,s));break;default:Ye(t,s,l,q,r,null)}}dp(t,f,_,S,R,y,d,!1),Wl(t);return;case"select":Me("invalid",t),l=y=f=null;for(d in r)if(r.hasOwnProperty(d)&&(_=r[d],_!=null))switch(d){case"value":f=_;break;case"defaultValue":y=_;break;case"multiple":l=_;default:Ye(t,s,d,_,r,null)}s=f,r=y,t.multiple=!!l,s!=null?Zi(t,!!l,s,!1):r!=null&&Zi(t,!!l,r,!0);return;case"textarea":Me("invalid",t),f=d=l=null;for(y in r)if(r.hasOwnProperty(y)&&(_=r[y],_!=null))switch(y){case"value":l=_;break;case"defaultValue":d=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ye(t,s,y,_,r,null)}fp(t,l,d,f),Wl(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,s,S,l,r,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<qr.length;l++)Me(qr[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ye(t,s,R,l,r,null)}return;default:if(Ru(s)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&mh(t,s,q,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ye(t,s,_,l,r,null))}function $w(t,s,r,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,y=null,_=null,S=null,R=null,q=null;for(M in r){var G=r[M];if(r.hasOwnProperty(M)&&G!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=G;default:l.hasOwnProperty(M)||Ye(t,s,M,null,l,G)}}for(var O in l){var M=l[O];if(G=r[O],l.hasOwnProperty(O)&&(M!=null||G!=null))switch(O){case"type":f=M;break;case"name":d=M;break;case"checked":R=M;break;case"defaultChecked":q=M;break;case"value":y=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,s));break;default:M!==G&&Ye(t,s,O,M,l,G)}}ju(t,y,_,S,R,q,f,d);return;case"select":M=y=_=O=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":M=S;default:l.hasOwnProperty(f)||Ye(t,s,f,null,l,S)}for(d in l)if(f=l[d],S=r[d],l.hasOwnProperty(d)&&(f!=null||S!=null))switch(d){case"value":O=f;break;case"defaultValue":_=f;break;case"multiple":y=f;default:f!==S&&Ye(t,s,d,f,l,S)}s=_,r=y,l=M,O!=null?Zi(t,!!r,O,!1):!!l!=!!r&&(s!=null?Zi(t,!!r,s,!0):Zi(t,!!r,r?[]:"",!1));return;case"textarea":M=O=null;for(_ in r)if(d=r[_],r.hasOwnProperty(_)&&d!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ye(t,s,_,null,l,d)}for(y in l)if(d=l[y],f=r[y],l.hasOwnProperty(y)&&(d!=null||f!=null))switch(y){case"value":O=d;break;case"defaultValue":M=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==f&&Ye(t,s,y,d,l,f)}hp(t,O,M);return;case"option":for(var xe in r)if(O=r[xe],r.hasOwnProperty(xe)&&O!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:Ye(t,s,xe,null,l,O)}for(S in l)if(O=l[S],M=r[S],l.hasOwnProperty(S)&&O!==M&&(O!=null||M!=null))switch(S){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ye(t,s,S,O,l,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)O=r[ye],r.hasOwnProperty(ye)&&O!=null&&!l.hasOwnProperty(ye)&&Ye(t,s,ye,null,l,O);for(R in l)if(O=l[R],M=r[R],l.hasOwnProperty(R)&&O!==M&&(O!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,s));break;default:Ye(t,s,R,O,l,M)}return;default:if(Ru(s)){for(var Ke in r)O=r[Ke],r.hasOwnProperty(Ke)&&O!==void 0&&!l.hasOwnProperty(Ke)&&mh(t,s,Ke,void 0,l,O);for(q in l)O=l[q],M=r[q],!l.hasOwnProperty(q)||O===M||O===void 0&&M===void 0||mh(t,s,q,O,l,M);return}}for(var T in r)O=r[T],r.hasOwnProperty(T)&&O!=null&&!l.hasOwnProperty(T)&&Ye(t,s,T,null,l,O);for(G in l)O=l[G],M=r[G],!l.hasOwnProperty(G)||O===M||O==null&&M==null||Ye(t,s,G,O,l,M)}var ph=null,gh=null;function Ko(t){return t.nodeType===9?t:t.ownerDocument}function mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function yh(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vh=null;function Qw(){var t=window.event;return t&&t.type==="popstate"?t===vh?!1:(vh=t,!0):(vh=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,Xw=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,Ww=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(Zw)}:gv;function Zw(t){setTimeout(function(){throw t})}function Ds(t){return t==="head"}function vv(t,s){var r=s,l=0,d=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Fr(y.documentElement),r&2&&Fr(y.body),r&4)for(r=y.head,Fr(r),y=r.firstChild;y;){var _=y.nextSibling,S=y.nodeName;y[ar]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=_}}if(d===0){t.removeChild(f),Zr(s);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Zr(s)}function _h(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_h(r),Nu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Jw(t,s,r,l){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ar])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=_n(t.nextSibling),t===null)break}return null}function eN(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=_n(t.nextSibling),t===null))return null;return t}function xh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tN(t,s){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")s();else{var l=function(){s(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function _n(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var bh=null;function _v(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}function xv(t,s,r){switch(s=Ko(r),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Fr(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Nu(t)}var fn=new Map,bv=new Set;function $o(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=Z.d;Z.d={f:nN,r:sN,D:iN,C:aN,L:rN,m:lN,X:cN,S:oN,M:uN};function nN(){var t=es.f(),s=zo();return t||s}function sN(t){var s=$i(t);s!==null&&s.tag===5&&s.type==="form"?Hg(s):es.r(t)}var ja=typeof document>"u"?null:document;function Sv(t,s,r){var l=ja;if(l&&typeof s=="string"&&s){var d=rn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),bv.has(d)||(bv.add(d),t={rel:t,crossOrigin:r,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Tt(s,"link",t),vt(s),l.head.appendChild(s)))}}function iN(t){es.D(t),Sv("dns-prefetch",t,null)}function aN(t,s){es.C(t,s),Sv("preconnect",t,s)}function rN(t,s,r){es.L(t,s,r);var l=ja;if(l&&t&&s){var d='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+rn(r.imageSizes)+'"]')):d+='[href="'+rn(t)+'"]';var f=d;switch(s){case"style":f=Aa(t);break;case"script":f=Ra(t)}fn.has(f)||(t=v({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),fn.set(f,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Gr(f))||s==="script"&&l.querySelector(Yr(f))||(s=l.createElement("link"),Tt(s,"link",t),vt(s),l.head.appendChild(s)))}}function lN(t,s){es.m(t,s);var r=ja;if(r&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ra(t)}if(!fn.has(f)&&(t=v({rel:"modulepreload",href:t},s),fn.set(f,t),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yr(f)))return}l=r.createElement("link"),Tt(l,"link",t),vt(l),r.head.appendChild(l)}}}function oN(t,s,r){es.S(t,s,r);var l=ja;if(l&&t){var d=Qi(l).hoistableStyles,f=Aa(t);s=s||"default";var y=d.get(f);if(!y){var _={loading:0,preload:null};if(y=l.querySelector(Gr(f)))_.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},r),(r=fn.get(f))&&Sh(t,r);var S=y=l.createElement("link");vt(S),Tt(S,"link",t),S._p=new Promise(function(R,q){S.onload=R,S.onerror=q}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Qo(y,s,l)}y={type:"stylesheet",instance:y,count:1,state:_},d.set(f,y)}}}function cN(t,s){es.X(t,s);var r=ja;if(r&&t){var l=Qi(r).hoistableScripts,d=Ra(t),f=l.get(d);f||(f=r.querySelector(Yr(d)),f||(t=v({src:t,async:!0},s),(s=fn.get(d))&&wh(t,s),f=r.createElement("script"),vt(f),Tt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function uN(t,s){es.M(t,s);var r=ja;if(r&&t){var l=Qi(r).hoistableScripts,d=Ra(t),f=l.get(d);f||(f=r.querySelector(Yr(d)),f||(t=v({src:t,async:!0,type:"module"},s),(s=fn.get(d))&&wh(t,s),f=r.createElement("script"),vt(f),Tt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function wv(t,s,r,l){var d=(d=Se.current)?$o(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Aa(r.href),r=Qi(d).hoistableStyles,l=r.get(s),l||(l={type:"style",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Aa(r.href);var f=Qi(d).hoistableStyles,y=f.get(t);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=d.querySelector(Gr(t)))&&!f._p&&(y.instance=f,y.state.loading=5),fn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},fn.set(t,r),f||dN(d,t,r,y.state))),s&&l===null)throw Error(a(528,""));return y}if(s&&l!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ra(r),r=Qi(d).hoistableScripts,l=r.get(s),l||(l={type:"script",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Aa(t){return'href="'+rn(t)+'"'}function Gr(t){return'link[rel="stylesheet"]['+t+"]"}function Nv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function dN(t,s,r,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Tt(s,"link",r),vt(s),t.head.appendChild(s))}function Ra(t){return'[src="'+rn(t)+'"]'}function Yr(t){return"script[async]"+t}function Ev(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+rn(r.href)+'"]');if(l)return s.instance=l,vt(l),l;var d=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Tt(l,"style",d),Qo(l,r.precedence,t),s.instance=l;case"stylesheet":d=Aa(r.href);var f=t.querySelector(Gr(d));if(f)return s.state.loading|=4,s.instance=f,vt(f),f;l=Nv(r),(d=fn.get(d))&&Sh(l,d),f=(t.ownerDocument||t).createElement("link"),vt(f);var y=f;return y._p=new Promise(function(_,S){y.onload=_,y.onerror=S}),Tt(f,"link",l),s.state.loading|=4,Qo(f,r.precedence,t),s.instance=f;case"script":return f=Ra(r.src),(d=t.querySelector(Yr(f)))?(s.instance=d,vt(d),d):(l=r,(d=fn.get(f))&&(l=v({},r),wh(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),vt(d),Tt(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Qo(l,r.precedence,t));return s.instance}function Qo(t,s,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,y=0;y<l.length;y++){var _=l[y];if(_.dataset.precedence===s)f=_;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Sh(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function wh(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Xo=null;function Tv(t,s,r){if(Xo===null){var l=new Map,d=Xo=new Map;d.set(r,l)}else d=Xo,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var f=r[d];if(!(f[ar]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(s)||"";y=t+y;var _=l.get(y);_?_.push(f):l.set(y,[f])}}return l}function Cv(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function hN(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kr=null;function fN(){}function mN(t,s,r){if(Kr===null)throw Error(a(475));var l=Kr;if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Aa(r.href),f=t.querySelector(Gr(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Wo.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=f,vt(f);return}f=t.ownerDocument||t,r=Nv(r),(d=fn.get(d))&&Sh(r,d),f=f.createElement("link"),vt(f);var y=f;y._p=new Promise(function(_,S){y.onload=_,y.onerror=S}),Tt(f,"link",r),s.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Wo.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function pN(){if(Kr===null)throw Error(a(475));var t=Kr;return t.stylesheets&&t.count===0&&Nh(t,t.stylesheets),0<t.count?function(s){var r=setTimeout(function(){if(t.stylesheets&&Nh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Wo(){if(this.count--,this.count===0){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zo=null;function Nh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zo=new Map,s.forEach(gN,t),Zo=null,Wo.call(t))}function gN(t,s){if(!(s.state.loading&4)){var r=Zo.get(t);if(r)var l=r.get(null);else{r=new Map,Zo.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var y=d[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}d=s.instance,y=d.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,d),r.set(y,d),this.count++,l=Wo.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var $r={$$typeof:W,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function yN(t,s,r,l,d,f,y,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.hiddenUpdates=xu(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Av(t,s,r,l,d,f,y,_,S,R,q,G){return t=new yN(t,s,r,y,_,S,R,G),s=1,f===!0&&(s|=24),f=Qt(3,null,null,s),t.current=f,f.stateNode=t,s=ad(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:s},cd(f),t}function Rv(t){return t?(t=la,t):la}function kv(t,s,r,l,d,f){d=Rv(d),l.context===null?l.context=d:l.pendingContext=d,l=Ss(s),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ws(t,l,s),r!==null&&(en(r,t,s),Nr(r,t,s))}function Iv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Eh(t,s){Iv(t,s),(t=t.alternate)&&Iv(t,s)}function Ov(t){if(t.tag===13){var s=ra(t,67108864);s!==null&&en(s,t,67108864),Eh(t,67108864)}}var Jo=!0;function vN(t,s,r,l){var d=k.T;k.T=null;var f=Z.p;try{Z.p=2,Th(t,s,r,l)}finally{Z.p=f,k.T=d}}function _N(t,s,r,l){var d=k.T;k.T=null;var f=Z.p;try{Z.p=8,Th(t,s,r,l)}finally{Z.p=f,k.T=d}}function Th(t,s,r,l){if(Jo){var d=Ch(l);if(d===null)fh(t,s,l,ec,r),Dv(t,l);else if(bN(d,t,s,r,l))l.stopPropagation();else if(Dv(t,l),s&4&&-1<xN.indexOf(t)){for(;d!==null;){var f=$i(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ai(f.pendingLanes);if(y!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var S=1<<31-Kt(y);_.entanglements[1]|=S,y&=~S}Mn(f),(qe&6)===0&&(Uo=An()+500,Hr(0))}}break;case 13:_=ra(f,2),_!==null&&en(_,f,2),zo(),Eh(f,2)}if(f=Ch(l),f===null&&fh(t,s,l,ec,r),f===d)break;d=f}d!==null&&l.stopPropagation()}else fh(t,s,l,null,r)}}function Ch(t){return t=Iu(t),jh(t)}var ec=null;function jh(t){if(ec=null,t=Ki(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=h(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ec=t,null}function Mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aS()){case $m:return 2;case Qm:return 8;case Gl:case rS:return 32;case Xm:return 268435456;default:return 32}default:return 32}}var Ah=!1,Ls=null,Us=null,Ps=null,Qr=new Map,Xr=new Map,zs=[],xN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(t,s){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(s.pointerId)}}function Wr(t,s,r,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},s!==null&&(s=$i(s),s!==null&&Ov(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function bN(t,s,r,l,d){switch(s){case"focusin":return Ls=Wr(Ls,t,s,r,l,d),!0;case"dragenter":return Us=Wr(Us,t,s,r,l,d),!0;case"mouseover":return Ps=Wr(Ps,t,s,r,l,d),!0;case"pointerover":var f=d.pointerId;return Qr.set(f,Wr(Qr.get(f)||null,t,s,r,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Xr.set(f,Wr(Xr.get(f)||null,t,s,r,l,d)),!0}return!1}function Lv(t){var s=Ki(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=h(r),s!==null){t.blockedOn=s,mS(t.priority,function(){if(r.tag===13){var l=Jt();l=bu(l);var d=ra(r,l);d!==null&&en(d,r,l),Eh(r,l)}});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Ch(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ku=l,r.target.dispatchEvent(l),ku=null}else return s=$i(r),s!==null&&Ov(s),t.blockedOn=r,!1;s.shift()}return!0}function Uv(t,s,r){tc(t)&&r.delete(s)}function SN(){Ah=!1,Ls!==null&&tc(Ls)&&(Ls=null),Us!==null&&tc(Us)&&(Us=null),Ps!==null&&tc(Ps)&&(Ps=null),Qr.forEach(Uv),Xr.forEach(Uv)}function nc(t,s){t.blockedOn===s&&(t.blockedOn=null,Ah||(Ah=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,SN)))}var sc=null;function Pv(t){sc!==t&&(sc=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sc===t&&(sc=null);for(var s=0;s<t.length;s+=3){var r=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(jh(l||r)===null)continue;break}var f=$i(r);f!==null&&(t.splice(s,3),s-=3,jd(f,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function Zr(t){function s(S){return nc(S,t)}Ls!==null&&nc(Ls,t),Us!==null&&nc(Us,t),Ps!==null&&nc(Ps,t),Qr.forEach(s),Xr.forEach(s);for(var r=0;r<zs.length;r++){var l=zs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)Lv(r),r.blockedOn===null&&zs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],f=r[l+1],y=d[Ut]||null;if(typeof f=="function")y||Pv(r);else if(y){var _=null;if(f&&f.hasAttribute("formAction")){if(d=f,y=f[Ut]||null)_=y.formAction;else if(jh(d)!==null)continue}else _=y.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),Pv(r)}}}function Rh(t){this._internalRoot=t}ic.prototype.render=Rh.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,l=Jt();kv(r,l,t,s,null,null)},ic.prototype.unmount=Rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;kv(t.current,2,null,t,null,null),zo(),s[Yi]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var s=tp();t={blockedOn:null,target:t,priority:s};for(var r=0;r<zs.length&&s!==0&&s<zs[r].priority;r++);zs.splice(r,0,t),r===0&&Lv(t)}};var zv=e.version;if(zv!=="19.1.0")throw Error(a(527,zv,"19.1.0"));Z.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(s),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var wN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{nr=ac.inject(wN),Yt=ac}catch{}}return el.createRoot=function(t,s){if(!o(t))throw Error(a(299));var r=!1,l="",d=ty,f=ny,y=sy,_=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=Av(t,1,!1,null,null,r,l,d,f,y,_,null),t[Yi]=s.current,hh(t),new Rh(s)},el.hydrateRoot=function(t,s,r){if(!o(t))throw Error(a(299));var l=!1,d="",f=ty,y=ny,_=sy,S=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),s=Av(t,1,!0,s,r??null,l,d,f,y,_,S,R),s.context=Rv(null),r=s.current,l=Jt(),l=bu(l),d=Ss(l),d.callback=null,ws(r,d,l),r=l,s.current.lanes=r,ir(s,r),Mn(s),t[Yi]=s.current,hh(t),new ic(s)},el.version="19.1.0",el}var Qv;function MN(){if(Qv)return Oh.exports;Qv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Oh.exports=ON(),Oh.exports}var DN=MN();function Xv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function LN(...n){return e=>{let i=!1;const a=n.map(o=>{const u=Xv(o,e);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<a.length;o++){const u=a[o];typeof u=="function"?u():Xv(n[o],null)}}}}function ml(...n){return L.useCallback(LN(...n),n)}function _c(n){const e=UN(n),i=L.forwardRef((a,o)=>{const{children:u,...h}=a,m=L.Children.toArray(u),g=m.find(zN);if(g){const p=g.props.children,v=m.map(x=>x===g?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:x);return c.jsx(e,{...h,ref:o,children:L.isValidElement(p)?L.cloneElement(p,void 0,v):null})}return c.jsx(e,{...h,ref:o,children:u})});return i.displayName=`${n}.Slot`,i}var Ix=_c("Slot");function UN(n){const e=L.forwardRef((i,a)=>{const{children:o,...u}=i,h=L.isValidElement(o)?HN(o):void 0,m=ml(h,a);if(L.isValidElement(o)){const g=BN(u,o.props);return o.type!==L.Fragment&&(g.ref=m),L.cloneElement(o,g)}return L.Children.count(o)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var PN=Symbol("radix.slottable");function zN(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===PN}function BN(n,e){const i={...e};for(const a in e){const o=n[a],u=e[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...m)=>{const g=u(...m);return o(...m),g}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...n,...i}}function HN(n){var a,o;let e=(a=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:a.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}function Ox(n){var e,i,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(i=Ox(n[e]))&&(a&&(a+=" "),a+=i)}else for(i in n)n[i]&&(a&&(a+=" "),a+=i);return a}function Mx(){for(var n,e,i=0,a="",o=arguments.length;i<o;i++)(n=arguments[i])&&(e=Ox(n))&&(a&&(a+=" "),a+=e);return a}const Wv=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Zv=Mx,Dx=(n,e)=>i=>{var a;if((e==null?void 0:e.variants)==null)return Zv(n,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:o,defaultVariants:u}=e,h=Object.keys(o).map(p=>{const v=i==null?void 0:i[p],x=u==null?void 0:u[p];if(v===null)return null;const b=Wv(v)||Wv(x);return o[p][b]}),m=i&&Object.entries(i).reduce((p,v)=>{let[x,b]=v;return b===void 0||(p[x]=b),p},{}),g=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((p,v)=>{let{class:x,className:b,...E}=v;return Object.entries(E).every(I=>{let[C,B]=I;return Array.isArray(B)?B.includes({...u,...m}[C]):{...u,...m}[C]===B})?[...p,x,b]:p},[]);return Zv(n,h,g,i==null?void 0:i.class,i==null?void 0:i.className)},Pf="-",qN=n=>{const e=FN(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=n;return{getClassGroupId:h=>{const m=h.split(Pf);return m[0]===""&&m.length!==1&&m.shift(),Lx(m,e)||VN(h)},getConflictingClassGroupIds:(h,m)=>{const g=i[h]||[];return m&&a[h]?[...g,...a[h]]:g}}},Lx=(n,e)=>{var h;if(n.length===0)return e.classGroupId;const i=n[0],a=e.nextPart.get(i),o=a?Lx(n.slice(1),a):void 0;if(o)return o;if(e.validators.length===0)return;const u=n.join(Pf);return(h=e.validators.find(({validator:m})=>m(u)))==null?void 0:h.classGroupId},Jv=/^\[(.+)\]$/,VN=n=>{if(Jv.test(n)){const e=Jv.exec(n)[1],i=e==null?void 0:e.substring(0,e.indexOf(":"));if(i)return"arbitrary.."+i}},FN=n=>{const{theme:e,classGroups:i}=n,a={nextPart:new Map,validators:[]};for(const o in i)lf(i[o],a,o,e);return a},lf=(n,e,i,a)=>{n.forEach(o=>{if(typeof o=="string"){const u=o===""?e:e_(e,o);u.classGroupId=i;return}if(typeof o=="function"){if(GN(o)){lf(o(a),e,i,a);return}e.validators.push({validator:o,classGroupId:i});return}Object.entries(o).forEach(([u,h])=>{lf(h,e_(e,u),i,a)})})},e_=(n,e)=>{let i=n;return e.split(Pf).forEach(a=>{i.nextPart.has(a)||i.nextPart.set(a,{nextPart:new Map,validators:[]}),i=i.nextPart.get(a)}),i},GN=n=>n.isThemeGetter,YN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,i=new Map,a=new Map;const o=(u,h)=>{i.set(u,h),e++,e>n&&(e=0,a=i,i=new Map)};return{get(u){let h=i.get(u);if(h!==void 0)return h;if((h=a.get(u))!==void 0)return o(u,h),h},set(u,h){i.has(u)?i.set(u,h):o(u,h)}}},of="!",cf=":",KN=cf.length,$N=n=>{const{prefix:e,experimentalParseClassName:i}=n;let a=o=>{const u=[];let h=0,m=0,g=0,p;for(let I=0;I<o.length;I++){let C=o[I];if(h===0&&m===0){if(C===cf){u.push(o.slice(g,I)),g=I+KN;continue}if(C==="/"){p=I;continue}}C==="["?h++:C==="]"?h--:C==="("?m++:C===")"&&m--}const v=u.length===0?o:o.substring(g),x=QN(v),b=x!==v,E=p&&p>g?p-g:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:E}};if(e){const o=e+cf,u=a;a=h=>h.startsWith(o)?u(h.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(i){const o=a;a=u=>i({className:u,parseClassName:o})}return a},QN=n=>n.endsWith(of)?n.substring(0,n.length-1):n.startsWith(of)?n.substring(1):n,XN=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let u=[];return a.forEach(h=>{h[0]==="["||e[h]?(o.push(...u.sort(),h),u=[]):u.push(h)}),o.push(...u.sort()),o}},WN=n=>({cache:YN(n.cacheSize),parseClassName:$N(n),sortModifiers:XN(n),...qN(n)}),ZN=/\s+/,JN=(n,e)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:u}=e,h=[],m=n.trim().split(ZN);let g="";for(let p=m.length-1;p>=0;p-=1){const v=m[p],{isExternal:x,modifiers:b,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:C}=i(v);if(x){g=v+(g.length>0?" "+g:g);continue}let B=!!C,P=a(B?I.substring(0,C):I);if(!P){if(!B){g=v+(g.length>0?" "+g:g);continue}if(P=a(I),!P){g=v+(g.length>0?" "+g:g);continue}B=!1}const X=u(b).join(":"),W=E?X+of:X,se=W+P;if(h.includes(se))continue;h.push(se);const ie=o(P,B);for(let H=0;H<ie.length;++H){const oe=ie[H];h.push(W+oe)}g=v+(g.length>0?" "+g:g)}return g};function eE(){let n=0,e,i,a="";for(;n<arguments.length;)(e=arguments[n++])&&(i=Ux(e))&&(a&&(a+=" "),a+=i);return a}const Ux=n=>{if(typeof n=="string")return n;let e,i="";for(let a=0;a<n.length;a++)n[a]&&(e=Ux(n[a]))&&(i&&(i+=" "),i+=e);return i};function tE(n,...e){let i,a,o,u=h;function h(g){const p=e.reduce((v,x)=>x(v),n());return i=WN(p),a=i.cache.get,o=i.cache.set,u=m,m(g)}function m(g){const p=a(g);if(p)return p;const v=JN(g,i);return o(g,v),v}return function(){return u(eE.apply(null,arguments))}}const pt=n=>{const e=i=>i[n]||[];return e.isThemeGetter=!0,e},Px=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nE=/^\d+\/\d+$/,sE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ka=n=>nE.test(n),Ce=n=>!!n&&!Number.isNaN(Number(n)),Hs=n=>!!n&&Number.isInteger(Number(n)),Uh=n=>n.endsWith("%")&&Ce(n.slice(0,-1)),ts=n=>sE.test(n),oE=()=>!0,cE=n=>iE.test(n)&&!aE.test(n),Bx=()=>!1,uE=n=>rE.test(n),dE=n=>lE.test(n),hE=n=>!de(n)&&!he(n),fE=n=>$a(n,Vx,Bx),de=n=>Px.test(n),wi=n=>$a(n,Fx,cE),Ph=n=>$a(n,vE,Ce),t_=n=>$a(n,Hx,Bx),mE=n=>$a(n,qx,dE),rc=n=>$a(n,Gx,uE),he=n=>zx.test(n),tl=n=>Qa(n,Fx),pE=n=>Qa(n,_E),n_=n=>Qa(n,Hx),gE=n=>Qa(n,Vx),yE=n=>Qa(n,qx),lc=n=>Qa(n,Gx,!0),$a=(n,e,i)=>{const a=Px.exec(n);return a?a[1]?e(a[1]):i(a[2]):!1},Qa=(n,e,i=!1)=>{const a=zx.exec(n);return a?a[1]?e(a[1]):i:!1},Hx=n=>n==="position"||n==="percentage",qx=n=>n==="image"||n==="url",Vx=n=>n==="length"||n==="size"||n==="bg-size",Fx=n=>n==="length",vE=n=>n==="number",_E=n=>n==="family-name",Gx=n=>n==="shadow",xE=()=>{const n=pt("color"),e=pt("font"),i=pt("text"),a=pt("font-weight"),o=pt("tracking"),u=pt("leading"),h=pt("breakpoint"),m=pt("container"),g=pt("spacing"),p=pt("radius"),v=pt("shadow"),x=pt("inset-shadow"),b=pt("text-shadow"),E=pt("drop-shadow"),I=pt("blur"),C=pt("perspective"),B=pt("aspect"),P=pt("ease"),X=pt("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...se(),he,de],H=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto","contain","none"],$=()=>[he,de,g],me=()=>[ka,"full","auto",...$()],z=()=>[Hs,"none","subgrid",he,de],D=()=>["auto",{span:["full",Hs,he,de]},Hs,he,de],U=()=>[Hs,"auto",he,de],j=()=>["auto","min","max","fr",he,de],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...$()],Z=()=>[ka,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],K=()=>[n,he,de],He=()=>[...se(),n_,t_,{position:[he,de]}],w=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",gE,fE,{size:[he,de]}],ae=()=>[Uh,tl,wi],J=()=>["","none","full",p,he,de],ce=()=>["",Ce,tl,wi],Ie=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[Ce,Uh,n_,t_],Qe=()=>["","none",I,he,de],Gt=()=>["none",Ce,he,de],ms=()=>["none",Ce,he,de],ps=()=>[Ce,he,de],gs=()=>[ka,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ts],breakpoint:[ts],color:[oE],container:[ts],"drop-shadow":[ts],ease:["in","out","in-out"],font:[hE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ts],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ts],shadow:[ts],spacing:["px",Ce],text:[ts],"text-shadow":[ts],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ka,de,he,B]}],container:["container"],columns:[{columns:[Ce,de,he,m]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:oe()}],"overscroll-x":[{"overscroll-x":oe()}],"overscroll-y":[{"overscroll-y":oe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:me()}],"inset-x":[{"inset-x":me()}],"inset-y":[{"inset-y":me()}],start:[{start:me()}],end:[{end:me()}],top:[{top:me()}],right:[{right:me()}],bottom:[{bottom:me()}],left:[{left:me()}],visibility:["visible","invisible","collapse"],z:[{z:[Hs,"auto",he,de]}],basis:[{basis:[ka,"full","auto",m,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,ka,"auto","initial","none",de]}],grow:[{grow:["",Ce,he,de]}],shrink:[{shrink:["",Ce,he,de]}],order:[{order:[Hs,"first","last","none",he,de]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[m,"screen",...Z()]}],"min-w":[{"min-w":[m,"screen","none",...Z()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",i,tl,wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,he,Ph]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uh,de]}],"font-family":[{font:[pE,de,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,he,de]}],"line-clamp":[{"line-clamp":[Ce,"none",he,Ph]}],leading:[{leading:[u,...$()]}],"list-image":[{"list-image":["none",he,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",he,wi]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Ce,"auto",he,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:He()}],"bg-repeat":[{bg:w()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hs,he,de],radial:["",he,de],conic:[Hs,he,de]},yE,mE]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,he,de]}],"outline-w":[{outline:["",Ce,tl,wi]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,lc,rc]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",x,lc,rc]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Ce,wi]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",b,lc,rc]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Ce,he,de]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[he,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":se()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:He()}],"mask-repeat":[{mask:w()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,de]}],filter:[{filter:["","none",he,de]}],blur:[{blur:Qe()}],brightness:[{brightness:[Ce,he,de]}],contrast:[{contrast:[Ce,he,de]}],"drop-shadow":[{"drop-shadow":["","none",E,lc,rc]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Ce,he,de]}],"hue-rotate":[{"hue-rotate":[Ce,he,de]}],invert:[{invert:["",Ce,he,de]}],saturate:[{saturate:[Ce,he,de]}],sepia:[{sepia:["",Ce,he,de]}],"backdrop-filter":[{"backdrop-filter":["","none",he,de]}],"backdrop-blur":[{"backdrop-blur":Qe()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,he,de]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,he,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,he,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,he,de]}],"backdrop-invert":[{"backdrop-invert":["",Ce,he,de]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,he,de]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,he,de]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,he,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",he,de]}],ease:[{ease:["linear","initial",P,he,de]}],delay:[{delay:[Ce,he,de]}],animate:[{animate:["none",X,he,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,he,de]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:Gt()}],"rotate-x":[{"rotate-x":Gt()}],"rotate-y":[{"rotate-y":Gt()}],"rotate-z":[{"rotate-z":Gt()}],scale:[{scale:ms()}],"scale-x":[{"scale-x":ms()}],"scale-y":[{"scale-y":ms()}],"scale-z":[{"scale-z":ms()}],"scale-3d":["scale-3d"],skew:[{skew:ps()}],"skew-x":[{"skew-x":ps()}],"skew-y":[{"skew-y":ps()}],transform:[{transform:[he,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:gs()}],"translate-x":[{"translate-x":gs()}],"translate-y":[{"translate-y":gs()}],"translate-z":[{"translate-z":gs()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,de]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Ce,tl,wi,Ph]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bE=tE(xE);function sn(...n){return bE(Mx(n))}const SE=Dx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function fe({className:n,variant:e,size:i,asChild:a=!1,...o}){const u=a?Ix:"button";return c.jsx(u,{"data-slot":"button",className:sn(SE({variant:e,size:i,className:n})),...o})}function te({className:n,...e}){return c.jsx("div",{"data-slot":"card",className:sn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function re({className:n,...e}){return c.jsx("div",{"data-slot":"card-header",className:sn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function le({className:n,...e}){return c.jsx("div",{"data-slot":"card-title",className:sn("leading-none font-semibold",n),...e})}function We({className:n,...e}){return c.jsx("div",{"data-slot":"card-description",className:sn("text-muted-foreground text-sm",n),...e})}function ne({className:n,...e}){return c.jsx("div",{"data-slot":"card-content",className:sn("px-6",n),...e})}function Ne({className:n,type:e,...i}){return c.jsx("input",{type:e,"data-slot":"input",className:sn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...i})}kx();var wE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zi=wE.reduce((n,e)=>{const i=_c(`Primitive.${e}`),a=L.forwardRef((o,u)=>{const{asChild:h,...m}=o,g=h?i:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(g,{...m,ref:u})});return a.displayName=`Primitive.${e}`,{...n,[e]:a}},{}),NE="Label",Yx=L.forwardRef((n,e)=>c.jsx(zi.label,{...n,ref:e,onMouseDown:i=>{var o;i.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));Yx.displayName=NE;var EE=Yx;function ge({className:n,...e}){return c.jsx(EE,{"data-slot":"label",className:sn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),s_=n=>{const e=CE(n);return e.charAt(0).toUpperCase()+e.slice(1)},Kx=(...n)=>n.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),jE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h,...m},g)=>L.createElement("svg",{ref:g,...AE,width:e,height:e,stroke:n,strokeWidth:a?Number(i)*24/Number(e):i,className:Kx("lucide",o),...!u&&!jE(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,v])=>L.createElement(p,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(n,e)=>{const i=L.forwardRef(({className:a,...o},u)=>L.createElement(RE,{ref:u,iconNode:e,className:Kx(`lucide-${TE(s_(n))}`,`lucide-${n}`,a),...o}));return i.displayName=s_(n),i};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],IE=be("archive",kE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],ME=be("banknote",OE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$x=be("bell",DE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Qx=be("calculator",LE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xx=be("calendar",UE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],zE=be("chart-line",PE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zf=be("chart-column",BE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qE=be("chart-pie",HE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],FE=be("credit-card",VE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],YE=be("database",GE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jl=be("dollar-sign",KE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ns=be("download",$E);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XE=be("eye",QE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],i_=be("file-text",WE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bf=be("funnel",ZE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],eT=be("house",JE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nT=be("log-out",tT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wx=be("mail",sT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xc=be("map-pin",iT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],rT=be("menu",aT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M5 12h14",key:"1ays0h"}]],Zx=be("minus",lT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],os=be("package",oT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uf=be("phone",cT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pl=be("plus",uT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],hT=be("receipt",dT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hf=be("refresh-cw",fT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zh=be("save",mT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],gT=be("scan",pT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Al=be("search",yT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_T=be("settings",vT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bT=be("shield",xT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],wT=be("shopping-bag",ST);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bc=be("shopping-cart",NT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],TT=be("smartphone",ET);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qf=be("square-pen",CT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],AT=be("store",jT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kT=be("tag",RT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rl=be("trash-2",IT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],MT=be("trending-down",OT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Sc=be("trending-up",DT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],df=be("triangle-alert",LT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],fc=be("truck",UT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],zT=be("upload",PT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],a_=be("user-plus",BT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jx=be("user",HT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ha=be("users",qT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],FT=be("warehouse",VT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YT=be("x",GT),KT=Dx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function tn({className:n,variant:e,asChild:i=!1,...a}){const o=i?Ix:"span";return c.jsx(o,{"data-slot":"badge",className:sn(KT({variant:e}),n),...a})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=()=>{};var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(n,e){if(!n)throw Xa(e)},Xa=function(n){return new Error("Firebase Database ("+e0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=function(n){const e=[];let i=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QT=function(n){const e=[];let i=0,a=0;for(;i<n.length;){const o=n[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],m=n[i++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],h=n[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,m=h?n[o+1]:0,g=o+2<n.length,p=g?n[o+2]:0,v=u>>2,x=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,E=p&63;g||(E=64,h||(b=64)),a.push(i[v],i[x],i[b],i[E])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(t0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const p=o<n.length?i[n.charAt(o)]:64;++o;const x=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||p==null||x==null)throw new XT;const b=u<<2|m>>4;if(a.push(b),p!==64){const E=m<<4&240|p>>2;if(a.push(E),x!==64){const I=p<<6&192|x;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n0=function(n){const e=t0(n);return Vf.encodeByteArray(e,!0)},wc=function(n){return n0(n).replace(/\./g,"")},Nc=function(n){try{return Vf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){return s0(void 0,n)}function s0(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!ZT(i)||(n[i]=s0(n[i],e[i]));return n}function ZT(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=()=>JT().__FIREBASE_DEFAULTS__,tC=()=>{if(typeof process>"u"||typeof r_>"u")return;const n=r_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Nc(n[1]);return e&&JSON.parse(e)},Ff=()=>{try{return $T()||eC()||tC()||nC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},i0=n=>{var e,i;return(i=(e=Ff())==null?void 0:e.emulatorHosts)==null?void 0:i[n]},a0=n=>{const e=i0(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},r0=()=>{var n;return(n=Ff())==null?void 0:n.config},l0=n=>{var e;return(e=Ff())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gf(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wc(JSON.stringify(i)),wc(JSON.stringify(h)),""].join(".")}const rl={};function sC(){const n={prod:[],emulator:[]};for(const e of Object.keys(rl))rl[e]?n.emulator.push(e):n.prod.push(e);return n}function iC(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let l_=!1;function Yf(n,e){if(typeof window>"u"||typeof document>"u"||!Bi(window.location.host)||rl[n]===e||rl[n]||l_)return;rl[n]=e;function i(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=sC().prod.length>0;function h(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{l_=!0,h()},b}function v(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=iC(a),E=i("text"),I=document.getElementById(E)||document.createElement("span"),C=i("learnmore"),B=document.getElementById(C)||document.createElement("a"),P=i("preprendIcon"),X=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;m(W),v(B,C);const se=p();g(X,P),W.append(X,I,B,se),document.body.appendChild(W)}u?(I.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function aC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function u0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rC(){const n=Lt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lC(){return e0.NODE_ADMIN===!0}function d0(){try{return typeof indexedDB=="object"}catch{return!1}}function h0(){return new Promise((n,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function oC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FirebaseError";class jn extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=cC,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hi.prototype.create)}}class Hi{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?uC(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new jn(o,m,a)}}function uC(n,e){return n.replace(dC,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const dC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){return JSON.parse(n)}function yt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=function(n){let e={},i={},a={},o="";try{const u=n.split(".");e=gl(Nc(u[0])||""),i=gl(Nc(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},hC=function(n){const e=f0(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},fC=function(n){const e=f0(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qa(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function hf(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ec(n,e,i){const a={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=e.call(i,n[o],o,n));return a}function Js(n,e){if(n===e)return!0;const i=Object.keys(n),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=n[o],h=e[o];if(o_(u)&&o_(h)){if(!Js(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function o_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n){const e=[];for(const[i,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let x=0;x<16;x++)a[x]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let x=0;x<16;x++)a[x]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let x=16;x<80;x++){const b=a[x-3]^a[x-8]^a[x-14]^a[x-16];a[x]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,v;for(let x=0;x<80;x++){x<40?x<20?(p=m^u&(h^m),v=1518500249):(p=u^h^m,v=1859775393):x<60?(p=u&h|m&(u|h),v=2400959708):(p=u^h^m,v=3395469782);const b=(o<<5|o>>>27)+p+g+v+a[x]&4294967295;g=m,m=h,h=(u<<30|u>>>2)&4294967295,u=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=e[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[o]>>u&255,++a;return e}}function pC(n,e){const i=new gC(n,e);return i.subscribe.bind(i)}class gC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yC(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Bh),o.error===void 0&&(o.error=Bh),o.complete===void 0&&(o.complete=Bh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yC(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Bh(){}function Wc(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(n){const e=[];let i=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,ee(a<n.length,"Surrogate pair missing trail surrogate.");const h=n.charCodeAt(a)-56320;o=65536+(u<<10)+h}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Zc=function(n){let e=0;for(let i=0;i<n.length;i++){const a=n.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1e3,xC=2,bC=4*60*60*1e3,SC=.5;function c_(n,e=_C,i=xC){const a=e*Math.pow(i,n),o=Math.round(SC*a*(Math.random()-.5)*2);return Math.min(bC,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new kl;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EC(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:NC(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NC(n){return n===Ni?void 0:n}function EC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wC(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const CC={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},jC=$e.INFO,AC={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},RC=(n,e,...i)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),o=AC[e];if(o)console[o](`[${a}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jc{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const kC=(n,e)=>e.some(i=>n instanceof i);let u_,d_;function IC(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,ff=new WeakMap,p0=new WeakMap,Hh=new WeakMap,$f=new WeakMap;function MC(n){const e=new Promise((i,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Qs(n.result)),o()},h=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&m0.set(i,n)}).catch(()=>{}),$f.set(e,n),e}function DC(n){if(ff.has(n))return;const e=new Promise((i,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});ff.set(n,e)}let mf={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return ff.get(n);if(e==="objectStoreNames")return n.objectStoreNames||p0.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LC(n){mf=n(mf)}function UC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=n.call(qh(this),e,...i);return p0.set(a,e.sort?e.sort():[e]),Qs(a)}:OC().includes(n)?function(...e){return n.apply(qh(this),e),Qs(m0.get(this))}:function(...e){return Qs(n.apply(qh(this),e))}}function PC(n){return typeof n=="function"?UC(n):(n instanceof IDBTransaction&&DC(n),kC(n,IC())?new Proxy(n,mf):n)}function Qs(n){if(n instanceof IDBRequest)return MC(n);if(Hh.has(n))return Hh.get(n);const e=PC(n);return e!==n&&(Hh.set(n,e),$f.set(e,n)),e}const qh=n=>$f.get(n);function g0(n,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(n,e),m=Qs(h);return a&&h.addEventListener("upgradeneeded",g=>{a(Qs(h.result),g.oldVersion,g.newVersion,Qs(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const zC=["get","getKey","getAll","getAllKeys","count"],BC=["put","add","delete","clear"],Vh=new Map;function h_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=BC.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||zC.includes(i)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return Vh.set(e,u),u}LC(n=>({...n,get:(e,i,a)=>h_(e,i)||n.get(e,i,a),has:(e,i)=>!!h_(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qC(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pf="@firebase/app",f_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Jc("@firebase/app"),VC="@firebase/app-compat",FC="@firebase/analytics-compat",GC="@firebase/analytics",YC="@firebase/app-check-compat",KC="@firebase/app-check",$C="@firebase/auth",QC="@firebase/auth-compat",XC="@firebase/database",WC="@firebase/data-connect",ZC="@firebase/database-compat",JC="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",s2="@firebase/messaging",i2="@firebase/messaging-compat",a2="@firebase/performance",r2="@firebase/performance-compat",l2="@firebase/remote-config",o2="@firebase/remote-config-compat",c2="@firebase/storage",u2="@firebase/storage-compat",d2="@firebase/firestore",h2="@firebase/ai",f2="@firebase/firestore-compat",m2="firebase",p2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="[DEFAULT]",g2={[pf]:"fire-core",[VC]:"fire-core-compat",[GC]:"fire-analytics",[FC]:"fire-analytics-compat",[KC]:"fire-app-check",[YC]:"fire-app-check-compat",[$C]:"fire-auth",[QC]:"fire-auth-compat",[XC]:"fire-rtdb",[WC]:"fire-data-connect",[ZC]:"fire-rtdb-compat",[JC]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[s2]:"fire-fcm",[i2]:"fire-fcm-compat",[a2]:"fire-perf",[r2]:"fire-perf-compat",[l2]:"fire-rc",[o2]:"fire-rc-compat",[c2]:"fire-gcs",[u2]:"fire-gcs-compat",[d2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,y2=new Map,yf=new Map;function m_(n,e){try{n.container.addComponent(e)}catch(i){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Cn(n){const e=n.name;if(yf.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;yf.set(e,n);for(const i of Tc.values())m_(i,n);for(const i of y2.values())m_(i,n);return!0}function ii(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Hi("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=p2;function y0(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const a={name:gf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=r0()),!i)throw Xs.create("no-options");const u=Tc.get(o);if(u){if(Js(i,u.options)&&Js(a,u.config))return u;throw Xs.create("duplicate-app",{appName:o})}const h=new TC(o);for(const g of yf.values())h.addComponent(g);const m=new _2(i,a,h);return Tc.set(o,m),m}function eu(n=gf){const e=Tc.get(n);if(!e&&n===gf&&r0())return y0();if(!e)throw Xs.create("no-app",{appName:n});return e}function Vt(n,e,i){let a=g2[n]??n;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(h.join(" "));return}Cn(new pn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebase-heartbeat-database",b2=1,yl="firebase-heartbeat-store";let Fh=null;function v0(){return Fh||(Fh=g0(x2,b2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),Fh}async function S2(n){try{const i=(await v0()).transaction(yl),a=await i.objectStore(yl).get(_0(n));return await i.done,a}catch(e){if(e instanceof jn)cs.warn(e.message);else{const i=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(i.message)}}}async function p_(n,e){try{const a=(await v0()).transaction(yl,"readwrite");await a.objectStore(yl).put(e,_0(n)),await a.done}catch(i){if(i instanceof jn)cs.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});cs.warn(a.message)}}}function _0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=1024,N2=30;class E2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new C2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=g_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>N2){const h=j2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){cs.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=g_(),{heartbeatsToSend:a,unsentEntries:o}=T2(this._heartbeatsCache.heartbeats),u=wc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return cs.warn(i),""}}}function g_(){return new Date().toISOString().substring(0,10)}function T2(n,e=w2){const i=[];let a=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),y_(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),y_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class C2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d0()?h0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await S2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function y_(n){return wc(JSON.stringify({version:2,heartbeats:n})).length}function j2(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let a=1;a<n.length;a++)n[a].date<i&&(i=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n){Cn(new pn("platform-logger",e=>new HC(e),"PRIVATE")),Cn(new pn("heartbeat",e=>new E2(e),"PRIVATE")),Vt(pf,f_,n),Vt(pf,f_,"esm2020"),Vt("fire-js","")}A2("");var v_={};const __="@firebase/database",x_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x0="";function R2(n){x0=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:gl(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new k2(e)}}catch{}return new I2},Ti=b0("localStorage"),O2=b0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Jc("@firebase/database"),M2=function(){let n=1;return function(){return n++}}(),S0=function(n){const e=vC(n),i=new mC;i.update(e);const a=i.digest();return Vf.encodeByteArray(a)},Il=function(...n){let e="";for(let i=0;i<n.length;i++){const a=n[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=Il.apply(null,a):typeof a=="object"?e+=yt(a):e+=a,e+=" "}return e};let ll=null,b_=!0;const D2=function(n,e){ee(!0,"Can't turn on custom loggers persistently."),Ua.logLevel=$e.VERBOSE,ll=Ua.log.bind(Ua)},Ct=function(...n){if(b_===!0&&(b_=!1,ll===null&&O2.get("logging_enabled")===!0&&D2()),ll){const e=Il.apply(null,n);ll(e)}},Ol=function(n){return function(...e){Ct(n,...e)}},vf=function(...n){const e="FIREBASE INTERNAL ERROR: "+Il(...n);Ua.error(e)},us=function(...n){const e=`FIREBASE FATAL ERROR: ${Il(...n)}`;throw Ua.error(e),new Error(e)},Dt=function(...n){const e="FIREBASE WARNING: "+Il(...n);Ua.warn(e)},L2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qf=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},U2=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ki="[MIN_NAME]",ei="[MAX_NAME]",Vi=function(n,e){if(n===e)return 0;if(n===ki||e===ei)return-1;if(e===ki||n===ei)return 1;{const i=S_(n),a=S_(e);return i!==null?a!==null?i-a===0?n.length-e.length:i-a:-1:a!==null?1:n<e?-1:1}},P2=function(n,e){return n===e?0:n<e?-1:1},nl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+yt(e))},Xf=function(n){if(typeof n!="object"||n===null)return yt(n);const e=[];for(const a in n)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=yt(e[a]),i+=":",i+=Xf(n[e[a]]);return i+="}",i},w0=function(n,e){const i=n.length;if(i<=e)return[n];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(n.substring(o,i)):a.push(n.substring(o,o+e));return a};function jt(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const N0=function(n){ee(!Qf(n),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,u,h,m,g;n===0?(u=0,h=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-a)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),a),u=m+a,h=Math.round(n*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,h=Math.round(n/Math.pow(2,1-a-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=e;g;g-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const v=p.join("");let x="";for(g=0;g<64;g+=8){let b=parseInt(v.substr(g,8),2).toString(16);b.length===1&&(b="0"+b),x=x+b}return x.toLowerCase()},z2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},B2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function H2(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const a=new Error(n+" at "+e._path.toString()+": "+i);return a.code=n.toUpperCase(),a}const q2=new RegExp("^-?(0*)\\d{1,10}$"),V2=-2147483648,F2=2147483647,S_=function(n){if(q2.test(n)){const e=Number(n);if(e>=V2&&e<=F2)return e}return null},Za=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Dt("Exception was thrown by user callback.",i),e},Math.floor(0))}},G2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ol=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)==null||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(e)}}class mc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="5",E0="v",T0="s",C0="r",j0="f",A0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R0="ls",k0="p",_f="ac",I0="websocket",O0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,i,a,o,u=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ti.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ti.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function $2(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function D0(n,e,i){ee(typeof e=="string","typeof type must == string"),ee(typeof i=="object","typeof params must == object");let a;if(e===I0)a=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===O0)a=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$2(n)&&(i.ns=n.namespace);const o=[];return jt(i,(u,h)=>{o.push(u+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.counters_={}}incrementCounter(e,i=1){Pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return WT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh={},Yh={};function Zf(n){const e=n.toString();return Gh[e]||(Gh[e]=new Q2),Gh[e]}function X2(n,e){const i=n.toString();return Yh[i]||(Yh[i]=e()),Yh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Za(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="start",Z2="close",J2="pLPCommand",ej="pRTLPCB",L0="id",U0="pw",P0="ser",tj="cb",nj="seg",sj="ts",ij="d",aj="dframe",z0=1870,B0=30,rj=z0-B0,lj=25e3,oj=3e4;class Da{constructor(e,i,a,o,u,h,m){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ol(e),this.stats_=Zf(i),this.urlFn=g=>(this.appCheckToken&&(g[_f]=this.appCheckToken),D0(i,O0,g))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new W2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oj)),U2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jf((...u)=>{const[h,m,g,p,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===w_)this.id=m,this.password=g;else if(h===Z2)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const a={};a[w_]="t",a[P0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[tj]=this.scriptTagHolder.uniqueCallbackIdentifier),a[E0]=Wf,this.transportSessionId&&(a[T0]=this.transportSessionId),this.lastSessionId&&(a[R0]=this.lastSessionId),this.applicationId&&(a[k0]=this.applicationId),this.appCheckToken&&(a[_f]=this.appCheckToken),typeof location<"u"&&location.hostname&&A0.test(location.hostname)&&(a[C0]=j0);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Da.forceAllow_=!0}static forceDisallow(){Da.forceDisallow_=!0}static isAvailable(){return Da.forceAllow_?!0:!Da.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!z2()&&!B2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=yt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=n0(i),o=w0(a,rj);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[aj]="t",a[L0]=e,a[U0]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=yt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Jf{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=M2(),window[J2+this.uniqueCallbackIdentifier]=e,window[ej+this.uniqueCallbackIdentifier]=i,this.myIFrame=Jf.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){Ct("frame writing exception"),m.stack&&Ct(m.stack),Ct(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ct("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[L0]=this.myID,e[U0]=this.myPW,e[P0]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+B0+a.length<=z0;){const h=this.pendingSegs.shift();a=a+"&"+nj+o+"="+h.seg+"&"+sj+o+"="+h.ts+"&"+ij+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(lj)),u=()=>{clearTimeout(o),a()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{Ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=16384,uj=45e3;let Cc=null;typeof MozWebSocket<"u"?Cc=MozWebSocket:typeof WebSocket<"u"&&(Cc=WebSocket);class bn{constructor(e,i,a,o,u,h,m){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ol(this.connId),this.stats_=Zf(i),this.connURL=bn.connectionURL_(i,h,m,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,u){const h={};return h[E0]=Wf,typeof location<"u"&&location.hostname&&A0.test(location.hostname)&&(h[C0]=j0),i&&(h[T0]=i),a&&(h[R0]=a),o&&(h[_f]=o),u&&(h[k0]=u),D0(e,I0,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ti.set("previous_websocket_failure",!0);try{let a;lC(),this.mySock=new Cc(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&Cc!==null&&!bn.forceDisallow_}static previouslyFailed(){return Ti.isInMemoryStorage||Ti.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ti.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=gl(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=yt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=w0(i,cj);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uj))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bn.responsesRequiredToBeHealthy=2;bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static get ALL_TRANSPORTS(){return[Da,bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=bn&&bn.isAvailable();let a=i&&!bn.previouslyFailed();if(e.webSocketOnly&&(i||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[bn];else{const o=this.transports_=[];for(const u of vl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=6e4,hj=5e3,fj=10*1024,mj=100*1024,Kh="t",N_="d",pj="s",E_="r",gj="e",T_="o",C_="a",j_="n",A_="p",yj="h";class vj{constructor(e,i,a,o,u,h,m,g,p,v){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ol("c:"+this.id+":"),this.transportManager_=new vl(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ol(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kh in e){const i=e[Kh];i===C_?this.upgradeIfSecondaryHealthy_():i===E_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===T_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=nl("t",e),a=nl("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:A_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:C_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:j_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=nl("t",e),a=nl("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=nl(Kh,e);if(N_ in e){const a=e[N_];if(i===yj){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===j_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===pj?this.onConnectionShutdown_(a):i===E_?this.onReset_(a):i===gj?vf("Server Error: "+a):i===T_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vf("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Wf!==a&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),ol(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ol(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:A_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ti.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.allowedEvents_=e,this.listeners_={},ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(e){ee(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends q0{static getInstance(){return new jc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=32,k_=768;class Fe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function ze(){return new Fe("")}function Ae(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ti(n){return n.pieces_.length-n.pieceNum_}function et(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Fe(n.pieces_,e)}function em(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function _j(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function _l(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function V0(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new Fe(e,0)}function ot(n,e){const i=[];for(let a=n.pieceNum_;a<n.pieces_.length;a++)i.push(n.pieces_[a]);if(e instanceof Fe)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Fe(i,0)}function Re(n){return n.pieceNum_>=n.pieces_.length}function Mt(n,e){const i=Ae(n),a=Ae(e);if(i===null)return e;if(i===a)return Mt(et(n),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function xj(n,e){const i=_l(n,0),a=_l(e,0);for(let o=0;o<i.length&&o<a.length;o++){const u=Vi(i[o],a[o]);if(u!==0)return u}return i.length===a.length?0:i.length<a.length?-1:1}function tm(n,e){if(ti(n)!==ti(e))return!1;for(let i=n.pieceNum_,a=e.pieceNum_;i<=n.pieces_.length;i++,a++)if(n.pieces_[i]!==e.pieces_[a])return!1;return!0}function mn(n,e){let i=n.pieceNum_,a=e.pieceNum_;if(ti(n)>ti(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class bj{constructor(e,i){this.errorPrefix_=i,this.parts_=_l(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Zc(this.parts_[a]);F0(this)}}function Sj(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Zc(e),F0(n)}function wj(n){const e=n.parts_.pop();n.byteLength_-=Zc(e),n.parts_.length>0&&(n.byteLength_-=1)}function F0(n){if(n.byteLength_>k_)throw new Error(n.errorPrefix_+"has a key path longer than "+k_+" bytes ("+n.byteLength_+").");if(n.parts_.length>R_)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+R_+") or object contains a cycle "+Ei(n))}function Ei(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends q0{static getInstance(){return new nm}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=1e3,Nj=60*5*1e3,I_=30*1e3,Ej=1.3,Tj=3e4,Cj="server_kill",O_=3;class rs extends H0{constructor(e,i,a,o,u,h,m,g){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=rs.nextPersistentConnectionId_++,this.log_=Ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sl,this.maxReconnectDelay_=Nj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&jc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(yt(u)),ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new kl,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,a,o){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ee(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(h).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},h="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(h,u,m=>{const g=m.d,p=m.s;rs.warnOnListenWarnings_(g,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(p,g))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Pn(e,"w")){const a=qa(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=I_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=hC(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,h=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},h="n";o&&(u.q=a,u.t=o),this.sendRequest(h,u)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,u){this.initConnection_();const h={p:i,d:a};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yt(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):vf("Unrecognized action received from server: "+yt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Tj&&(this.reconnectDelay_=sl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ej)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+rs.nextConnectionId_++,u=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,a())},p=function(x){ee(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(x)};this.realtime_={close:g,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[x,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?Ct("getToken() completed but was canceled"):(Ct("getToken() completed. Creating connection."),this.authToken_=x&&x.accessToken,this.appCheckToken_=b&&b.token,m=new vj(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,E=>{Dt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(Cj)},u))}catch(x){this.log_("Failed to get token: "+x),h||(this.repoInfo_.nodeAdmin&&Dt(x),g())}}}interrupt(e){Ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hf(this.interruptReasons_)&&(this.reconnectDelay_=sl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(u=>Xf(u)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new Fe(e).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){Ct("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=O_&&(this.reconnectDelay_=I_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ct("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=O_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+x0.replace(/\./g,"-")]=1,Kf()?e["framework.cordova"]=1:u0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jc.getInstance().currentlyOnline();return hf(this.interruptReasons_)&&e}}rs.nextPersistentConnectionId_=0;rs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ke(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new ke(ki,e),o=new ke(ki,i);return this.compare(a,o)!==0}minPost(){return ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;class G0 extends tu{static get __EMPTY_NODE(){return oc}static set __EMPTY_NODE(e){oc=e}compare(e,i){return Vi(e.name,i.name)}isDefinedOn(e){throw Xa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ke.MIN}maxPost(){return new ke(ei,oc)}makePost(e,i){return ee(typeof e=="string","KeyIndex indexValue must always be a string."),new ke(e,oc)}toString(){return".key"}}const Ai=new G0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?a(e.key,i):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class wt{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??wt.RED,this.left=o??qt.EMPTY_NODE,this.right=u??qt.EMPTY_NODE}copy(e,i,a,o,u){return new wt(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return qt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}wt.RED=!0;wt.BLACK=!1;class jj{copy(e,i,a,o,u){return this}insert(e,i,a){return new wt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(e,i=qt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new qt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new cc(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new cc(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new cc(this.root_,null,this.comparator_,!0,e)}}qt.EMPTY_NODE=new jj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(n,e){return Vi(n.name,e.name)}function sm(n,e){return Vi(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;function Rj(n){xf=n}const Y0=function(n){return typeof n=="number"?"number:"+N0(n):"string:"+n},K0=function(n){if(n.isLeafNode()){const e=n.val();ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pn(e,".sv"),"Priority must be a string or number.")}else ee(n===xf||n.isEmpty(),"priority of unexpected type.");ee(n===xf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_;class St{static set __childrenNodeConstructor(e){M_=e}static get __childrenNodeConstructor(){return M_}constructor(e,i=St.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),K0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new St(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Re(e)?this:Ae(e)===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:St.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Ae(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(ee(a!==".priority"||ti(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,St.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Y0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=N0(this.value_):e+=this.value_,this.lazyHash_=S0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===St.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof St.__childrenNodeConstructor?-1:(ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=St.VALUE_TYPE_ORDER.indexOf(i),u=St.VALUE_TYPE_ORDER.indexOf(a);return ee(o>=0,"Unknown leaf type: "+i),ee(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}St.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $0,Q0;function kj(n){$0=n}function Ij(n){Q0=n}class Oj extends tu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?Vi(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(ei,new St("[PRIORITY-POST]",Q0))}makePost(e,i){const a=$0(e);return new ke(i,new St("[PRIORITY-POST]",a))}toString(){return".priority"}}const at=new Oj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=Math.log(2);class Dj{constructor(e){const i=u=>parseInt(Math.log(u)/Mj,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ac=function(n,e,i,a){n.sort(e);const o=function(g,p){const v=p-g;let x,b;if(v===0)return null;if(v===1)return x=n[g],b=i?i(x):x,new wt(b,x.node,wt.BLACK,null,null);{const E=parseInt(v/2,10)+g,I=o(g,E),C=o(E+1,p);return x=n[E],b=i?i(x):x,new wt(b,x.node,wt.BLACK,I,C)}},u=function(g){let p=null,v=null,x=n.length;const b=function(I,C){const B=x-I,P=x;x-=I;const X=o(B+1,P),W=n[B],se=i?i(W):W;E(new wt(se,W.node,C,null,X))},E=function(I){p?(p.left=I,p=I):(v=I,p=I)};for(let I=0;I<g.count;++I){const C=g.nextBitIsOne(),B=Math.pow(2,g.count-(I+1));C?b(B,wt.BLACK):(b(B,wt.BLACK),b(B,wt.RED))}return v},h=new Dj(n.length),m=u(h);return new qt(a||e,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h;const Ia={};class ss{static get Default(){return ee(Ia&&at,"ChildrenNode.ts has not been loaded"),$h=$h||new ss({".priority":Ia},{".priority":at}),$h}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=qa(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof qt?i:null}hasIndex(e){return Pn(this.indexSet_,e.toString())}addIndex(e,i){ee(e!==Ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(ke.Wrap);let h=u.getNext();for(;h;)o=o||e.isDefinedOn(h.node),a.push(h),h=u.getNext();let m;o?m=Ac(a,e.getCompare()):m=Ia;const g=e.toString(),p={...this.indexSet_};p[g]=e;const v={...this.indexes_};return v[g]=m,new ss(v,p)}addToIndexes(e,i){const a=Ec(this.indexes_,(o,u)=>{const h=qa(this.indexSet_,u);if(ee(h,"Missing index implementation for "+u),o===Ia)if(h.isDefinedOn(e.node)){const m=[],g=i.getIterator(ke.Wrap);let p=g.getNext();for(;p;)p.name!==e.name&&m.push(p),p=g.getNext();return m.push(e),Ac(m,h.getCompare())}else return Ia;else{const m=i.get(e.name);let g=o;return m&&(g=g.remove(new ke(e.name,m))),g.insert(e,e.node)}});return new ss(a,this.indexSet_)}removeFromIndexes(e,i){const a=Ec(this.indexes_,o=>{if(o===Ia)return o;{const u=i.get(e.name);return u?o.remove(new ke(e.name,u)):o}});return new ss(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;class _e{static get EMPTY_NODE(){return il||(il=new _e(new qt(sm),null,ss.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&K0(this.priorityNode_),this.children_.isEmpty()&&ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||il}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?il:i}}getChild(e){const i=Ae(e);return i===null?this:this.getImmediateChild(i).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(ee(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new ke(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?il:this.priorityNode_;return new _e(o,h,u)}}updateChild(e,i){const a=Ae(e);if(a===null)return i;{ee(Ae(e)!==".priority"||ti(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(et(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(at,(h,m)=>{i[h]=m.val(e),a++,u&&_e.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!e&&u&&o<2*a){const h=[];for(const m in i)h[m]=i[m];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Y0(this.getPriority().val())+":"),this.forEachChild(at,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":S0(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new ke(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ke(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ke(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ke.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ml?-1:0}withIndex(e){if(e===Ai||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ai||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(at),o=i.getIterator(at);let u=a.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=a.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===Ai?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Lj extends _e{constructor(){super(new qt(sm),_e.EMPTY_NODE,ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const Ml=new Lj;Object.defineProperties(ke,{MIN:{value:new ke(ki,_e.EMPTY_NODE)},MAX:{value:new ke(ei,Ml)}});G0.__EMPTY_NODE=_e.EMPTY_NODE;St.__childrenNodeConstructor=_e;Rj(Ml);Ij(Ml);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=!0;function gt(n,e=null){if(n===null)return _e.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new St(i,gt(e))}if(!(n instanceof Array)&&Uj){const i=[];let a=!1;if(jt(n,(h,m)=>{if(h.substring(0,1)!=="."){const g=gt(m);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),i.push(new ke(h,g)))}}),i.length===0)return _e.EMPTY_NODE;const u=Ac(i,Aj,h=>h.name,sm);if(a){const h=Ac(i,at.getCompare());return new _e(u,gt(e),new ss({".priority":h},{".priority":at}))}else return new _e(u,gt(e),ss.Default)}else{let i=_e.EMPTY_NODE;return jt(n,(a,o)=>{if(Pn(n,a)&&a.substring(0,1)!=="."){const u=gt(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(gt(e))}}kj(gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends tu{constructor(e){super(),this.indexPath_=e,ee(!Re(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?Vi(e.name,i.name):u}makePost(e,i){const a=gt(e),o=_e.EMPTY_NODE.updateChild(this.indexPath_,a);return new ke(i,o)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,Ml);return new ke(ei,e)}toString(){return _l(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj extends tu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?Vi(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,i){const a=gt(e);return new ke(i,a)}toString(){return".value"}}const X0=new Pj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n){return{type:"value",snapshotNode:n}}function Va(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function xl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function bl(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function zj(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.index_=e}updateChild(e,i,a,o,u,h){ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(i);return m.getChild(o).equals(a.getChild(o))&&m.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?e.hasChild(i)?h.trackChildChange(xl(i,m)):ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Va(i,a)):h.trackChildChange(bl(i,a,m))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(at,(o,u)=>{i.hasChild(o)||a.trackChildChange(xl(o,u))}),i.isLeafNode()||i.forEachChild(at,(o,u)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(u)||a.trackChildChange(bl(o,u,h))}else a.trackChildChange(Va(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.indexedFilter_=new am(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Sl.getStartPost_(e),this.endPost_=Sl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,u,h){return this.matches(new ke(i,a))||(a=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,u,h)}updateFullNode(e,i,a){i.isLeafNode()&&(i=_e.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(_e.EMPTY_NODE);const u=this;return i.forEachChild(at,(h,m)=>{u.matches(new ke(h,m))||(o=o.updateImmediateChild(h,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Sl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,u,h){return this.rangedFilter_.matches(new ke(i,a))||(a=_e.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,u,h):this.fullLimitUpdateChild_(e,i,a,u,h)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=_e.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(_e.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const m=u.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,u){let h;if(this.reverse_){const x=this.index_.getCompare();h=(b,E)=>x(E,b)}else h=this.index_.getCompare();const m=e;ee(m.numChildren()===this.limit_,"");const g=new ke(i,a),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),v=this.rangedFilter_.matches(g);if(m.hasChild(i)){const x=m.getImmediateChild(i);let b=o.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===i||m.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const E=b==null?1:h(b,g);if(v&&!a.isEmpty()&&E>=0)return u!=null&&u.trackChildChange(bl(i,a,x)),m.updateImmediateChild(i,a);{u!=null&&u.trackChildChange(xl(i,x));const C=m.updateImmediateChild(i,_e.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u!=null&&u.trackChildChange(Va(b.name,b.node)),C.updateImmediateChild(b.name,b.node)):C}}else return a.isEmpty()?e:v&&h(p,g)>=0?(u!=null&&(u.trackChildChange(xl(p.name,p.node)),u.trackChildChange(Va(i,a))),m.updateImmediateChild(i,a).updateImmediateChild(p.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=at}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ki}hasEnd(){return this.endSet_}getIndexEndValue(){return ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const e=new rm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Hj(n){return n.loadsAllData()?new am(n.getIndex()):n.hasLimit()?new Bj(n):new Sl(n)}function qj(n,e){const i=n.copy();return i.limitSet_=!0,i.limit_=e,i.viewFrom_="r",i}function Vj(n,e,i){const a=n.copy();return a.startSet_=!0,e===void 0&&(e=null),a.indexStartValue_=e,i!=null?(a.startNameSet_=!0,a.indexStartName_=i):(a.startNameSet_=!1,a.indexStartName_=""),a}function Fj(n,e,i){const a=n.copy();return a.endSet_=!0,e===void 0&&(e=null),a.indexEndValue_=e,i!==void 0?(a.endNameSet_=!0,a.indexEndName_=i):(a.endNameSet_=!1,a.indexEndName_=""),a}function Gj(n,e){const i=n.copy();return i.index_=e,i}function D_(n){const e={};if(n.isDefault())return e;let i;if(n.index_===at?i="$priority":n.index_===X0?i="$value":n.index_===Ai?i="$key":(ee(n.index_ instanceof im,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=yt(i),n.startSet_){const a=n.startAfterSet_?"startAfter":"startAt";e[a]=yt(n.indexStartValue_),n.startNameSet_&&(e[a]+=","+yt(n.indexStartName_))}if(n.endSet_){const a=n.endBeforeSet_?"endBefore":"endAt";e[a]=yt(n.indexEndValue_),n.endNameSet_&&(e[a]+=","+yt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function L_(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==at&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends H0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Ol("p:rest:"),this.listens_={}}listen(e,i,a,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const h=Rc.getListenId_(e,a),m={};this.listens_[h]=m;const g=D_(e._queryParams);this.restRequest_(u+".json",g,(p,v)=>{let x=v;if(p===404&&(x=null,p=null),p===null&&this.onDataUpdate_(u,x,!1,a),qa(this.listens_,h)===m){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",o(b,null)}})}unlisten(e,i){const a=Rc.getListenId_(e,i);delete this.listens_[a]}get(e){const i=D_(e._queryParams),a=e._path.toString(),o=new kl;return this.restRequest_(a+".json",i,(u,h)=>{let m=h;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(a,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wa(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(a&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=gl(m.responseText)}catch{Dt("Failed to parse JSON response for "+h+": "+m.responseText)}a(null,g)}else m.status!==401&&m.status!==404&&Dt("Got unsuccessful REST response for "+h+" Status: "+m.status),a(m.status);a=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(){return{value:null,children:new Map}}function Z0(n,e,i){if(Re(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const a=Ae(e);n.children.has(a)||n.children.set(a,kc());const o=n.children.get(a);e=et(e),Z0(o,e,i)}}function bf(n,e,i){n.value!==null?i(e,n.value):Kj(n,(a,o)=>{const u=new Fe(e.toString()+"/"+a);bf(o,u,i)})}function Kj(n,e){n.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&jt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=10*1e3,Qj=30*1e3,Xj=5*60*1e3;class Wj{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new $j(e);const a=U_+(Qj-U_)*Math.random();ol(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;jt(e,(o,u)=>{u>0&&Pn(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),ol(this.reportStats_.bind(this),Math.floor(Math.random()*2*Xj))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Sn||(Sn={}));function lm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function om(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=Sn.ACK_USER_WRITE,this.source=lm()}operationForChild(e){if(Re(this.path)){if(this.affectedTree.value!=null)return ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Fe(e));return new Ic(ze(),i,this.revert)}}else return ee(Ae(this.path)===e,"operationForChild called for unrelated child."),new Ic(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,i){this.source=e,this.path=i,this.type=Sn.LISTEN_COMPLETE}operationForChild(e){return Re(this.path)?new wl(this.source,ze()):new wl(this.source,et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=Sn.OVERWRITE}operationForChild(e){return Re(this.path)?new Ii(this.source,ze(),this.snap.getImmediateChild(e)):new Ii(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=Sn.MERGE}operationForChild(e){if(Re(this.path)){const i=this.children.subtree(new Fe(e));return i.isEmpty()?null:i.value?new Ii(this.source,ze(),i.value):new Fa(this.source,ze(),i)}else return ee(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fa(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Re(e))return this.isFullyInitialized()&&!this.filtered_;const i=Ae(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Jj(n,e,i,a){const o=[],u=[];return e.forEach(h=>{h.type==="child_changed"&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(zj(h.childName,h.snapshotNode))}),al(n,o,"child_removed",e,a,i),al(n,o,"child_added",e,a,i),al(n,o,"child_moved",u,a,i),al(n,o,"child_changed",e,a,i),al(n,o,"value",e,a,i),o}function al(n,e,i,a,o,u){const h=a.filter(m=>m.type===i);h.sort((m,g)=>tA(n,m,g)),h.forEach(m=>{const g=eA(n,m,u);o.forEach(p=>{p.respondsTo(m.type)&&e.push(p.createEvent(g,n.query_))})})}function eA(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function tA(n,e,i){if(e.childName==null||i.childName==null)throw Xa("Should only compare child_ events.");const a=new ke(e.childName,e.snapshotNode),o=new ke(i.childName,i.snapshotNode);return n.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n,e){return{eventCache:n,serverCache:e}}function cl(n,e,i,a){return nu(new ni(e,i,a),n.serverCache)}function J0(n,e,i,a){return nu(n.eventCache,new ni(e,i,a))}function Oc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Oi(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh;const nA=()=>(Qh||(Qh=new qt(P2)),Qh);class Je{static fromObject(e){let i=new Je(null);return jt(e,(a,o)=>{i=i.set(new Fe(a),o)}),i}constructor(e,i=nA()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:ze(),value:this.value};if(Re(e))return null;{const a=Ae(e),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(et(e),i);return u!=null?{path:ot(new Fe(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Re(e))return this;{const i=Ae(e),a=this.children.get(i);return a!==null?a.subtree(et(e)):new Je(null)}}set(e,i){if(Re(e))return new Je(i,this.children);{const a=Ae(e),u=(this.children.get(a)||new Je(null)).set(et(e),i),h=this.children.insert(a,u);return new Je(this.value,h)}}remove(e){if(Re(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const i=Ae(e),a=this.children.get(i);if(a){const o=a.remove(et(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Je(null):new Je(this.value,u)}else return this}}get(e){if(Re(e))return this.value;{const i=Ae(e),a=this.children.get(i);return a?a.get(et(e)):null}}setTree(e,i){if(Re(e))return i;{const a=Ae(e),u=(this.children.get(a)||new Je(null)).setTree(et(e),i);let h;return u.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,u),new Je(this.value,h)}}fold(e){return this.fold_(ze(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(ot(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,ze(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(Re(e))return null;{const u=Ae(e),h=this.children.get(u);return h?h.findOnPath_(et(e),ot(i,u),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,ze(),i)}foreachOnPath_(e,i,a){if(Re(e))return this;{this.value&&a(i,this.value);const o=Ae(e),u=this.children.get(o);return u?u.foreachOnPath_(et(e),ot(i,o),a):new Je(null)}}foreach(e){this.foreach_(ze(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(ot(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.writeTree_=e}static empty(){return new Tn(new Je(null))}}function ul(n,e,i){if(Re(e))return new Tn(new Je(i));{const a=n.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let u=a.value;const h=Mt(o,e);return u=u.updateChild(h,i),new Tn(n.writeTree_.set(o,u))}else{const o=new Je(i),u=n.writeTree_.setTree(e,o);return new Tn(u)}}}function Sf(n,e,i){let a=n;return jt(i,(o,u)=>{a=ul(a,ot(e,o),u)}),a}function P_(n,e){if(Re(e))return Tn.empty();{const i=n.writeTree_.setTree(e,new Je(null));return new Tn(i)}}function wf(n,e){return Fi(n,e)!=null}function Fi(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(Mt(i.path,e)):null}function z_(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(at,(a,o)=>{e.push(new ke(a,o))}):n.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new ke(a,o.value))}),e}function Ws(n,e){if(Re(e))return n;{const i=Fi(n,e);return i!=null?new Tn(new Je(i)):new Tn(n.writeTree_.subtree(e))}}function Nf(n){return n.writeTree_.isEmpty()}function Ga(n,e){return eb(ze(),n.writeTree_,e)}function eb(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let a=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(ee(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=eb(ot(n,o),u,i)}),!i.getChild(n).isEmpty()&&a!==null&&(i=i.updateChild(ot(n,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n,e){return ib(e,n)}function sA(n,e,i,a,o){ee(a>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(n.visibleWrites=ul(n.visibleWrites,e,i)),n.lastWriteId=a}function iA(n,e,i,a){ee(a>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:i,writeId:a,visible:!0}),n.visibleWrites=Sf(n.visibleWrites,e,i),n.lastWriteId=a}function aA(n,e){for(let i=0;i<n.allWrites.length;i++){const a=n.allWrites[i];if(a.writeId===e)return a}return null}function rA(n,e){const i=n.allWrites.findIndex(m=>m.writeId===e);ee(i>=0,"removeWrite called with nonexistent writeId.");const a=n.allWrites[i];n.allWrites.splice(i,1);let o=a.visible,u=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const m=n.allWrites[h];m.visible&&(h>=i&&lA(m,a.path)?o=!1:mn(a.path,m.path)&&(u=!0)),h--}if(o){if(u)return oA(n),!0;if(a.snap)n.visibleWrites=P_(n.visibleWrites,a.path);else{const m=a.children;jt(m,g=>{n.visibleWrites=P_(n.visibleWrites,ot(a.path,g))})}return!0}else return!1}function lA(n,e){if(n.snap)return mn(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&mn(ot(n.path,i),e))return!0;return!1}function oA(n){n.visibleWrites=tb(n.allWrites,cA,ze()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function cA(n){return n.visible}function tb(n,e,i){let a=Tn.empty();for(let o=0;o<n.length;++o){const u=n[o];if(e(u)){const h=u.path;let m;if(u.snap)mn(i,h)?(m=Mt(i,h),a=ul(a,m,u.snap)):mn(h,i)&&(m=Mt(h,i),a=ul(a,ze(),u.snap.getChild(m)));else if(u.children){if(mn(i,h))m=Mt(i,h),a=Sf(a,m,u.children);else if(mn(h,i))if(m=Mt(h,i),Re(m))a=Sf(a,ze(),u.children);else{const g=qa(u.children,Ae(m));if(g){const p=g.getChild(et(m));a=ul(a,ze(),p)}}}else throw Xa("WriteRecord should have .snap or .children")}}return a}function nb(n,e,i,a,o){if(!a&&!o){const u=Fi(n.visibleWrites,e);if(u!=null)return u;{const h=Ws(n.visibleWrites,e);if(Nf(h))return i;if(i==null&&!wf(h,ze()))return null;{const m=i||_e.EMPTY_NODE;return Ga(h,m)}}}else{const u=Ws(n.visibleWrites,e);if(!o&&Nf(u))return i;if(!o&&i==null&&!wf(u,ze()))return null;{const h=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(mn(p.path,e)||mn(e,p.path))},m=tb(n.allWrites,h,e),g=i||_e.EMPTY_NODE;return Ga(m,g)}}}function uA(n,e,i){let a=_e.EMPTY_NODE;const o=Fi(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(at,(u,h)=>{a=a.updateImmediateChild(u,h)}),a;if(i){const u=Ws(n.visibleWrites,e);return i.forEachChild(at,(h,m)=>{const g=Ga(Ws(u,new Fe(h)),m);a=a.updateImmediateChild(h,g)}),z_(u).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const u=Ws(n.visibleWrites,e);return z_(u).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function dA(n,e,i,a,o){ee(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=ot(e,i);if(wf(n.visibleWrites,u))return null;{const h=Ws(n.visibleWrites,u);return Nf(h)?o.getChild(i):Ga(h,o.getChild(i))}}function hA(n,e,i,a){const o=ot(e,i),u=Fi(n.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const h=Ws(n.visibleWrites,o);return Ga(h,a.getNode().getImmediateChild(i))}else return null}function fA(n,e){return Fi(n.visibleWrites,e)}function mA(n,e,i,a,o,u,h){let m;const g=Ws(n.visibleWrites,e),p=Fi(g,ze());if(p!=null)m=p;else if(i!=null)m=Ga(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const v=[],x=h.getCompare(),b=u?m.getReverseIteratorFrom(a,h):m.getIteratorFrom(a,h);let E=b.getNext();for(;E&&v.length<o;)x(E,a)!==0&&v.push(E),E=b.getNext();return v}else return[]}function pA(){return{visibleWrites:Tn.empty(),allWrites:[],lastWriteId:-1}}function Mc(n,e,i,a){return nb(n.writeTree,n.treePath,e,i,a)}function um(n,e){return uA(n.writeTree,n.treePath,e)}function B_(n,e,i,a){return dA(n.writeTree,n.treePath,e,i,a)}function Dc(n,e){return fA(n.writeTree,ot(n.treePath,e))}function gA(n,e,i,a,o,u){return mA(n.writeTree,n.treePath,e,i,a,o,u)}function dm(n,e,i){return hA(n.writeTree,n.treePath,e,i)}function sb(n,e){return ib(ot(n.treePath,e),n.writeTree)}function ib(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;ee(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),ee(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,bl(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,xl(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,Va(a,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,bl(a,e.snapshotNode,o.oldSnap));else throw Xa("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const ab=new vA;class hm{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dm(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Oi(this.viewCache_),u=gA(this.writes_,o,i,1,a,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){return{filter:n}}function xA(n,e){ee(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ee(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function bA(n,e,i,a,o){const u=new yA;let h,m;if(i.type===Sn.OVERWRITE){const p=i;p.source.fromUser?h=Ef(n,e,p.path,p.snap,a,o,u):(ee(p.source.fromServer,"Unknown source."),m=p.source.tagged||e.serverCache.isFiltered()&&!Re(p.path),h=Lc(n,e,p.path,p.snap,a,o,m,u))}else if(i.type===Sn.MERGE){const p=i;p.source.fromUser?h=wA(n,e,p.path,p.children,a,o,u):(ee(p.source.fromServer,"Unknown source."),m=p.source.tagged||e.serverCache.isFiltered(),h=Tf(n,e,p.path,p.children,a,o,m,u))}else if(i.type===Sn.ACK_USER_WRITE){const p=i;p.revert?h=TA(n,e,p.path,a,o,u):h=NA(n,e,p.path,p.affectedTree,a,o,u)}else if(i.type===Sn.LISTEN_COMPLETE)h=EA(n,e,i.path,a,u);else throw Xa("Unknown operation type: "+i.type);const g=u.getChanges();return SA(e,h,g),{viewCache:h,changes:g}}function SA(n,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=Oc(n);(i.length>0||!n.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(W0(Oc(e)))}}function rb(n,e,i,a,o,u){const h=e.eventCache;if(Dc(a,i)!=null)return e;{let m,g;if(Re(i))if(ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Oi(e),v=p instanceof _e?p:_e.EMPTY_NODE,x=um(a,v);m=n.filter.updateFullNode(e.eventCache.getNode(),x,u)}else{const p=Mc(a,Oi(e));m=n.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=Ae(i);if(p===".priority"){ee(ti(i)===1,"Can't have a priority with additional path components");const v=h.getNode();g=e.serverCache.getNode();const x=B_(a,i,v,g);x!=null?m=n.filter.updatePriority(v,x):m=h.getNode()}else{const v=et(i);let x;if(h.isCompleteForChild(p)){g=e.serverCache.getNode();const b=B_(a,i,h.getNode(),g);b!=null?x=h.getNode().getImmediateChild(p).updateChild(v,b):x=h.getNode().getImmediateChild(p)}else x=dm(a,p,e.serverCache);x!=null?m=n.filter.updateChild(h.getNode(),p,x,v,o,u):m=h.getNode()}}return cl(e,m,h.isFullyInitialized()||Re(i),n.filter.filtersNodes())}}function Lc(n,e,i,a,o,u,h,m){const g=e.serverCache;let p;const v=h?n.filter:n.filter.getIndexedFilter();if(Re(i))p=v.updateFullNode(g.getNode(),a,null);else if(v.filtersNodes()&&!g.isFiltered()){const E=g.getNode().updateChild(i,a);p=v.updateFullNode(g.getNode(),E,null)}else{const E=Ae(i);if(!g.isCompleteForPath(i)&&ti(i)>1)return e;const I=et(i),B=g.getNode().getImmediateChild(E).updateChild(I,a);E===".priority"?p=v.updatePriority(g.getNode(),B):p=v.updateChild(g.getNode(),E,B,I,ab,null)}const x=J0(e,p,g.isFullyInitialized()||Re(i),v.filtersNodes()),b=new hm(o,x,u);return rb(n,x,i,o,b,m)}function Ef(n,e,i,a,o,u,h){const m=e.eventCache;let g,p;const v=new hm(o,e,u);if(Re(i))p=n.filter.updateFullNode(e.eventCache.getNode(),a,h),g=cl(e,p,!0,n.filter.filtersNodes());else{const x=Ae(i);if(x===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),a),g=cl(e,p,m.isFullyInitialized(),m.isFiltered());else{const b=et(i),E=m.getNode().getImmediateChild(x);let I;if(Re(b))I=a;else{const C=v.getCompleteChild(x);C!=null?em(b)===".priority"&&C.getChild(V0(b)).isEmpty()?I=C:I=C.updateChild(b,a):I=_e.EMPTY_NODE}if(E.equals(I))g=e;else{const C=n.filter.updateChild(m.getNode(),x,I,b,v,h);g=cl(e,C,m.isFullyInitialized(),n.filter.filtersNodes())}}}return g}function H_(n,e){return n.eventCache.isCompleteForChild(e)}function wA(n,e,i,a,o,u,h){let m=e;return a.foreach((g,p)=>{const v=ot(i,g);H_(e,Ae(v))&&(m=Ef(n,m,v,p,o,u,h))}),a.foreach((g,p)=>{const v=ot(i,g);H_(e,Ae(v))||(m=Ef(n,m,v,p,o,u,h))}),m}function q_(n,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Tf(n,e,i,a,o,u,h,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g=e,p;Re(i)?p=a:p=new Je(null).setTree(i,a);const v=e.serverCache.getNode();return p.children.inorderTraversal((x,b)=>{if(v.hasChild(x)){const E=e.serverCache.getNode().getImmediateChild(x),I=q_(n,E,b);g=Lc(n,g,new Fe(x),I,o,u,h,m)}}),p.children.inorderTraversal((x,b)=>{const E=!e.serverCache.isCompleteForChild(x)&&b.value===null;if(!v.hasChild(x)&&!E){const I=e.serverCache.getNode().getImmediateChild(x),C=q_(n,I,b);g=Lc(n,g,new Fe(x),C,o,u,h,m)}}),g}function NA(n,e,i,a,o,u,h){if(Dc(o,i)!=null)return e;const m=e.serverCache.isFiltered(),g=e.serverCache;if(a.value!=null){if(Re(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Lc(n,e,i,g.getNode().getChild(i),o,u,m,h);if(Re(i)){let p=new Je(null);return g.getNode().forEachChild(Ai,(v,x)=>{p=p.set(new Fe(v),x)}),Tf(n,e,i,p,o,u,m,h)}else return e}else{let p=new Je(null);return a.foreach((v,x)=>{const b=ot(i,v);g.isCompleteForPath(b)&&(p=p.set(v,g.getNode().getChild(b)))}),Tf(n,e,i,p,o,u,m,h)}}function EA(n,e,i,a,o){const u=e.serverCache,h=J0(e,u.getNode(),u.isFullyInitialized()||Re(i),u.isFiltered());return rb(n,h,i,a,ab,o)}function TA(n,e,i,a,o,u){let h;if(Dc(a,i)!=null)return e;{const m=new hm(a,e,o),g=e.eventCache.getNode();let p;if(Re(i)||Ae(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Mc(a,Oi(e));else{const x=e.serverCache.getNode();ee(x instanceof _e,"serverChildren would be complete if leaf node"),v=um(a,x)}v=v,p=n.filter.updateFullNode(g,v,u)}else{const v=Ae(i);let x=dm(a,v,e.serverCache);x==null&&e.serverCache.isCompleteForChild(v)&&(x=g.getImmediateChild(v)),x!=null?p=n.filter.updateChild(g,v,x,et(i),m,u):e.eventCache.getNode().hasChild(v)?p=n.filter.updateChild(g,v,_e.EMPTY_NODE,et(i),m,u):p=g,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=Mc(a,Oi(e)),h.isLeafNode()&&(p=n.filter.updateFullNode(p,h,u)))}return h=e.serverCache.isFullyInitialized()||Dc(a,ze())!=null,cl(e,p,h,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new am(a.getIndex()),u=Hj(a);this.processor_=_A(u);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(_e.EMPTY_NODE,h.getNode(),null),p=u.updateFullNode(_e.EMPTY_NODE,m.getNode(),null),v=new ni(g,h.isFullyInitialized(),o.filtersNodes()),x=new ni(p,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=nu(x,v),this.eventGenerator_=new Zj(this.query_)}get query(){return this.query_}}function jA(n){return n.viewCache_.serverCache.getNode()}function AA(n){return Oc(n.viewCache_)}function RA(n,e){const i=Oi(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!Re(e)&&!i.getImmediateChild(Ae(e)).isEmpty())?i.getChild(e):null}function V_(n){return n.eventRegistrations_.length===0}function kA(n,e){n.eventRegistrations_.push(e)}function F_(n,e,i){const a=[];if(i){ee(e==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&a.push(h)})}if(e){let o=[];for(let u=0;u<n.eventRegistrations_.length;++u){const h=n.eventRegistrations_[u];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return a}function G_(n,e,i,a){e.type===Sn.MERGE&&e.source.queryId!==null&&(ee(Oi(n.viewCache_),"We should always have a full cache before handling merges"),ee(Oc(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,u=bA(n.processor_,o,e,i,a);return xA(n.processor_,u.viewCache),ee(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,lb(n,u.changes,u.viewCache.eventCache.getNode(),null)}function IA(n,e){const i=n.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(at,(u,h)=>{a.push(Va(u,h))}),i.isFullyInitialized()&&a.push(W0(i.getNode())),lb(n,a,i.getNode(),e)}function lb(n,e,i,a){const o=a?[a]:n.eventRegistrations_;return Jj(n.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;class ob{constructor(){this.views=new Map}}function OA(n){ee(!Uc,"__referenceConstructor has already been defined"),Uc=n}function MA(){return ee(Uc,"Reference.ts has not been loaded"),Uc}function DA(n){return n.views.size===0}function fm(n,e,i,a){const o=e.source.queryId;if(o!==null){const u=n.views.get(o);return ee(u!=null,"SyncTree gave us an op for an invalid query."),G_(u,e,i,a)}else{let u=[];for(const h of n.views.values())u=u.concat(G_(h,e,i,a));return u}}function cb(n,e,i,a,o){const u=e._queryIdentifier,h=n.views.get(u);if(!h){let m=Mc(i,o?a:null),g=!1;m?g=!0:a instanceof _e?(m=um(i,a),g=!1):(m=_e.EMPTY_NODE,g=!1);const p=nu(new ni(m,g,!1),new ni(a,o,!1));return new CA(e,p)}return h}function LA(n,e,i,a,o,u){const h=cb(n,e,a,o,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,h),kA(h,i),IA(h,i)}function UA(n,e,i,a){const o=e._queryIdentifier,u=[];let h=[];const m=si(n);if(o==="default")for(const[g,p]of n.views.entries())h=h.concat(F_(p,i,a)),V_(p)&&(n.views.delete(g),p.query._queryParams.loadsAllData()||u.push(p.query));else{const g=n.views.get(o);g&&(h=h.concat(F_(g,i,a)),V_(g)&&(n.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return m&&!si(n)&&u.push(new(MA())(e._repo,e._path)),{removed:u,events:h}}function ub(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Zs(n,e){let i=null;for(const a of n.views.values())i=i||RA(a,e);return i}function db(n,e){if(e._queryParams.loadsAllData())return iu(n);{const a=e._queryIdentifier;return n.views.get(a)}}function hb(n,e){return db(n,e)!=null}function si(n){return iu(n)!=null}function iu(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;function PA(n){ee(!Pc,"__referenceConstructor has already been defined"),Pc=n}function zA(){return ee(Pc,"Reference.ts has not been loaded"),Pc}let BA=1;class Y_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=pA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fb(n,e,i,a,o){return sA(n.pendingWriteTree_,e,i,a,o),o?Ja(n,new Ii(lm(),e,i)):[]}function HA(n,e,i,a){iA(n.pendingWriteTree_,e,i,a);const o=Je.fromObject(i);return Ja(n,new Fa(lm(),e,o))}function $s(n,e,i=!1){const a=aA(n.pendingWriteTree_,e);if(rA(n.pendingWriteTree_,e)){let u=new Je(null);return a.snap!=null?u=u.set(ze(),!0):jt(a.children,h=>{u=u.set(new Fe(h),!0)}),Ja(n,new Ic(a.path,u,i))}else return[]}function Dl(n,e,i){return Ja(n,new Ii(om(),e,i))}function qA(n,e,i){const a=Je.fromObject(i);return Ja(n,new Fa(om(),e,a))}function VA(n,e){return Ja(n,new wl(om(),e))}function FA(n,e,i){const a=pm(n,i);if(a){const o=gm(a),u=o.path,h=o.queryId,m=Mt(u,e),g=new wl(cm(h),m);return ym(n,u,g)}else return[]}function zc(n,e,i,a,o=!1){const u=e._path,h=n.syncPointTree_.get(u);let m=[];if(h&&(e._queryIdentifier==="default"||hb(h,e))){const g=UA(h,e,i,a);DA(h)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const p=g.removed;if(m=g.events,!o){const v=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,x=n.syncPointTree_.findOnPath(u,(b,E)=>si(E));if(v&&!x){const b=n.syncPointTree_.subtree(u);if(!b.isEmpty()){const E=KA(b);for(let I=0;I<E.length;++I){const C=E[I],B=C.query,P=yb(n,C);n.listenProvider_.startListening(dl(B),Nl(n,B),P.hashFn,P.onComplete)}}}!x&&p.length>0&&!a&&(v?n.listenProvider_.stopListening(dl(e),null):p.forEach(b=>{const E=n.queryToTagMap.get(au(b));n.listenProvider_.stopListening(dl(b),E)}))}$A(n,p)}return m}function mb(n,e,i,a){const o=pm(n,a);if(o!=null){const u=gm(o),h=u.path,m=u.queryId,g=Mt(h,e),p=new Ii(cm(m),g,i);return ym(n,h,p)}else return[]}function GA(n,e,i,a){const o=pm(n,a);if(o){const u=gm(o),h=u.path,m=u.queryId,g=Mt(h,e),p=Je.fromObject(i),v=new Fa(cm(m),g,p);return ym(n,h,v)}else return[]}function Cf(n,e,i,a=!1){const o=e._path;let u=null,h=!1;n.syncPointTree_.foreachOnPath(o,(b,E)=>{const I=Mt(b,o);u=u||Zs(E,I),h=h||si(E)});let m=n.syncPointTree_.get(o);m?(h=h||si(m),u=u||Zs(m,ze())):(m=new ob,n.syncPointTree_=n.syncPointTree_.set(o,m));let g;u!=null?g=!0:(g=!1,u=_e.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((E,I)=>{const C=Zs(I,ze());C&&(u=u.updateImmediateChild(E,C))}));const p=hb(m,e);if(!p&&!e._queryParams.loadsAllData()){const b=au(e);ee(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const E=QA();n.queryToTagMap.set(b,E),n.tagToQueryMap.set(E,b)}const v=su(n.pendingWriteTree_,o);let x=LA(m,e,i,v,u,g);if(!p&&!h&&!a){const b=db(m,e);x=x.concat(XA(n,e,b))}return x}function mm(n,e,i){const o=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(h,m)=>{const g=Mt(h,e),p=Zs(m,g);if(p)return p});return nb(o,e,u,i,!0)}function YA(n,e){const i=e._path;let a=null;n.syncPointTree_.foreachOnPath(i,(p,v)=>{const x=Mt(p,i);a=a||Zs(v,x)});let o=n.syncPointTree_.get(i);o?a=a||Zs(o,ze()):(o=new ob,n.syncPointTree_=n.syncPointTree_.set(i,o));const u=a!=null,h=u?new ni(a,!0,!1):null,m=su(n.pendingWriteTree_,e._path),g=cb(o,e,m,u?h.getNode():_e.EMPTY_NODE,u);return AA(g)}function Ja(n,e){return pb(e,n.syncPointTree_,null,su(n.pendingWriteTree_,ze()))}function pb(n,e,i,a){if(Re(n.path))return gb(n,e,i,a);{const o=e.get(ze());i==null&&o!=null&&(i=Zs(o,ze()));let u=[];const h=Ae(n.path),m=n.operationForChild(h),g=e.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,v=sb(a,h);u=u.concat(pb(m,g,p,v))}return o&&(u=u.concat(fm(o,n,a,i))),u}}function gb(n,e,i,a){const o=e.get(ze());i==null&&o!=null&&(i=Zs(o,ze()));let u=[];return e.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=sb(a,h),v=n.operationForChild(h);v&&(u=u.concat(gb(v,m,g,p)))}),o&&(u=u.concat(fm(o,n,a,i))),u}function yb(n,e){const i=e.query,a=Nl(n,i);return{hashFn:()=>(jA(e)||_e.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?FA(n,i._path,a):VA(n,i._path);{const u=H2(o,i);return zc(n,i,null,u)}}}}function Nl(n,e){const i=au(e);return n.queryToTagMap.get(i)}function au(n){return n._path.toString()+"$"+n._queryIdentifier}function pm(n,e){return n.tagToQueryMap.get(e)}function gm(n){const e=n.indexOf("$");return ee(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Fe(n.substr(0,e))}}function ym(n,e,i){const a=n.syncPointTree_.get(e);ee(a,"Missing sync point for query tag that we're tracking");const o=su(n.pendingWriteTree_,e);return fm(a,i,o,null)}function KA(n){return n.fold((e,i,a)=>{if(i&&si(i))return[iu(i)];{let o=[];return i&&(o=ub(i)),jt(a,(u,h)=>{o=o.concat(h)}),o}})}function dl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(zA())(n._repo,n._path):n}function $A(n,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=au(a),u=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(u)}}}function QA(){return BA++}function XA(n,e,i){const a=e._path,o=Nl(n,e),u=yb(n,i),h=n.listenProvider_.startListening(dl(e),o,u.hashFn,u.onComplete),m=n.syncPointTree_.subtree(a);if(o)ee(!si(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,v,x)=>{if(!Re(p)&&v&&si(v))return[iu(v).query];{let b=[];return v&&(b=b.concat(ub(v).map(E=>E.query))),jt(x,(E,I)=>{b=b.concat(I)}),b}});for(let p=0;p<g.length;++p){const v=g[p];n.listenProvider_.stopListening(dl(v),Nl(n,v))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new vm(i)}node(){return this.node_}}class _m{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ot(this.path_,e);return new _m(this.syncTree_,i)}node(){return mm(this.syncTree_,this.path_)}}const WA=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},K_=function(n,e,i){if(!n||typeof n!="object")return n;if(ee(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return ZA(n[".sv"],e,i);if(typeof n[".sv"]=="object")return JA(n[".sv"],e);ee(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},ZA=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:ee(!1,"Unexpected server value: "+n)}},JA=function(n,e,i){n.hasOwnProperty("increment")||ee(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const a=n.increment;typeof a!="number"&&ee(!1,"Unexpected increment value: "+a);const o=e.node();if(ee(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},vb=function(n,e,i,a){return xm(e,new _m(i,n),a)},_b=function(n,e,i){return xm(n,new vm(e),i)};function xm(n,e,i){const a=n.getPriority().val(),o=K_(a,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const h=n,m=K_(h.getValue(),e,i);return m!==h.getValue()||o!==h.getPriority().val()?new St(m,gt(o)):n}else{const h=n;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new St(o))),h.forEachChild(at,(m,g)=>{const p=xm(g,e.getImmediateChild(m),i);p!==g&&(u=u.updateImmediateChild(m,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function Sm(n,e){let i=e instanceof Fe?e:new Fe(e),a=n,o=Ae(i);for(;o!==null;){const u=qa(a.node.children,o)||{children:{},childCount:0};a=new bm(o,a,u),i=et(i),o=Ae(i)}return a}function er(n){return n.node.value}function xb(n,e){n.node.value=e,jf(n)}function bb(n){return n.node.childCount>0}function eR(n){return er(n)===void 0&&!bb(n)}function ru(n,e){jt(n.node.children,(i,a)=>{e(new bm(i,n,a))})}function Sb(n,e,i,a){i&&e(n),ru(n,o=>{Sb(o,e,!0)})}function tR(n,e,i){let a=n.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function Ll(n){return new Fe(n.parent===null?n.name:Ll(n.parent)+"/"+n.name)}function jf(n){n.parent!==null&&nR(n.parent,n.name,n)}function nR(n,e,i){const a=eR(i),o=Pn(n.node.children,e);a&&o?(delete n.node.children[e],n.node.childCount--,jf(n)):!a&&!o&&(n.node.children[e]=i.node,n.node.childCount++,jf(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=/[\[\].#$\/\u0000-\u001F\u007F]/,iR=/[\[\].#$\u0000-\u001F\u007F]/,Xh=10*1024*1024,wm=function(n){return typeof n=="string"&&n.length!==0&&!sR.test(n)},wb=function(n){return typeof n=="string"&&n.length!==0&&!iR.test(n)},aR=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wb(n)},Af=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Qf(n)||n&&typeof n=="object"&&Pn(n,".sv")},Ul=function(n,e,i,a){a&&e===void 0||lu(Wc(n,"value"),e,i)},lu=function(n,e,i){const a=i instanceof Fe?new bj(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+Ei(a));if(typeof e=="function")throw new Error(n+"contains a function "+Ei(a)+" with contents = "+e.toString());if(Qf(e))throw new Error(n+"contains "+e.toString()+" "+Ei(a));if(typeof e=="string"&&e.length>Xh/3&&Zc(e)>Xh)throw new Error(n+"contains a string greater than "+Xh+" utf8 bytes "+Ei(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(jt(e,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!wm(h)))throw new Error(n+" contains an invalid key ("+h+") "+Ei(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Sj(a,h),lu(n,m,a),wj(a)}),o&&u)throw new Error(n+' contains ".value" child '+Ei(a)+" in addition to actual children.")}},rR=function(n,e){let i,a;for(i=0;i<e.length;i++){a=e[i];const u=_l(a);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!wm(u[h]))throw new Error(n+"contains an invalid key ("+u[h]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(xj);let o=null;for(i=0;i<e.length;i++){if(a=e[i],o!==null&&mn(o,a))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},lR=function(n,e,i,a){const o=Wc(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];jt(e,(h,m)=>{const g=new Fe(h);if(lu(o,m,ot(i,g)),em(g)===".priority"&&!Af(m))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(g)}),rR(o,u)},Nm=function(n,e,i,a){if(!wb(i))throw new Error(Wc(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oR=function(n,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Nm(n,e,i)},Em=function(n,e){if(Ae(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},cR=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!aR(i))throw new Error(Wc(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ou(n,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],u=o.getPath();i!==null&&!tm(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&n.eventLists_.push(i)}function Nb(n,e,i){ou(n,i),Eb(n,a=>tm(a,e))}function gn(n,e,i){ou(n,i),Eb(n,a=>mn(a,e)||mn(e,a))}function Eb(n,e){n.recursionDepth_++;let i=!0;for(let a=0;a<n.eventLists_.length;a++){const o=n.eventLists_[a];if(o){const u=o.path;e(u)?(dR(n.eventLists_[a]),n.eventLists_[a]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function dR(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const a=i.getEventRunner();ll&&Ct("event: "+i.toString()),Za(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="repo_interrupt",fR=25;class mR{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kc(),this.transactionQueueTree_=new bm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pR(n,e,i){if(n.stats_=Zf(n.repoInfo_),n.forceRestClient_||G2())n.server_=new Rc(n.repoInfo_,(a,o,u,h)=>{$_(n,a,o,u,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Q_(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yt(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}n.persistentConnection_=new rs(n.repoInfo_,e,(a,o,u,h)=>{$_(n,a,o,u,h)},a=>{Q_(n,a)},a=>{gR(n,a)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(a=>{n.server_.refreshAuthToken(a)}),n.appCheckProvider_.addTokenChangeListener(a=>{n.server_.refreshAppCheckToken(a.token)}),n.statsReporter_=X2(n.repoInfo_,()=>new Wj(n.stats_,n.server_)),n.infoData_=new Yj,n.infoSyncTree_=new Y_({startListening:(a,o,u,h)=>{let m=[];const g=n.infoData_.getNode(a._path);return g.isEmpty()||(m=Dl(n.infoSyncTree_,a._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Tm(n,"connected",!1),n.serverSyncTree_=new Y_({startListening:(a,o,u,h)=>(n.server_.listen(a,u,o,(m,g)=>{const p=h(m,g);gn(n.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{n.server_.unlisten(a,o)}})}function Tb(n){const i=n.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function cu(n){return WA({timestamp:Tb(n)})}function $_(n,e,i,a,o){n.dataUpdateCount++;const u=new Fe(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let h=[];if(o)if(a){const g=Ec(i,p=>gt(p));h=GA(n.serverSyncTree_,u,g,o)}else{const g=gt(i);h=mb(n.serverSyncTree_,u,g,o)}else if(a){const g=Ec(i,p=>gt(p));h=qA(n.serverSyncTree_,u,g)}else{const g=gt(i);h=Dl(n.serverSyncTree_,u,g)}let m=u;h.length>0&&(m=Ya(n,u)),gn(n.eventQueue_,m,h)}function Q_(n,e){Tm(n,"connected",e),e===!1&&xR(n)}function gR(n,e){jt(e,(i,a)=>{Tm(n,i,a)})}function Tm(n,e,i){const a=new Fe("/.info/"+e),o=gt(i);n.infoData_.updateSnapshot(a,o);const u=Dl(n.infoSyncTree_,a,o);gn(n.eventQueue_,a,u)}function Cm(n){return n.nextWriteId_++}function yR(n,e,i){const a=YA(n.serverSyncTree_,e);return a!=null?Promise.resolve(a):n.server_.get(e).then(o=>{const u=gt(o).withIndex(e._queryParams.getIndex());Cf(n.serverSyncTree_,e,i,!0);let h;if(e._queryParams.loadsAllData())h=Dl(n.serverSyncTree_,e._path,u);else{const m=Nl(n.serverSyncTree_,e);h=mb(n.serverSyncTree_,e._path,u,m)}return gn(n.eventQueue_,e._path,h),zc(n.serverSyncTree_,e,i,null,!0),u},o=>(Pl(n,"get for query "+yt(e)+" failed: "+o),Promise.reject(new Error(o))))}function vR(n,e,i,a,o){Pl(n,"set",{path:e.toString(),value:i,priority:a});const u=cu(n),h=gt(i,a),m=mm(n.serverSyncTree_,e),g=_b(h,m,u),p=Cm(n),v=fb(n.serverSyncTree_,e,g,p,!0);ou(n.eventQueue_,v),n.server_.put(e.toString(),h.val(!0),(b,E)=>{const I=b==="ok";I||Dt("set at "+e+" failed: "+b);const C=$s(n.serverSyncTree_,p,!I);gn(n.eventQueue_,e,C),Rf(n,o,b,E)});const x=Am(n,e);Ya(n,x),gn(n.eventQueue_,x,[])}function _R(n,e,i,a){Pl(n,"update",{path:e.toString(),value:i});let o=!0;const u=cu(n),h={};if(jt(i,(m,g)=>{o=!1,h[m]=vb(ot(e,m),gt(g),n.serverSyncTree_,u)}),o)Ct("update() called with empty data.  Don't do anything."),Rf(n,a,"ok",void 0);else{const m=Cm(n),g=HA(n.serverSyncTree_,e,h,m);ou(n.eventQueue_,g),n.server_.merge(e.toString(),i,(p,v)=>{const x=p==="ok";x||Dt("update at "+e+" failed: "+p);const b=$s(n.serverSyncTree_,m,!x),E=b.length>0?Ya(n,e):e;gn(n.eventQueue_,E,b),Rf(n,a,p,v)}),jt(i,p=>{const v=Am(n,ot(e,p));Ya(n,v)}),gn(n.eventQueue_,e,[])}}function xR(n){Pl(n,"onDisconnectEvents");const e=cu(n),i=kc();bf(n.onDisconnect_,ze(),(o,u)=>{const h=vb(o,u,n.serverSyncTree_,e);Z0(i,o,h)});let a=[];bf(i,ze(),(o,u)=>{a=a.concat(Dl(n.serverSyncTree_,o,u));const h=Am(n,o);Ya(n,h)}),n.onDisconnect_=kc(),gn(n.eventQueue_,ze(),a)}function bR(n,e,i){let a;Ae(e._path)===".info"?a=Cf(n.infoSyncTree_,e,i):a=Cf(n.serverSyncTree_,e,i),Nb(n.eventQueue_,e._path,a)}function Cb(n,e,i){let a;Ae(e._path)===".info"?a=zc(n.infoSyncTree_,e,i):a=zc(n.serverSyncTree_,e,i),Nb(n.eventQueue_,e._path,a)}function SR(n){n.persistentConnection_&&n.persistentConnection_.interrupt(hR)}function Pl(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),Ct(i,...e)}function Rf(n,e,i,a){e&&Za(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;a&&(u+=": "+a);const h=new Error(u);h.code=o,e(h)}})}function jb(n,e,i){return mm(n.serverSyncTree_,e,i)||_e.EMPTY_NODE}function jm(n,e=n.transactionQueueTree_){if(e||uu(n,e),er(e)){const i=Rb(n,e);ee(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&wR(n,Ll(e),i)}else bb(e)&&ru(e,i=>{jm(n,i)})}function wR(n,e,i){const a=i.map(p=>p.currentWriteId),o=jb(n,e,a);let u=o;const h=o.hash();for(let p=0;p<i.length;p++){const v=i[p];ee(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const x=Mt(e,v.path);u=u.updateChild(x,v.currentOutputSnapshotRaw)}const m=u.val(!0),g=e;n.server_.put(g.toString(),m,p=>{Pl(n,"transaction put response",{path:g.toString(),status:p});let v=[];if(p==="ok"){const x=[];for(let b=0;b<i.length;b++)i[b].status=2,v=v.concat($s(n.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&x.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();uu(n,Sm(n.transactionQueueTree_,e)),jm(n,n.transactionQueueTree_),gn(n.eventQueue_,e,v);for(let b=0;b<x.length;b++)Za(x[b])}else{if(p==="datastale")for(let x=0;x<i.length;x++)i[x].status===3?i[x].status=4:i[x].status=0;else{Dt("transaction at "+g.toString()+" failed: "+p);for(let x=0;x<i.length;x++)i[x].status=4,i[x].abortReason=p}Ya(n,e)}},h)}function Ya(n,e){const i=Ab(n,e),a=Ll(i),o=Rb(n,i);return NR(n,o,a),a}function NR(n,e,i){if(e.length===0)return;const a=[];let o=[];const h=e.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const g=e[m],p=Mt(i,g.path);let v=!1,x;if(ee(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)v=!0,x=g.abortReason,o=o.concat($s(n.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=fR)v=!0,x="maxretry",o=o.concat($s(n.serverSyncTree_,g.currentWriteId,!0));else{const b=jb(n,g.path,h);g.currentInputSnapshot=b;const E=e[m].update(b.val());if(E!==void 0){lu("transaction failed: Data returned ",E,g.path);let I=gt(E);typeof E=="object"&&E!=null&&Pn(E,".priority")||(I=I.updatePriority(b.getPriority()));const B=g.currentWriteId,P=cu(n),X=_b(I,b,P);g.currentOutputSnapshotRaw=I,g.currentOutputSnapshotResolved=X,g.currentWriteId=Cm(n),h.splice(h.indexOf(B),1),o=o.concat(fb(n.serverSyncTree_,g.path,X,g.currentWriteId,g.applyLocally)),o=o.concat($s(n.serverSyncTree_,B,!0))}else v=!0,x="nodata",o=o.concat($s(n.serverSyncTree_,g.currentWriteId,!0))}gn(n.eventQueue_,i,o),o=[],v&&(e[m].status=2,function(b){setTimeout(b,Math.floor(0))}(e[m].unwatcher),e[m].onComplete&&(x==="nodata"?a.push(()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot)):a.push(()=>e[m].onComplete(new Error(x),!1,null))))}uu(n,n.transactionQueueTree_);for(let m=0;m<a.length;m++)Za(a[m]);jm(n,n.transactionQueueTree_)}function Ab(n,e){let i,a=n.transactionQueueTree_;for(i=Ae(e);i!==null&&er(a)===void 0;)a=Sm(a,i),e=et(e),i=Ae(e);return a}function Rb(n,e){const i=[];return kb(n,e,i),i.sort((a,o)=>a.order-o.order),i}function kb(n,e,i){const a=er(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);ru(e,o=>{kb(n,o,i)})}function uu(n,e){const i=er(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,xb(e,i.length>0?i:void 0)}ru(e,a=>{uu(n,a)})}function Am(n,e){const i=Ll(Ab(n,e)),a=Sm(n.transactionQueueTree_,e);return tR(a,o=>{Wh(n,o)}),Wh(n,a),Sb(a,o=>{Wh(n,o)}),i}function Wh(n,e){const i=er(e);if(i){const a=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(ee(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(ee(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat($s(n.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?xb(e,void 0):i.length=u+1,gn(n.eventQueue_,Ll(e),o);for(let h=0;h<a.length;h++)Za(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){let e="";const i=n.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function TR(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Dt(`Invalid query segment '${i}' in query '${n}'`)}return e}const X_=function(n,e){const i=CR(n),a=i.namespace;i.domain==="firebase.com"&&us(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&us("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||L2();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new M0(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new Fe(i.pathString)}},CR=function(n){let e="",i="",a="",o="",u="",h=!0,m="https",g=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(m=n.substring(0,p-1),n=n.substring(p+2));let v=n.indexOf("/");v===-1&&(v=n.length);let x=n.indexOf("?");x===-1&&(x=n.length),e=n.substring(0,Math.min(v,x)),v<x&&(o=ER(n.substring(v,x)));const b=TR(n.substring(Math.min(n.length,x)));p=e.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(e.substring(p+1),10)):p=e.length;const E=e.slice(0,p);if(E.toLowerCase()==="localhost")i="localhost";else if(E.split(".").length<=2)i=E;else{const I=e.indexOf(".");a=e.substring(0,I).toLowerCase(),i=e.substring(I+1),u=a}"ns"in b&&(u=b.ns)}return{host:e,port:g,domain:i,subdomain:a,secure:h,scheme:m,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jR=function(){let n=0;const e=[];return function(i){const a=i===n;n=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=W_.charAt(i%64),i=Math.floor(i/64);ee(i===0,"Cannot push at time == 0");let h=u.join("");if(a){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=W_.charAt(e[o]);return ee(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yt(this.snapshot.exportVal())}}class RR{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return Re(this._path)?null:em(this._path)}get ref(){return new fs(this._repo,this._path)}get _queryIdentifier(){const e=L_(this._queryParams),i=Xf(e);return i==="{}"?"default":i}get _queryObject(){return L_(this._queryParams)}isEqual(e){if(e=At(e),!(e instanceof Gi))return!1;const i=this._repo===e._repo,a=tm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+_j(this._path)}}function kR(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function km(n){let e=null,i=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(i=n.getIndexEndValue()),n.getIndex()===Ai){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ki)throw new Error(a);if(typeof e!="string")throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==ei)throw new Error(a);if(typeof i!="string")throw new Error(o)}}else if(n.getIndex()===at){if(e!=null&&!Af(e)||i!=null&&!Af(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ee(n.getIndex()instanceof im||n.getIndex()===X0,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ib(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fs extends Gi{constructor(e,i){super(e,i,new rm,!1)}get parent(){const e=V0(this._path);return e===null?null:new fs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class El{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Fe(e),a=Tl(this.ref,e);return new El(this._node.getChild(i),a,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new El(o,Tl(this.ref,a),at)))}hasChild(e){const i=new Fe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oa(n,e){return n=At(n),n._checkNotDeleted("ref"),e!==void 0?Tl(n._root,e):n._root}function Tl(n,e){return n=At(n),Ae(n._path)===null?oR("child","path",e):Nm("child","path",e),new fs(n._repo,ot(n._path,e))}function IR(n,e){n=At(n),Em("push",n._path),Ul("push",e,n._path,!0);const i=Tb(n._repo),a=jR(i),o=Tl(n,a),u=Tl(n,a);let h;return h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function OR(n){return Em("remove",n._path),Ob(n,null)}function Ob(n,e){n=At(n),Em("set",n._path),Ul("set",e,n._path,!1);const i=new kl;return vR(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}function MR(n,e){lR("update",e,n._path);const i=new kl;return _R(n._repo,n._path,e,i.wrapCallback(()=>{})),i.promise}function Z_(n){n=At(n);const e=new Rm(()=>{}),i=new zl(e);return yR(n._repo,n,i).then(a=>new El(a,new fs(n._repo,n._path),n._queryParams.getIndex()))}class zl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new AR("value",this,new El(e.snapshotNode,new fs(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new RR(this,e,i):null}matches(e){return e instanceof zl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function DR(n,e,i,a,o){const u=new Rm(i,void 0),h=new zl(u);return bR(n._repo,n,h),()=>Cb(n._repo,n,h)}function LR(n,e,i,a){return DR(n,"value",e)}function UR(n,e,i){let a=null;const o=i?new Rm(i):null;a=new zl(o),Cb(n._repo,n,a)}class Bl{}class PR extends Bl{constructor(e,i){super(),this._value=e,this._key=i,this.type="endAt"}_apply(e){Ul("endAt",this._value,e._path,!0);const i=Fj(e._queryParams,this._value,this._key);if(Ib(i),km(i),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gi(e._repo,e._path,i,e._orderByCalled)}}class zR extends Bl{constructor(e,i){super(),this._value=e,this._key=i,this.type="startAt"}_apply(e){Ul("startAt",this._value,e._path,!0);const i=Vj(e._queryParams,this._value,this._key);if(Ib(i),km(i),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Gi(e._repo,e._path,i,e._orderByCalled)}}class BR extends Bl{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gi(e._repo,e._path,qj(e._queryParams,this._limit),e._orderByCalled)}}function HR(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new BR(n)}class qR extends Bl{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){kR(e,"orderByChild");const i=new Fe(this._path);if(Re(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new im(i),o=Gj(e._queryParams,a);return km(o),new Gi(e._repo,e._path,o,!0)}}function VR(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Nm("orderByChild","path",n),new qR(n)}class FR extends Bl{constructor(e,i){super(),this._value=e,this._key=i,this.type="equalTo"}_apply(e){if(Ul("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new PR(this._value,this._key)._apply(new zR(this._value,this._key)._apply(e))}}function GR(n,e){return new FR(n,e)}function Zh(n,...e){let i=At(n);for(const a of e)i=a._apply(i);return i}OA(fs);PA(fs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="FIREBASE_DATABASE_EMULATOR_HOST",kf={};let KR=!1;function $R(n,e,i,a){const o=e.lastIndexOf(":"),u=e.substring(0,o),h=Bi(u);n.repoInfo_=new M0(e,h,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(n.authTokenProvider_=a)}function QR(n,e,i,a,o){let u=a||n.options.databaseURL;u===void 0&&(n.options.projectId||us("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ct("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h=X_(u,o),m=h.repoInfo,g;typeof process<"u"&&v_&&(g=v_[YR]),g?(u=`http://${g}?ns=${m.namespace}`,h=X_(u,o),m=h.repoInfo):h.repoInfo.secure;const p=new K2(n.name,n.options,e);cR("Invalid Firebase Database URL",h),Re(h.path)||us("Database URL must point to the root of a Firebase Database (not including a child path).");const v=WR(m,n,p,new Y2(n,i));return new ZR(v,n)}function XR(n,e){const i=kf[e];(!i||i[n.key]!==n)&&us(`Database ${e}(${n.repoInfo_}) has already been deleted.`),SR(n),delete i[n.key]}function WR(n,e,i,a){let o=kf[e.name];o||(o={},kf[e.name]=o);let u=o[n.toURLString()];return u&&us("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new mR(n,KR,i,a),o[n.toURLString()]=u,u}class ZR{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fs(this._repo,ze())),this._rootInternal}_delete(){return this._rootInternal!==null&&(XR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&us("Cannot call "+e+" on a deleted database.")}}function JR(n=eu(),e){const i=ii(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=a0("database");a&&ek(i,...a)}return i}function ek(n,e,i,a={}){n=At(n),n._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(o===n._repoInternal.repoInfo_.host&&Js(a,u.repoInfo_.emulatorOptions))return;us("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&us('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new mc(mc.OWNER);else if(a.mockUserToken){const m=typeof a.mockUserToken=="string"?a.mockUserToken:o0(a.mockUserToken,n.app.options.projectId);h=new mc(m)}Bi(e)&&(Gf(e),Yf("Database",!0)),$R(u,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n){R2(qi),Cn(new pn("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return QR(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Vt(__,x_,n),Vt(__,x_,"esm2020")}rs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};rs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};tk();function Mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nk=Mb,Db=new Hi("auth","Firebase",Mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Jc("@firebase/auth");function sk(n,...e){Bc.logLevel<=$e.WARN&&Bc.warn(`Auth (${qi}): ${n}`,...e)}function pc(n,...e){Bc.logLevel<=$e.ERROR&&Bc.error(`Auth (${qi}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,...e){throw Im(n,...e)}function Dn(n,...e){return Im(n,...e)}function Lb(n,e,i){const a={...nk(),[e]:i};return new Hi("auth","Firebase",a).create(e,{appName:n.name})}function Ri(n){return Lb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(n,...e){if(typeof n!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(i,...a)}return Db.create(n,...e)}function we(n,e,...i){if(!n)throw Im(e,...i)}function is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pc(e),new Error(e)}function hs(n,e){n||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function ik(){return J_()==="http:"||J_()==="https:"}function J_(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ik()||c0()||"connection"in navigator)?navigator.onLine:!0}function rk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,i){this.shortDelay=e,this.longDelay=i,hs(i>e,"Short delay should be less than long delay!"),this.isMobile=Kf()||u0()}get(){return ak()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n,e){hs(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ck=new Hl(3e4,6e4);function Mm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function tr(n,e,i,a,o={}){return Pb(n,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=Wa({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:g,...u};return aC()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Bi(n.emulatorConfig.host)&&(p.credentials="include"),Ub.fetch()(await zb(n,n.config.apiHost,i,m),p)})}async function Pb(n,e,i){n._canInitEmulator=!1;const a={...lk,...e};try{const o=new dk(n),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw uc(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw uc(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw uc(n,"user-disabled",h);const v=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Lb(n,v,p);ds(n,v)}}catch(o){if(o instanceof jn)throw o;ds(n,"network-request-failed",{message:String(o)})}}async function uk(n,e,i,a,o={}){const u=await tr(n,e,i,a,o);return"mfaPendingCredential"in u&&ds(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function zb(n,e,i,a){const o=`${e}${i}?${a}`,u=n,h=u.config.emulator?Om(n.config,o):`${n.config.apiScheme}://${o}`;return ok.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class dk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Dn(this.auth,"network-request-failed")),ck.get())})}}function uc(n,e,i){const a={appName:n.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Dn(n,e,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(n,e){return tr(n,"POST","/v1/accounts:delete",e)}async function Hc(n,e){return tr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fk(n,e=!1){const i=At(n),a=await i.getIdToken(e),o=Dm(a);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:hl(Jh(o.auth_time)),issuedAtTime:hl(Jh(o.iat)),expirationTime:hl(Jh(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jh(n){return Number(n)*1e3}function Dm(n){const[e,i,a]=n.split(".");if(e===void 0||i===void 0||a===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nc(i);return o?JSON.parse(o):(pc("Failed to decode base64 JWT payload"),null)}catch(o){return pc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ex(n){const e=Dm(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof jn&&mk(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function mk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n){var x;const e=n.auth,i=await n.getIdToken(),a=await Cl(n,Hc(e,{idToken:i}));we(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=(x=o.providerUserInfo)!=null&&x.length?Bb(o.providerUserInfo):[],h=yk(n.providerData,u),m=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Of(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function gk(n){const e=At(n);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yk(n,e){return[...n.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Bb(n){return n.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(n,e){const i=await Pb(n,{},async()=>{const a=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await zb(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return n.emulatorConfig&&Bi(n.emulatorConfig.host)&&(g.credentials="include"),Ub.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function _k(n,e){return tr(n,"POST","/v2/accounts:revokeToken",Mm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ex(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=ex(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await vk(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,h=new Pa;return a&&(we(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new pk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Of(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fk(this,e)}reload(){return gk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await Cl(this,hk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:x,emailVerified:b,isAnonymous:E,providerData:I,stsTokenManager:C}=i;we(x&&C,e,"internal-error");const B=Pa.fromJSON(this.name,C);we(typeof x=="string",e,"internal-error"),qs(a,e.name),qs(o,e.name),we(typeof b=="boolean",e,"internal-error"),we(typeof E=="boolean",e,"internal-error"),qs(u,e.name),qs(h,e.name),qs(m,e.name),qs(g,e.name),qs(p,e.name),qs(v,e.name);const P=new wn({uid:x,auth:e,email:o,emailVerified:b,displayName:a,isAnonymous:E,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(P.providerData=I.map(X=>({...X}))),g&&(P._redirectEventId=g),P}static async _fromIdTokenResponse(e,i,a=!1){const o=new Pa;o.updateFromServerResponse(i);const u=new wn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await qc(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Bb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Pa;m.updateFromIdToken(a);const g=new wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Of(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Map;function as(n){hs(n instanceof Function,"Expected a class definition");let e=tx.get(n);return e?(hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Hb.type="NONE";const nx=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n,e,i){return`firebase:${n}:${e}:${i}`}class za{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=gc("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Hc(this.auth,{idToken:e}).catch(()=>{});return i?wn._fromGetAccountInfoResponse(this.auth,i,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new za(as(nx),e,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||as(nx);const h=gc(a,e.config.apiKey,e.name);let m=null;for(const p of i)try{const v=await p._get(h);if(v){let x;if(typeof v=="string"){const b=await Hc(e,{idToken:v}).catch(()=>{});if(!b)break;x=await wn._fromGetAccountInfoResponse(e,b,v)}else x=wn._fromJSON(e,v);p!==u&&(m=x),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new za(u,e,a):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new za(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kb(e))return"Blackberry";if($b(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Fb(e))&&!e.includes("edge/"))return"Chrome";if(Yb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function qb(n=Lt()){return/firefox\//i.test(n)}function Vb(n=Lt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fb(n=Lt()){return/crios\//i.test(n)}function Gb(n=Lt()){return/iemobile/i.test(n)}function Yb(n=Lt()){return/android/i.test(n)}function Kb(n=Lt()){return/blackberry/i.test(n)}function $b(n=Lt()){return/webos/i.test(n)}function Lm(n=Lt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xk(n=Lt()){var e;return Lm(n)&&!!((e=window.navigator)!=null&&e.standalone)}function bk(){return rC()&&document.documentMode===10}function Qb(n=Lt()){return Lm(n)||Yb(n)||$b(n)||Kb(n)||/windows phone/i.test(n)||Gb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n,e=[]){let i;switch(n){case"Browser":i=sx(Lt());break;case"Worker":i=`${sx(Lt())}-${n}`;break;default:i=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${qi}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(n,e={}){return tr(n,"GET","/v2/passwordPolicy",Mm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=6;class Ek{constructor(e){var a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Nk,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ix(this),this.idTokenSubscription=new ix(this),this.beforeStateQueue=new Sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Hc(this,{idToken:e}),a=await wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Ri(this));const i=e?At(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wk(this),i=new Ek(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hi("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await _k(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&as(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,o);return()=>{h=!0,g()}}else{const g=e.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var i;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&sk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Um(n){return At(n)}class ix{constructor(e){this.auth=e,this.observer=null,this.addObserver=pC(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ck(n){Pm=n}function jk(n){return Pm.loadJS(n)}function Ak(){return Pm.gapiScript}function Rk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n,e){const i=ii(n,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Js(u,e??{}))return o;ds(o,"already-initialized")}return i.initialize({options:e})}function Ik(n,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(as);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Ok(n,e,i){const a=Um(n);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Wb(e),{host:h,port:m}=Mk(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Js(p,a.config.emulator)&&Js(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Bi(h)?(Gf(`${u}//${h}${g}`),Yf("Auth",!0)):Dk()}function Wb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Mk(n){const e=Wb(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:ax(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:ax(h)}}}function ax(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Dk(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,i){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n,e){return uk(n,"POST","/v1/accounts:signInWithIdp",Mm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="http://localhost";class Mi extends Zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=i;if(!a||!o)return null;const h=new Mi(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return Ba(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ba(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ba(e,i)}buildRequest(){const e={requestUri:Lk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wa(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Jb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends ql{constructor(){super("facebook.com")}static credential(e){return Mi._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Mi._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends ql{constructor(){super("github.com")}static credential(e){return Mi._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends ql{constructor(){super("twitter.com")}static credential(e,i){return Mi._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await wn._fromIdTokenResponse(e,a,o),h=rx(a);return new Ka({user:u,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=rx(a);return new Ka({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function rx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends jn{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Vc(e,i,a,o)}}function e1(n,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vc._fromErrorAndOperation(n,u,e,a):u})}async function Uk(n,e,i=!1){const a=await Cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Ka._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(n,e,i=!1){const{auth:a}=n;if(xn(a.app))return Promise.reject(Ri(a));const o="reauthenticate";try{const u=await Cl(n,e1(a,o,e,n),i);we(u.idToken,a,"internal-error");const h=Dm(u.idToken);we(h,a,"internal-error");const{sub:m}=h;return we(n.uid===m,a,"user-mismatch"),Ka._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ds(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e,i=!1){if(xn(n.app))return Promise.reject(Ri(n));const a="signIn",o=await e1(n,a,e),u=await Ka._fromIdTokenResponse(n,a,o);return i||await n._updateCurrentUser(u.user),u}function Bk(n,e,i,a){return At(n).onIdTokenChanged(e,i,a)}function Hk(n,e,i){return At(n).beforeAuthStateChanged(e,i)}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=1e3,Vk=10;class n1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);bk()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Vk):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}n1.type="LOCAL";const Fk=n1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}s1.type="SESSION";const i1=s1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new du(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,u)),g=await Gk(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}du.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=zm("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(x){const b=x;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return window}function Kk(n){Ln().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}async function $k(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function Xk(){return a1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",Wk=1,Gc="firebaseLocalStorage",l1="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hu(n,e){return n.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function Zk(){const n=indexedDB.deleteDatabase(r1);return new Vl(n).toPromise()}function Mf(){const n=indexedDB.open(r1,Wk);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Gc,{keyPath:l1})}catch(o){i(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Gc)?e(a):(a.close(),await Zk(),e(await Mf()))})})}async function lx(n,e,i){const a=hu(n,!0).put({[l1]:e,value:i});return new Vl(a).toPromise()}async function Jk(n,e){const i=hu(n,!1).get(e),a=await new Vl(i).toPromise();return a===void 0?null:a.value}function ox(n,e){const i=hu(n,!0).delete(e);return new Vl(i).toPromise()}const eI=800,tI=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mf(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>tI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=du._getInstance(Xk()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,a;if(this.activeServiceWorker=await $k(),!this.activeServiceWorker)return;this.sender=new Yk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mf();return await lx(e,Fc,"1"),await ox(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>lx(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Jk(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>ox(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hu(o,!1).getAll();return new Vl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const nI=o1;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n,e){return e?as(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends Zb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ba(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function iI(n){return zk(n.auth,new Bm(n),n.bypassAuthState)}function aI(n){const{auth:e,user:i}=n;return we(i,e,"internal-error"),Pk(i,new Bm(n),n.bypassAuthState)}async function rI(n){const{auth:e,user:i}=n;return we(i,e,"internal-error"),Uk(i,new Bm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iI;case"linkViaPopup":case"linkViaRedirect":return rI;case"reauthViaPopup":case"reauthViaRedirect":return aI;default:ds(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Hl(2e3,1e4);class La extends c1{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if((a=(i=this.authWindow)==null?void 0:i.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lI.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="pendingRedirect",yc=new Map;class cI extends c1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const a=await uI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uI(n,e){const i=fI(e),a=hI(n);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function dI(n,e){yc.set(n._key(),e)}function hI(n){return as(n._redirectPersistence)}function fI(n){return gc(oI,n.config.apiKey,n.name)}async function mI(n,e,i=!1){if(xn(n.app))return Promise.reject(Ri(n));const a=Um(n),o=sI(a,e),h=await new cI(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=10*60*1e3;class gI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!u1(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";i.onError(Dn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pI&&this.cachedEventUids.clear(),this.cachedEventUids.has(cx(e))}saveEventToCache(e){this.cachedEventUids.add(cx(e)),this.lastProcessedEventTime=Date.now()}}function cx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function u1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(n,e={}){return tr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xI=/^https?/;async function bI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vI(n);for(const i of e)try{if(SI(i))return}catch{}ds(n,"unauthorized-domain")}function SI(n){const e=If(),{protocol:i,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&a===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!xI.test(i))return!1;if(_I.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Hl(3e4,6e4);function ux(){const n=Ln().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function NI(n){return new Promise((e,i)=>{var o,u,h;function a(){ux(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ux(),i(Dn(n,"network-request-failed"))},timeout:wI.get()})}if((u=(o=Ln().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Ln().gapi)!=null&&h.load)a();else{const m=Rk("iframefcb");return Ln()[m]=()=>{gapi.load?a():i(Dn(n,"network-request-failed"))},jk(`${Ak()}?onload=${m}`).catch(g=>i(g))}}).catch(e=>{throw vc=null,e})}let vc=null;function EI(n){return vc=vc||NI(n),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Hl(5e3,15e3),CI="__/auth/iframe",jI="emulator/auth/iframe",AI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kI(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?Om(e,jI):`https://${n.config.authDomain}/${CI}`,a={apiKey:e.apiKey,appName:n.name,v:qi},o=RI.get(n.config.apiHost);o&&(a.eid=o);const u=n._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Wa(a).slice(1)}`}async function II(n){const e=await EI(n),i=Ln().gapi;return we(i,n,"internal-error"),e.open({where:document.body,url:kI(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=Dn(n,"network-request-failed"),m=Ln().setTimeout(()=>{u(h)},TI.get());function g(){Ln().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MI=500,DI=600,LI="_blank",UI="http://localhost";class dx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PI(n,e,i,a=MI,o=DI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g={...OI,width:a.toString(),height:o.toString(),top:u,left:h},p=Lt().toLowerCase();i&&(m=Fb(p)?LI:i),qb(p)&&(e=e||UI,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[E,I])=>`${b}${E}=${I},`,"");if(xk(p)&&m!=="_self")return zI(e||"",m),new dx(null);const x=window.open(e||"",m,v);we(x,n,"popup-blocked");try{x.focus()}catch{}return new dx(x)}function zI(n,e){const i=document.createElement("a");i.href=n,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="__/auth/handler",HI="emulator/auth/handler",qI=encodeURIComponent("fac");async function hx(n,e,i,a,o,u){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:a,v:qi,eventId:o};if(e instanceof Jb){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",hf(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))h[v]=x}if(e instanceof ql){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(h.scopes=v.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await n._getAppCheckToken(),p=g?`#${qI}=${encodeURIComponent(g)}`:"";return`${VI(n)}?${Wa(m).slice(1)}${p}`}function VI({config:n}){return n.emulator?Om(n,HI):`https://${n.authDomain}/${BI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="webStorageSupport";class FI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=mI,this._overrideRedirectResult=dI}async _openPopup(e,i,a,o){var h;hs((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await hx(e,i,a,If(),o);return PI(e,u,zm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await hx(e,i,a,If(),o);return Kk(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(hs(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await II(e),a=new gI(e);return i.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ef,{type:ef},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[ef];u!==void 0&&i(!!u),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=bI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Qb()||Vb()||Lm()}}const GI=FI;var fx="@firebase/auth",mx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $I(n){Cn(new pn("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xb(n)},p=new Tk(a,o,u,g);return Ik(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Cn(new pn("auth-internal",e=>{const i=Um(e.getProvider("auth").getImmediate());return(a=>new YI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(fx,mx,KI(n)),Vt(fx,mx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=5*60,XI=l0("authIdTokenMaxAge")||QI;let px=null;const WI=n=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>XI)return;const o=i==null?void 0:i.token;px!==o&&(px=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZI(n=eu()){const e=ii(n,"auth");if(e.isInitialized())return e.getImmediate();const i=kk(n,{popupRedirectResolver:GI,persistence:[nI,Fk,i1]}),a=l0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=WI(u.toString());Hk(i,h,()=>h(i.currentUser)),Bk(i,m=>h(m))}}const o=i0("auth");return o&&Ok(i,`http://${o}`),i}function JI(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Ck({loadJS(n){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=o=>{const u=Dn("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",JI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$I("Browser");var eO="firebase",tO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt(eO,tO,"app");const d1="@firebase/installations",Hm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=1e4,f1=`w:${Hm}`,m1="FIS_v2",nO="https://firebaseinstallations.googleapis.com/v1",sO=60*60*1e3,iO="installations",aO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Di=new Hi(iO,aO,rO);function p1(n){return n instanceof jn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1({projectId:n}){return`${nO}/projects/${n}/installations`}function y1(n){return{token:n.token,requestStatus:2,expiresIn:oO(n.expiresIn),creationTime:Date.now()}}async function v1(n,e){const a=(await e.json()).error;return Di.create("request-failed",{requestName:n,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function _1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function lO(n,{refreshToken:e}){const i=_1(n);return i.append("Authorization",cO(e)),i}async function x1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function oO(n){return Number(n.replace("s","000"))}function cO(n){return`${m1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO({appConfig:n,heartbeatServiceProvider:e},{fid:i}){const a=g1(n),o=_1(n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={fid:i,authVersion:m1,appId:n.appId,sdkVersion:f1},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await x1(()=>fetch(a,m));if(g.ok){const p=await g.json();return{fid:p.fid||i,registrationStatus:2,refreshToken:p.refreshToken,authToken:y1(p.authToken)}}else throw await v1("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^[cdef][\w-]{21}$/,Df="";function fO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=mO(n);return hO.test(i)?i:Df}catch{return Df}}function mO(n){return dO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;function w1(n,e){const i=fu(n);N1(i,e),pO(i,e)}function N1(n,e){const i=S1.get(n);if(i)for(const a of i)a(e)}function pO(n,e){const i=gO();i&&i.postMessage({key:n,fid:e}),yO()}let Ci=null;function gO(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=n=>{N1(n.data.key,n.data.fid)}),Ci}function yO(){S1.size===0&&Ci&&(Ci.close(),Ci=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="firebase-installations-database",_O=1,Li="firebase-installations-store";let tf=null;function qm(){return tf||(tf=g0(vO,_O,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Li)}}})),tf}async function Yc(n,e){const i=fu(n),o=(await qm()).transaction(Li,"readwrite"),u=o.objectStore(Li),h=await u.get(i);return await u.put(e,i),await o.done,(!h||h.fid!==e.fid)&&w1(n,e.fid),e}async function E1(n){const e=fu(n),a=(await qm()).transaction(Li,"readwrite");await a.objectStore(Li).delete(e),await a.done}async function mu(n,e){const i=fu(n),o=(await qm()).transaction(Li,"readwrite"),u=o.objectStore(Li),h=await u.get(i),m=e(h);return m===void 0?await u.delete(i):await u.put(m,i),await o.done,m&&(!h||h.fid!==m.fid)&&w1(n,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(n){let e;const i=await mu(n.appConfig,a=>{const o=xO(a),u=bO(n,o);return e=u.registrationPromise,u.installationEntry});return i.fid===Df?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function xO(n){const e=n||{fid:fO(),registrationStatus:0};return T1(e)}function bO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Di.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=SO(n,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wO(n)}:{installationEntry:e}}async function SO(n,e){try{const i=await uO(n,e);return Yc(n.appConfig,i)}catch(i){throw p1(i)&&i.customData.serverCode===409?await E1(n.appConfig):await Yc(n.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function wO(n){let e=await gx(n.appConfig);for(;e.registrationStatus===1;)await b1(100),e=await gx(n.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await Vm(n);return a||i}return e}function gx(n){return mu(n,e=>{if(!e)throw Di.create("installation-not-found");return T1(e)})}function T1(n){return NO(n)?{fid:n.fid,registrationStatus:0}:n}function NO(n){return n.registrationStatus===1&&n.registrationTime+h1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO({appConfig:n,heartbeatServiceProvider:e},i){const a=TO(n,i),o=lO(n,i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const h={installation:{sdkVersion:f1,appId:n.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},g=await x1(()=>fetch(a,m));if(g.ok){const p=await g.json();return y1(p)}else throw await v1("Generate Auth Token",g)}function TO(n,{fid:e}){return`${g1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(n,e=!1){let i;const a=await mu(n.appConfig,u=>{if(!C1(u))throw Di.create("not-registered");const h=u.authToken;if(!e&&AO(h))return u;if(h.requestStatus===1)return i=CO(n,e),u;{if(!navigator.onLine)throw Di.create("app-offline");const m=kO(u);return i=jO(n,m),m}});return i?await i:a.authToken}async function CO(n,e){let i=await yx(n.appConfig);for(;i.authToken.requestStatus===1;)await b1(100),i=await yx(n.appConfig);const a=i.authToken;return a.requestStatus===0?Fm(n,e):a}function yx(n){return mu(n,e=>{if(!C1(e))throw Di.create("not-registered");const i=e.authToken;return IO(i)?{...e,authToken:{requestStatus:0}}:e})}async function jO(n,e){try{const i=await EO(n,e),a={...e,authToken:i};return await Yc(n.appConfig,a),i}catch(i){if(p1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await E1(n.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Yc(n.appConfig,a)}throw i}}function C1(n){return n!==void 0&&n.registrationStatus===2}function AO(n){return n.requestStatus===2&&!RO(n)}function RO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+sO}function kO(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function IO(n){return n.requestStatus===1&&n.requestTime+h1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n){const e=n,{installationEntry:i,registrationPromise:a}=await Vm(e);return a?a.catch(console.error):Fm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,e=!1){const i=n;return await DO(i),(await Fm(i,e)).token}async function DO(n){const{registrationPromise:e}=await Vm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){if(!n||!n.options)throw nf("App Configuration");if(!n.name)throw nf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!n.options[i])throw nf(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function nf(n){return Di.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="installations",UO="installations-internal",PO=n=>{const e=n.getProvider("app").getImmediate(),i=LO(e),a=ii(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},zO=n=>{const e=n.getProvider("app").getImmediate(),i=ii(e,j1).getImmediate();return{getId:()=>OO(i),getToken:o=>MO(i,o)}};function BO(){Cn(new pn(j1,PO,"PUBLIC")),Cn(new pn(UO,zO,"PRIVATE"))}BO();Vt(d1,Hm);Vt(d1,Hm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="analytics",HO="firebase_id",qO="origin",VO=60*1e3,FO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new Jc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new Hi("analytics","Analytics",GO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){if(!n.startsWith(Gm)){const e=nn.create("invalid-gtag-resource",{gtagURL:n});return Ft.warn(e.message),""}return n}function A1(n){return Promise.all(n.map(e=>e.catch(i=>i)))}function KO(n,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,e)),i}function $O(n,e){const i=KO("firebase-js-sdk-policy",{createScriptURL:YO}),a=document.createElement("script"),o=`${Gm}?l=${n}&id=${e}`;a.src=i?i==null?void 0:i.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function QO(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function XO(n,e,i,a,o,u){const h=a[o];try{if(h)await e[h];else{const g=(await A1(i)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){Ft.error(m)}n("config",o,u)}async function WO(n,e,i,a,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await A1(i);for(const g of h){const p=m.find(x=>x.measurementId===g),v=p&&e[p.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",a,o||{})}catch(u){Ft.error(u)}}function ZO(n,e,i,a){async function o(u,...h){try{if(u==="event"){const[m,g]=h;await WO(n,e,i,m,g)}else if(u==="config"){const[m,g]=h;await XO(n,e,i,a,m,g)}else if(u==="consent"){const[m,g]=h;n("consent",m,g)}else if(u==="get"){const[m,g,p]=h;n("get",m,g,p)}else if(u==="set"){const[m]=h;n("set",m)}else n(u,...h)}catch(m){Ft.error(m)}}return o}function JO(n,e,i,a,o){let u=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=ZO(u,n,e,i),{gtagCore:u,wrappedGtag:window[o]}}function eM(n){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Gm)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=30,nM=1e3;class sM{constructor(e={},i=nM){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const R1=new sM;function iM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function aM(n){var h;const{appId:e,apiKey:i}=n,a={method:"GET",headers:iM(i)},o=FO.replace("{app-id}",e),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let m="";try{const g=await u.json();(h=g.error)!=null&&h.message&&(m=g.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function rM(n,e=R1,i){const{appId:a,apiKey:o,measurementId:u}=n.options;if(!a)throw nn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw nn.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new cM;return setTimeout(async()=>{m.abort()},VO),k1({appId:a,apiKey:o,measurementId:u},h,m,e)}async function k1(n,{throttleEndTimeMillis:e,backoffCount:i},a,o=R1){var m;const{appId:u,measurementId:h}=n;try{await lM(a,e)}catch(g){if(h)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:h};throw g}try{const g=await aM(n);return o.deleteThrottleMetadata(u),g}catch(g){const p=g;if(!oM(p)){if(o.deleteThrottleMetadata(u),h)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:h};throw g}const v=Number((m=p==null?void 0:p.customData)==null?void 0:m.httpStatus)===503?c_(i,o.intervalMillis,tM):c_(i,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(u,x),Ft.debug(`Calling attemptFetch again in ${v} millis`),k1(n,x,a,o)}}function lM(n,e){return new Promise((i,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),a(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oM(n){if(!(n instanceof jn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class cM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uM(n,e,i,a,o){if(o&&o.global){n("event",i,a);return}else{const u=await e,h={...a,send_to:u};n("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(){if(d0())try{await h0()}catch(n){return Ft.warn(nn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ft.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hM(n,e,i,a,o,u,h){const m=rM(n);m.then(b=>{i[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Ft.error(b)),e.push(m);const g=dM().then(b=>{if(b)return a.getId()}),[p,v]=await Promise.all([m,g]);eM(u)||$O(u,p.measurementId),o("js",new Date);const x=(h==null?void 0:h.config)??{};return x[qO]="firebase",x.update=!0,v!=null&&(x[HO]=v),o("config",p.measurementId,x),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.app=e}_delete(){return delete fl[this.app.options.appId],Promise.resolve()}}let fl={},vx=[];const _x={};let sf="dataLayer",mM="gtag",xx,I1,bx=!1;function pM(){const n=[];if(c0()&&n.push("This is a browser extension environment."),oC()||n.push("Cookies are not available."),n.length>0){const e=n.map((a,o)=>`(${o+1}) ${a}`).join(" "),i=nn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(i.message)}}function gM(n,e,i){pM();const a=n.options.appId;if(!a)throw nn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(fl[a]!=null)throw nn.create("already-exists",{id:a});if(!bx){QO(sf);const{wrappedGtag:u,gtagCore:h}=JO(fl,vx,_x,sf,mM);I1=u,xx=h,bx=!0}return fl[a]=hM(n,vx,_x,e,xx,sf,i),new fM(n)}function yM(n=eu()){n=At(n);const e=ii(n,Kc);return e.isInitialized()?e.getImmediate():vM(n)}function vM(n,e={}){const i=ii(n,Kc);if(i.isInitialized()){const o=i.getImmediate();if(Js(e,i.getOptions()))return o;throw nn.create("already-initialized")}return i.initialize({options:e})}function _M(n,e,i,a){n=At(n),uM(I1,fl[n.app.options.appId],e,i,a).catch(o=>Ft.error(o))}const Sx="@firebase/analytics",wx="0.10.18";function xM(){Cn(new pn(Kc,(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return gM(a,o,i)},"PUBLIC")),Cn(new pn("analytics-internal",n,"PRIVATE")),Vt(Sx,wx),Vt(Sx,wx,"esm2020");function n(e){try{const i=e.getProvider(Kc).getImmediate();return{logEvent:(a,o,u)=>_M(i,a,o,u)}}catch(i){throw nn.create("interop-component-reg-failed",{reason:i})}}}xM();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebasestorage.googleapis.com",bM="storageBucket",SM=2*60*1e3,wM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends jn{constructor(e,i,a=0){super(af(e),`Firebase Storage: ${i} (${af(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return af(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Un;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Un||(Un={}));function af(n){return"storage/"+n}function NM(){const n="An unknown error occurred, please check the error payload for server response.";return new zn(Un.UNKNOWN,n)}function EM(){return new zn(Un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TM(){return new zn(Un.CANCELED,"User canceled the upload/download.")}function CM(n){return new zn(Un.INVALID_URL,"Invalid URL '"+n+"'.")}function jM(n){return new zn(Un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Nx(n){return new zn(Un.INVALID_ARGUMENT,n)}function M1(){return new zn(Un.APP_DELETED,"The Firebase app was deleted.")}function AM(n){return new zn(Un.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let a;try{a=Nn.makeFromUrl(e,i)}catch{return new Nn(e,"")}if(a.path==="")return a;throw jM(e)}static makeFromUrl(e,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",x=i.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",E=new RegExp(`^https?://${x}/${v}/b/${o}/o${b}`,"i"),I={bucket:1,path:3},C=i===O1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,B="([^?#]*)",P=new RegExp(`^https?://${C}/${o}/${B}`,"i"),W=[{regex:m,indices:g,postModify:u},{regex:E,indices:I,postModify:p},{regex:P,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<W.length;se++){const ie=W[se],H=ie.regex.exec(e);if(H){const oe=H[ie.indices.bucket];let $=H[ie.indices.path];$||($=""),a=new Nn(oe,$),ie.postModify(a);break}}if(a==null)throw CM(e);return a}}class RM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n,e,i){let a=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function v(...B){p||(p=!0,e.apply(null,B))}function x(B){o=setTimeout(()=>{o=null,n(E,g())},B)}function b(){u&&clearTimeout(u)}function E(B,...P){if(p){b();return}if(B){b(),v.call(null,B,...P);return}if(g()||h){b(),v.call(null,B,...P);return}a<64&&(a*=2);let W;m===1?(m=2,W=0):W=(a+Math.random())*1e3,x(W)}let I=!1;function C(B){I||(I=!0,b(),!p&&(o!==null?(B||(m=2),clearTimeout(o),x(0)):B||(m=1)))}return x(0),u=setTimeout(()=>{h=!0,C(!0)},i),C}function IM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n){return n!==void 0}function Ex(n,e,i,a){if(a<e)throw Nx(`Invalid value for '${n}'. Expected ${e} or greater.`);if(a>i)throw Nx(`Invalid value for '${n}'. Expected ${i} or less.`)}function MM(n){const e=encodeURIComponent;let i="?";for(const a in n)if(n.hasOwnProperty(a)){const o=e(a)+"="+e(n[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var $c;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})($c||($c={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n,e){const i=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,u=e.indexOf(n)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,i,a,o,u,h,m,g,p,v,x,b=!0,E=!1){this.url_=e,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=x,this.retry=b,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,C)=>{this.resolve_=I,this.reject_=C,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new dc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===$c.NO_ERROR,g=u.getStatus();if(!m||DM(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===$c.ABORT;a(!1,new dc(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;a(!0,new dc(p,u))})},i=(a,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());OM(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=NM();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?M1():TM();h(g)}else{const g=EM();h(g)}};this.canceled_?i(!1,new dc(!1,null,!0)):this.backoffId_=kM(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dc{constructor(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a}}function UM(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function PM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function BM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function HM(n,e,i,a,o,u,h=!0,m=!1){const g=MM(n.urlParams),p=n.url+g,v=Object.assign({},n.headers);return zM(v,e),UM(v,i),PM(v,u),BM(v,a),new LM(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function VM(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i){this._service=e,i instanceof Nn?this._location=i:this._location=Nn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Qc(e,i)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VM(this._location.path)}get storage(){return this._service}get parent(){const e=qM(this._location.path);if(e===null)return null;const i=new Nn(this._location.bucket,e);return new Qc(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw AM(e)}}function Tx(n,e){const i=e==null?void 0:e[bM];return i==null?null:Nn.makeFromBucketSpec(i,n)}function FM(n,e,i,a={}){n.host=`${e}:${i}`;const o=Bi(e);o&&(Gf(`https://${n.host}/b`),Yf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(n._overrideAuthToken=typeof u=="string"?u:o0(u,n.app.options.projectId))}class GM{constructor(e,i,a,o,u,h=!1){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=O1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SM,this._maxUploadRetryTime=wM,this._requests=new Set,o!=null?this._bucket=Nn.makeFromBucketSpec(o,this._host):this._bucket=Tx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=Tx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ex("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ex("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qc(this,e)}_makeRequest(e,i,a,o,u=!0){if(this._deleted)return new RM(M1());{const h=HM(e,this._appId,a,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,a,o).getPromise()}}const Cx="@firebase/storage",jx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="storage";function YM(n=eu(),e){n=At(n);const a=ii(n,D1).getImmediate({identifier:e}),o=a0("storage");return o&&KM(a,...o),a}function KM(n,e,i,a={}){FM(n,e,i,a)}function $M(n,{instanceIdentifier:e}){const i=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new GM(i,a,o,e,qi)}function QM(){Cn(new pn(D1,$M,"PUBLIC").setMultipleInstances(!0)),Vt(Cx,jx,""),Vt(Cx,jx,"esm2020")}QM();const XM={apiKey:"AIzaSyBSDzy30rZXsf676uEpyxKE91kmcuLT7WU",authDomain:"hijab-bedc0.firebaseapp.com",databaseURL:"https://hijab-bedc0-default-rtdb.firebaseio.com",projectId:"hijab-bedc0",storageBucket:"hijab-bedc0.firebasestorage.app",messagingSenderId:"361267265403",appId:"1:361267265403:web:b3ccc40cbcc60e541787de",measurementId:"G-57X0F8PLQG"},pu=y0(XM);yM(pu);const Ma=JR(pu);ZI(pu);YM(pu);const De={create:async(n,e)=>{try{const i=IR(Oa(Ma,n));return await Ob(i,{...e,id:i.key,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),{success:!0,id:i.key}}catch(i){return{success:!1,error:i.message}}},read:async n=>{try{const e=await Z_(Oa(Ma,n));return e.exists()?{success:!0,data:e.val()}:{success:!0,data:null}}catch(e){return{success:!1,error:e.message}}},update:async(n,e)=>{try{return await MR(Oa(Ma,n),{...e,updatedAt:new Date().toISOString()}),{success:!0}}catch(i){return{success:!1,error:i.message}}},delete:async n=>{try{return await OR(Oa(Ma,n)),{success:!0}}catch(e){return{success:!1,error:e.message}}},listen:(n,e)=>{const i=Oa(Ma,n);return LR(i,e),()=>UR(i,"value",e)},query:async(n,e,i,a)=>{try{let o=Oa(Ma,n);e&&(o=Zh(o,VR(e))),i!==void 0&&(o=Zh(o,GR(i))),a&&(o=Zh(o,HR(a)));const u=await Z_(o);return u.exists()?{success:!0,data:u.val()}:{success:!0,data:{}}}catch(o){return{success:!1,error:o.message}}}},En={addProduct:async n=>await De.create("products",n),getProducts:async()=>await De.read("products"),getProduct:async n=>await De.read(`products/${n}`),updateProduct:async(n,e)=>await De.update(`products/${n}`,e),deleteProduct:async n=>await De.delete(`products/${n}`),listenToProducts:n=>De.listen("products",n),searchProducts:async n=>{const e=await De.read("products");return e.success&&e.data?{success:!0,data:Object.values(e.data).filter(a=>a.name.toLowerCase().includes(n.toLowerCase())||a.sku.toLowerCase().includes(n.toLowerCase()))}:e}},ji={addCustomer:async n=>await De.create("customers",n),getCustomers:async()=>await De.read("customers"),getCustomer:async n=>await De.read(`customers/${n}`),updateCustomer:async(n,e)=>await De.update(`customers/${n}`,e),deleteCustomer:async n=>await De.delete(`customers/${n}`),listenToCustomers:n=>De.listen("customers",n)},gu={addTransaction:async n=>await De.create("transactions",n),getTransactions:async()=>await De.read("transactions"),getTransaction:async n=>await De.read(`transactions/${n}`),getTransactionsByDateRange:async(n,e)=>{const i=await De.read("transactions");return i.success&&i.data?{success:!0,data:Object.values(i.data).filter(o=>{const u=new Date(o.createdAt);return u>=new Date(n)&&u<=new Date(e)})}:i},listenToTransactions:n=>De.listen("transactions",n)},WM={updateStock:async(n,e,i="set")=>{try{const a=await En.getProduct(n);if(a.success&&a.data){let o;const u=a.data.stock||0;switch(i){case"add":o=u+e;break;case"subtract":o=Math.max(0,u-e);break;default:o=e}return await En.updateProduct(n,{stock:o})}return{success:!1,error:"Product not found"}}catch(a){return{success:!1,error:a.message}}},getLowStockProducts:async(n=10)=>{const e=await En.getProducts();return e.success&&e.data?{success:!0,data:Object.values(e.data).filter(a=>(a.stock||0)<=n)}:e}},L1={getSalesSummary:async(n,e)=>{const i=await gu.getTransactionsByDateRange(n,e);if(i.success&&i.data){const a=i.data;return{success:!0,data:{totalSales:a.reduce((u,h)=>u+(h.total||0),0),totalTransactions:a.length,averageTransaction:a.length>0?a.reduce((u,h)=>u+(h.total||0),0)/a.length:0,topProducts:(void 0).getTopProducts(a)}}}return i},getTopProducts:n=>{const e={};return n.forEach(i=>{i.items&&i.items.forEach(a=>{e[a.productId]?(e[a.productId].quantity+=a.quantity,e[a.productId].revenue+=a.total):e[a.productId]={productId:a.productId,productName:a.productName,quantity:a.quantity,revenue:a.total}})}),Object.values(e).sort((i,a)=>a.quantity-i.quantity).slice(0,10)}},Ax=({user:n})=>{const[e,i]=L.useState({todaySales:0,totalProducts:0,activeCustomers:0,lowStockItems:0}),[a,o]=L.useState([]),[u,h]=L.useState([]),[m,g]=L.useState(!0);L.useEffect(()=>{p()},[]);const p=async()=>{try{g(!0);const v=new Date().toISOString().split("T")[0],x=await L1.getSalesSummary(v,v),b=await En.getProducts(),E=b.success&&b.data?Object.values(b.data):[],I=await ji.getCustomers(),C=I.success&&I.data?Object.values(I.data):[],B=await inventoryService.getLowStockProducts(10),P=B.success&&B.data?B.data:[],X=await gu.getTransactions(),W=X.success&&X.data?Object.values(X.data).sort((se,ie)=>new Date(ie.createdAt)-new Date(se.createdAt)).slice(0,5):[];i({todaySales:x.success?x.data.totalSales:0,totalProducts:E.length,activeCustomers:C.length,lowStockItems:P.length}),o(W),h(P.slice(0,5))}catch(v){console.error("Error loading dashboard data:",v)}finally{g(!1)}};return m?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),c.jsxs(fe,{onClick:p,variant:"outline",children:[c.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Today's Sales"}),c.jsx(jl,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.todaySales.toLocaleString()," DA"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from yesterday"})]})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Total Products"}),c.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.totalProducts}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Active inventory items"})]})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Active Customers"}),c.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.activeCustomers}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered customers"})]})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Low Stock Items"}),c.jsx(df,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.lowStockItems}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Need restocking"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(bc,{className:"w-5 h-5"}),"Recent Transactions"]}),c.jsx(We,{children:"Latest sales activity"})]}),c.jsx(ne,{children:a.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent transactions"}):c.jsx("div",{className:"space-y-4",children:a.map(v=>{var x,b;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:v.customerName||"Walk-in Customer"}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.createdAt).toLocaleDateString()})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-bold text-green-600",children:[(x=v.total)==null?void 0:x.toLocaleString()," DA"]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[((b=v.items)==null?void 0:b.length)||0," items"]})]})]},v.id)})})})]}),c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx($x,{className:"w-5 h-5 text-red-500"}),"Low Stock Alert"]}),c.jsx(We,{children:"Products that need restocking"})]}),c.jsx(ne,{children:u.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"All products are well stocked"}):c.jsx("div",{className:"space-y-4",children:u.map(v=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:v.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",v.sku]})]}),c.jsxs(tn,{variant:"destructive",children:[v.stock," left"]})]},v.id))})})]})]}),c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsx(le,{children:"Quick Actions"}),c.jsx(We,{children:"Frequently used operations"})]}),c.jsx(ne,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs(fe,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[c.jsx(bc,{className:"w-6 h-6"}),c.jsx("span",{children:"New Sale"})]}),c.jsxs(fe,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[c.jsx(os,{className:"w-6 h-6"}),c.jsx("span",{children:"Add Product"})]}),c.jsxs(fe,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[c.jsx(Ha,{className:"w-6 h-6"}),c.jsx("span",{children:"Add Customer"})]}),c.jsxs(fe,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[c.jsx(Sc,{className:"w-6 h-6"}),c.jsx("span",{children:"View Reports"})]})]})})]})]})},ZM=({user:n})=>{const[e,i]=L.useState([]),[a,o]=L.useState([]),[u,h]=L.useState([]),[m,g]=L.useState(""),[p,v]=L.useState(null),[x,b]=L.useState([]),[E,I]=L.useState(!0),[C,B]=L.useState(!1);L.useEffect(()=>{P()},[]),L.useEffect(()=>{X()},[m,e]);const P=async()=>{try{I(!0);const U=await En.getProducts();if(U.success&&U.data){const V=Object.values(U.data);i(V),o(V)}const j=await ji.getCustomers();j.success&&j.data&&b(Object.values(j.data))}catch(U){console.error("Error loading POS data:",U)}finally{I(!1)}},X=()=>{if(!m){o(e);return}const U=e.filter(j=>{var V;return j.name.toLowerCase().includes(m.toLowerCase())||j.sku.toLowerCase().includes(m.toLowerCase())||((V=j.barcode)==null?void 0:V.includes(m))});o(U)},W=U=>{if(U.stock<=0){alert("Product is out of stock");return}const j=u.find(V=>V.id===U.id);if(j){if(j.quantity>=U.stock){alert("Cannot add more items than available in stock");return}se(U.id,j.quantity+1)}else h([...u,{...U,quantity:1}])},se=(U,j)=>{if(j<=0){ie(U);return}const V=e.find(Q=>Q.id===U);if(j>V.stock){alert("Cannot exceed available stock");return}h(u.map(Q=>Q.id===U?{...Q,quantity:j}:Q))},ie=U=>{h(u.filter(j=>j.id!==U))},H=()=>{h([]),v(null)},oe=()=>u.reduce((U,j)=>U+j.price*j.quantity,0),$=()=>oe()*.19,me=()=>oe()+$(),z=async U=>{if(u.length===0){alert("Cart is empty");return}B(!0);try{const j={customerId:(p==null?void 0:p.id)||null,customerName:(p==null?void 0:p.name)||"Walk-in Customer",items:u.map(Q=>({productId:Q.id,productName:Q.name,sku:Q.sku,quantity:Q.quantity,price:Q.price,total:Q.price*Q.quantity})),subtotal:oe(),tax:$(),total:me(),paymentMethod:U,cashierId:n.uid,cashierName:n.email},V=await gu.addTransaction(j);if(V.success){for(const Q of u)await inventoryService.updateStock(Q.id,Q.quantity,"subtract");alert("Payment processed successfully!"),H(),P()}else alert("Payment failed: "+V.error)}catch(j){console.error("Error processing payment:",j),alert("Payment failed: "+j.message)}finally{B(!1)}},D=()=>{const U=`
      STORE RECEIPT
      =============
      Date: ${new Date().toLocaleString()}
      Cashier: ${n.email}
      Customer: ${(p==null?void 0:p.name)||"Walk-in Customer"}
      
      ITEMS:
      ${u.map(V=>`${V.name} x${V.quantity} @ ${V.price.toLocaleString()} DA = ${(V.price*V.quantity).toLocaleString()} DA`).join(`
`)}
      
      Subtotal: ${oe().toLocaleString()} DA
      Tax (19%): ${$().toLocaleString()} DA
      TOTAL: ${me().toLocaleString()} DA
      
      Thank you for your business!
    `,j=window.open("","_blank");j.document.write(`<pre>${U}</pre>`),j.print(),j.close()};return E?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[c.jsx("div",{className:"lg:col-span-2 space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(bc,{className:"w-5 h-5"}),"Point of Sale"]}),c.jsx(We,{children:"Select products to add to cart"})]}),c.jsxs(ne,{children:[c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx(Ne,{placeholder:"Search products by name, SKU, or barcode...",value:m,onChange:U=>g(U.target.value),className:"pl-10"})]}),c.jsx(fe,{variant:"outline",children:c.jsx(gT,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:a.map(U=>c.jsx(te,{className:`cursor-pointer transition-all hover:shadow-md ${U.stock<=0?"opacity-50":""}`,onClick:()=>W(U),children:c.jsxs(ne,{className:"p-4",children:[c.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-2 flex items-center justify-center",children:c.jsx(Package,{className:"w-8 h-8 text-gray-400"})}),c.jsx("h4",{className:"font-medium text-sm mb-1 line-clamp-2",children:U.name}),c.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["SKU: ",U.sku]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"font-bold text-blue-600",children:[U.price.toLocaleString()," DA"]}),c.jsx(tn,{variant:U.stock<=10?"destructive":"secondary",children:U.stock})]})]})},U.id))})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(Jx,{className:"w-5 h-5"}),"Customer"]})}),c.jsx(ne,{children:c.jsxs("select",{className:"w-full p-2 border rounded-md",value:(p==null?void 0:p.id)||"",onChange:U=>{const j=x.find(V=>V.id===U.target.value);v(j||null)},children:[c.jsx("option",{value:"",children:"Walk-in Customer"}),x.map(U=>c.jsx("option",{value:U.id,children:U.name},U.id))]})})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(bc,{className:"w-5 h-5"}),"Cart (",u.length,")"]}),u.length>0&&c.jsx(fe,{variant:"outline",size:"sm",onClick:H,children:"Clear"})]})}),c.jsx(ne,{children:u.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cart is empty"}):c.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:u.map(U=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:U.name}),c.jsxs("p",{className:"text-xs text-gray-600",children:[U.price.toLocaleString()," DA each"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>se(U.id,U.quantity-1),children:c.jsx(Zx,{className:"w-3 h-3"})}),c.jsx("span",{className:"w-8 text-center text-sm",children:U.quantity}),c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>se(U.id,U.quantity+1),children:c.jsx(pl,{className:"w-3 h-3"})}),c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>ie(U.id),children:c.jsx(Rl,{className:"w-3 h-3"})})]})]},U.id))})})]}),u.length>0&&c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(Qx,{className:"w-5 h-5"}),"Payment Summary"]})}),c.jsxs(ne,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal:"}),c.jsxs("span",{children:[oe().toLocaleString()," DA"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Tax (19%):"}),c.jsxs("span",{children:[$().toLocaleString()," DA"]})]}),c.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{className:"text-green-600",children:[me().toLocaleString()," DA"]})]}),c.jsxs("div",{className:"space-y-2 pt-4",children:[c.jsxs(fe,{className:"w-full",onClick:()=>z("cash"),disabled:C,children:[c.jsx(ME,{className:"w-4 h-4 mr-2"}),"Cash Payment"]}),c.jsxs(fe,{className:"w-full",variant:"outline",onClick:()=>z("card"),disabled:C,children:[c.jsx(FE,{className:"w-4 h-4 mr-2"}),"Card Payment"]}),c.jsxs(fe,{className:"w-full",variant:"outline",onClick:()=>z("mobile"),disabled:C,children:[c.jsx(TT,{className:"w-4 h-4 mr-2"}),"Mobile Payment"]}),c.jsxs(fe,{className:"w-full",variant:"secondary",onClick:D,disabled:u.length===0,children:[c.jsx(hT,{className:"w-4 h-4 mr-2"}),"Print Receipt"]})]})]})]})]})]})};function ls(n,e,{checkForDefaultPrevented:i=!0}={}){return function(o){if(n==null||n(o),i===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Ym(n,e=[]){let i=[];function a(u,h){const m=L.createContext(h),g=i.length;i=[...i,h];const p=x=>{var P;const{scope:b,children:E,...I}=x,C=((P=b==null?void 0:b[n])==null?void 0:P[g])||m,B=L.useMemo(()=>I,Object.values(I));return c.jsx(C.Provider,{value:B,children:E})};p.displayName=u+"Provider";function v(x,b){var C;const E=((C=b==null?void 0:b[n])==null?void 0:C[g])||m,I=L.useContext(E);if(I)return I;if(h!==void 0)return h;throw new Error(`\`${x}\` must be used within \`${u}\``)}return[p,v]}const o=()=>{const u=i.map(h=>L.createContext(h));return function(m){const g=(m==null?void 0:m[n])||u;return L.useMemo(()=>({[`__scope${n}`]:{...m,[n]:g}}),[m,g])}};return o.scopeName=n,[a,JM(o,...e)]}function JM(...n){const e=n[0];if(n.length===1)return e;const i=()=>{const a=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const h=a.reduce((m,{useScope:g,scopeName:p})=>{const x=g(u)[`__scope${p}`];return{...m,...x}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return i.scopeName=e.scopeName,i}function eD(n){const e=n+"CollectionProvider",[i,a]=Ym(e),[o,u]=i(e,{collectionRef:{current:null},itemMap:new Map}),h=C=>{const{scope:B,children:P}=C,X=Vs.useRef(null),W=Vs.useRef(new Map).current;return c.jsx(o,{scope:B,itemMap:W,collectionRef:X,children:P})};h.displayName=e;const m=n+"CollectionSlot",g=_c(m),p=Vs.forwardRef((C,B)=>{const{scope:P,children:X}=C,W=u(m,P),se=ml(B,W.collectionRef);return c.jsx(g,{ref:se,children:X})});p.displayName=m;const v=n+"CollectionItemSlot",x="data-radix-collection-item",b=_c(v),E=Vs.forwardRef((C,B)=>{const{scope:P,children:X,...W}=C,se=Vs.useRef(null),ie=ml(B,se),H=u(v,P);return Vs.useEffect(()=>(H.itemMap.set(se,{ref:se,...W}),()=>void H.itemMap.delete(se))),c.jsx(b,{[x]:"",ref:ie,children:X})});E.displayName=v;function I(C){const B=u(n+"CollectionConsumer",C);return Vs.useCallback(()=>{const X=B.collectionRef.current;if(!X)return[];const W=Array.from(X.querySelectorAll(`[${x}]`));return Array.from(B.itemMap.values()).sort((H,oe)=>W.indexOf(H.ref.current)-W.indexOf(oe.ref.current))},[B.collectionRef,B.itemMap])}return[{Provider:h,Slot:p,ItemSlot:E},I,a]}var Xc=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},tD=Rx[" useId ".trim().toString()]||(()=>{}),nD=0;function U1(n){const[e,i]=L.useState(tD());return Xc(()=>{i(a=>a??String(nD++))},[n]),n||(e?`radix-${e}`:"")}function sD(n){const e=L.useRef(n);return L.useEffect(()=>{e.current=n}),L.useMemo(()=>(...i)=>{var a;return(a=e.current)==null?void 0:a.call(e,...i)},[])}var iD=Rx[" useInsertionEffect ".trim().toString()]||Xc;function P1({prop:n,defaultProp:e,onChange:i=()=>{},caller:a}){const[o,u,h]=aD({defaultProp:e,onChange:i}),m=n!==void 0,g=m?n:o;{const v=L.useRef(n!==void 0);L.useEffect(()=>{const x=v.current;x!==m&&console.warn(`${a} is changing from ${x?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=m},[m,a])}const p=L.useCallback(v=>{var x;if(m){const b=rD(v)?v(n):v;b!==n&&((x=h.current)==null||x.call(h,b))}else u(v)},[m,n,u,h]);return[g,p]}function aD({defaultProp:n,onChange:e}){const[i,a]=L.useState(n),o=L.useRef(i),u=L.useRef(e);return iD(()=>{u.current=e},[e]),L.useEffect(()=>{var h;o.current!==i&&((h=u.current)==null||h.call(u,i),o.current=i)},[i,o]),[i,a,u]}function rD(n){return typeof n=="function"}var lD=L.createContext(void 0);function z1(n){const e=L.useContext(lD);return n||e||"ltr"}var rf="rovingFocusGroup.onEntryFocus",oD={bubbles:!1,cancelable:!0},Fl="RovingFocusGroup",[Lf,B1,cD]=eD(Fl),[uD,H1]=Ym(Fl,[cD]),[dD,hD]=uD(Fl),q1=L.forwardRef((n,e)=>c.jsx(Lf.Provider,{scope:n.__scopeRovingFocusGroup,children:c.jsx(Lf.Slot,{scope:n.__scopeRovingFocusGroup,children:c.jsx(fD,{...n,ref:e})})}));q1.displayName=Fl;var fD=L.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:i,orientation:a,loop:o=!1,dir:u,currentTabStopId:h,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...x}=n,b=L.useRef(null),E=ml(e,b),I=z1(u),[C,B]=P1({prop:h,defaultProp:m??null,onChange:g,caller:Fl}),[P,X]=L.useState(!1),W=sD(p),se=B1(i),ie=L.useRef(!1),[H,oe]=L.useState(0);return L.useEffect(()=>{const $=b.current;if($)return $.addEventListener(rf,W),()=>$.removeEventListener(rf,W)},[W]),c.jsx(dD,{scope:i,orientation:a,dir:I,loop:o,currentTabStopId:C,onItemFocus:L.useCallback($=>B($),[B]),onItemShiftTab:L.useCallback(()=>X(!0),[]),onFocusableItemAdd:L.useCallback(()=>oe($=>$+1),[]),onFocusableItemRemove:L.useCallback(()=>oe($=>$-1),[]),children:c.jsx(zi.div,{tabIndex:P||H===0?-1:0,"data-orientation":a,...x,ref:E,style:{outline:"none",...n.style},onMouseDown:ls(n.onMouseDown,()=>{ie.current=!0}),onFocus:ls(n.onFocus,$=>{const me=!ie.current;if($.target===$.currentTarget&&me&&!P){const z=new CustomEvent(rf,oD);if($.currentTarget.dispatchEvent(z),!z.defaultPrevented){const D=se().filter(k=>k.focusable),U=D.find(k=>k.active),j=D.find(k=>k.id===C),Q=[U,j,...D].filter(Boolean).map(k=>k.ref.current);G1(Q,v)}}ie.current=!1}),onBlur:ls(n.onBlur,()=>X(!1))})})}),V1="RovingFocusGroupItem",F1=L.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:i,focusable:a=!0,active:o=!1,tabStopId:u,children:h,...m}=n,g=U1(),p=u||g,v=hD(V1,i),x=v.currentTabStopId===p,b=B1(i),{onFocusableItemAdd:E,onFocusableItemRemove:I,currentTabStopId:C}=v;return L.useEffect(()=>{if(a)return E(),()=>I()},[a,E,I]),c.jsx(Lf.ItemSlot,{scope:i,id:p,focusable:a,active:o,children:c.jsx(zi.span,{tabIndex:x?0:-1,"data-orientation":v.orientation,...m,ref:e,onMouseDown:ls(n.onMouseDown,B=>{a?v.onItemFocus(p):B.preventDefault()}),onFocus:ls(n.onFocus,()=>v.onItemFocus(p)),onKeyDown:ls(n.onKeyDown,B=>{if(B.key==="Tab"&&B.shiftKey){v.onItemShiftTab();return}if(B.target!==B.currentTarget)return;const P=gD(B,v.orientation,v.dir);if(P!==void 0){if(B.metaKey||B.ctrlKey||B.altKey||B.shiftKey)return;B.preventDefault();let W=b().filter(se=>se.focusable).map(se=>se.ref.current);if(P==="last")W.reverse();else if(P==="prev"||P==="next"){P==="prev"&&W.reverse();const se=W.indexOf(B.currentTarget);W=v.loop?yD(W,se+1):W.slice(se+1)}setTimeout(()=>G1(W))}}),children:typeof h=="function"?h({isCurrentTabStop:x,hasTabStop:C!=null}):h})})});F1.displayName=V1;var mD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pD(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function gD(n,e,i){const a=pD(n.key,i);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return mD[a]}function G1(n,e=!1){const i=document.activeElement;for(const a of n)if(a===i||(a.focus({preventScroll:e}),document.activeElement!==i))return}function yD(n,e){return n.map((i,a)=>n[(e+a)%n.length])}var vD=q1,_D=F1;function xD(n,e){return L.useReducer((i,a)=>e[i][a]??i,n)}var Y1=n=>{const{present:e,children:i}=n,a=bD(e),o=typeof i=="function"?i({present:a.isPresent}):L.Children.only(i),u=ml(a.ref,SD(o));return typeof i=="function"||a.isPresent?L.cloneElement(o,{ref:u}):null};Y1.displayName="Presence";function bD(n){const[e,i]=L.useState(),a=L.useRef(null),o=L.useRef(n),u=L.useRef("none"),h=n?"mounted":"unmounted",[m,g]=xD(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const p=hc(a.current);u.current=m==="mounted"?p:"none"},[m]),Xc(()=>{const p=a.current,v=o.current;if(v!==n){const b=u.current,E=hc(p);n?g("MOUNT"):E==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(v&&b!==E?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,g]),Xc(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,x=E=>{const C=hc(a.current).includes(E.animationName);if(E.target===e&&C&&(g("ANIMATION_END"),!o.current)){const B=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=B)})}},b=E=>{E.target===e&&(u.current=hc(a.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:L.useCallback(p=>{a.current=p?getComputedStyle(p):null,i(p)},[])}}function hc(n){return(n==null?void 0:n.animationName)||"none"}function SD(n){var a,o;let e=(a=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:a.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}var yu="Tabs",[wD,UD]=Ym(yu,[H1]),K1=H1(),[ND,Km]=wD(yu),$1=L.forwardRef((n,e)=>{const{__scopeTabs:i,value:a,onValueChange:o,defaultValue:u,orientation:h="horizontal",dir:m,activationMode:g="automatic",...p}=n,v=z1(m),[x,b]=P1({prop:a,onChange:o,defaultProp:u??"",caller:yu});return c.jsx(ND,{scope:i,baseId:U1(),value:x,onValueChange:b,orientation:h,dir:v,activationMode:g,children:c.jsx(zi.div,{dir:v,"data-orientation":h,...p,ref:e})})});$1.displayName=yu;var Q1="TabsList",X1=L.forwardRef((n,e)=>{const{__scopeTabs:i,loop:a=!0,...o}=n,u=Km(Q1,i),h=K1(i);return c.jsx(vD,{asChild:!0,...h,orientation:u.orientation,dir:u.dir,loop:a,children:c.jsx(zi.div,{role:"tablist","aria-orientation":u.orientation,...o,ref:e})})});X1.displayName=Q1;var W1="TabsTrigger",Z1=L.forwardRef((n,e)=>{const{__scopeTabs:i,value:a,disabled:o=!1,...u}=n,h=Km(W1,i),m=K1(i),g=tS(h.baseId,a),p=nS(h.baseId,a),v=a===h.value;return c.jsx(_D,{asChild:!0,...m,focusable:!o,active:v,children:c.jsx(zi.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:g,...u,ref:e,onMouseDown:ls(n.onMouseDown,x=>{!o&&x.button===0&&x.ctrlKey===!1?h.onValueChange(a):x.preventDefault()}),onKeyDown:ls(n.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&h.onValueChange(a)}),onFocus:ls(n.onFocus,()=>{const x=h.activationMode!=="manual";!v&&!o&&x&&h.onValueChange(a)})})})});Z1.displayName=W1;var J1="TabsContent",eS=L.forwardRef((n,e)=>{const{__scopeTabs:i,value:a,forceMount:o,children:u,...h}=n,m=Km(J1,i),g=tS(m.baseId,a),p=nS(m.baseId,a),v=a===m.value,x=L.useRef(v);return L.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),c.jsx(Y1,{present:o||v,children:({present:b})=>c.jsx(zi.div,{"data-state":v?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":g,hidden:!b,id:p,tabIndex:0,...h,ref:e,style:{...n.style,animationDuration:x.current?"0s":void 0},children:b&&u})})});eS.displayName=J1;function tS(n,e){return`${n}-trigger-${e}`}function nS(n,e){return`${n}-content-${e}`}var ED=$1,TD=X1,CD=Z1,jD=eS;function Ui({className:n,...e}){return c.jsx(ED,{"data-slot":"tabs",className:sn("flex flex-col gap-2",n),...e})}function Pi({className:n,...e}){return c.jsx(TD,{"data-slot":"tabs-list",className:sn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function nt({className:n,...e}){return c.jsx(CD,{"data-slot":"tabs-trigger",className:sn("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function st({className:n,...e}){return c.jsx(jD,{"data-slot":"tabs-content",className:sn("flex-1 outline-none",n),...e})}const AD=({user:n})=>{const[e,i]=L.useState([]),[a,o]=L.useState([]),[u,h]=L.useState([]),[m,g]=L.useState(""),[p,v]=L.useState(""),[x,b]=L.useState(!1),[E,I]=L.useState(null),[C,B]=L.useState(!0),[P,X]=L.useState({name:"",sku:"",barcode:"",category:"",price:"",cost:"",stock:"",minStock:"",description:"",supplier:"",brand:"",weight:"",dimensions:""});L.useEffect(()=>{W()},[]),L.useEffect(()=>{se()},[m,p,e]);const W=async()=>{try{B(!0);const D=await En.getProducts();if(D.success&&D.data){const U=Object.values(D.data);i(U);const j=[...new Set(U.map(V=>V.category).filter(Boolean))];h(j)}}catch(D){console.error("Error loading products:",D)}finally{B(!1)}},se=()=>{let D=e;m&&(D=D.filter(U=>{var j;return U.name.toLowerCase().includes(m.toLowerCase())||U.sku.toLowerCase().includes(m.toLowerCase())||((j=U.barcode)==null?void 0:j.includes(m))})),p&&(D=D.filter(U=>U.category===p)),o(D)},ie=async D=>{D.preventDefault();try{const U={...P,price:parseFloat(P.price)||0,cost:parseFloat(P.cost)||0,stock:parseInt(P.stock)||0,minStock:parseInt(P.minStock)||0,weight:parseFloat(P.weight)||0};let j;E?j=await En.updateProduct(E.id,U):j=await En.addProduct(U),j.success?(alert(E?"Product updated successfully!":"Product added successfully!"),$(),W()):alert("Error: "+j.error)}catch(U){console.error("Error saving product:",U),alert("Error saving product: "+U.message)}},H=D=>{var U,j,V,Q,k;I(D),X({name:D.name||"",sku:D.sku||"",barcode:D.barcode||"",category:D.category||"",price:((U=D.price)==null?void 0:U.toString())||"",cost:((j=D.cost)==null?void 0:j.toString())||"",stock:((V=D.stock)==null?void 0:V.toString())||"",minStock:((Q=D.minStock)==null?void 0:Q.toString())||"",description:D.description||"",supplier:D.supplier||"",brand:D.brand||"",weight:((k=D.weight)==null?void 0:k.toString())||"",dimensions:D.dimensions||""}),b(!0)},oe=async D=>{if(window.confirm(`Are you sure you want to delete ${D.name}?`))try{const U=await En.deleteProduct(D.id);U.success?(alert("Product deleted successfully!"),W()):alert("Error deleting product: "+U.error)}catch(U){console.error("Error deleting product:",U),alert("Error deleting product: "+U.message)}},$=()=>{X({name:"",sku:"",barcode:"",category:"",price:"",cost:"",stock:"",minStock:"",description:"",supplier:"",brand:"",weight:"",dimensions:""}),I(null),b(!1)},me=()=>{const D=Date.now().toString().slice(-6),U=Math.random().toString(36).substring(2,5).toUpperCase();X({...P,sku:`PRD${D}${U}`})},z=()=>{const D=[["Name","SKU","Category","Price","Stock","Min Stock"].join(","),...a.map(Q=>[Q.name,Q.sku,Q.category,Q.price,Q.stock,Q.minStock].join(","))].join(`
`),U=new Blob([D],{type:"text/csv"}),j=window.URL.createObjectURL(U),V=document.createElement("a");V.href=j,V.download="products.csv",V.click(),window.URL.revokeObjectURL(j)};return C?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Management"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your inventory and product catalog"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(fe,{variant:"outline",onClick:z,children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(fe,{onClick:()=>b(!0),children:[c.jsx(pl,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})]}),c.jsxs(Ui,{defaultValue:"products",className:"space-y-4",children:[c.jsxs(Pi,{children:[c.jsx(nt,{value:"products",children:"Products"}),c.jsx(nt,{value:"categories",children:"Categories"}),c.jsx(nt,{value:"analytics",children:"Analytics"})]}),c.jsxs(st,{value:"products",className:"space-y-4",children:[c.jsx(te,{children:c.jsx(ne,{className:"pt-6",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx(Ne,{placeholder:"Search products by name, SKU, or barcode...",value:m,onChange:D=>g(D.target.value),className:"pl-10"})]})}),c.jsxs("select",{className:"px-3 py-2 border rounded-md",value:p,onChange:D=>v(D.target.value),children:[c.jsx("option",{value:"",children:"All Categories"}),u.map(D=>c.jsx("option",{value:D,children:D},D))]}),c.jsxs(fe,{variant:"outline",children:[c.jsx(Bf,{className:"w-4 h-4 mr-2"}),"More Filters"]})]})})}),c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{children:["Products (",a.length,")"]}),c.jsx(We,{children:"Manage your product inventory and details"})]}),c.jsx(ne,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Product"}),c.jsx("th",{className:"text-left p-2",children:"SKU"}),c.jsx("th",{className:"text-left p-2",children:"Category"}),c.jsx("th",{className:"text-left p-2",children:"Price"}),c.jsx("th",{className:"text-left p-2",children:"Stock"}),c.jsx("th",{className:"text-left p-2",children:"Status"}),c.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),c.jsx("tbody",{children:a.map(D=>{var U;return c.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:c.jsx(os,{className:"w-5 h-5 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:D.name}),c.jsx("p",{className:"text-sm text-gray-600",children:D.brand})]})]})}),c.jsx("td",{className:"p-2 font-mono text-sm",children:D.sku}),c.jsx("td",{className:"p-2",children:c.jsx(tn,{variant:"secondary",children:D.category})}),c.jsxs("td",{className:"p-2 font-medium",children:[(U=D.price)==null?void 0:U.toLocaleString()," DA"]}),c.jsx("td",{className:"p-2",children:c.jsx(tn,{variant:D.stock<=(D.minStock||0)?"destructive":D.stock<=(D.minStock||0)*2?"default":"secondary",children:D.stock})}),c.jsx("td",{className:"p-2",children:c.jsx(tn,{variant:D.stock>0?"default":"destructive",children:D.stock>0?"In Stock":"Out of Stock"})}),c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>H(D),children:c.jsx(qf,{className:"w-3 h-3"})}),c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>oe(D),children:c.jsx(Rl,{className:"w-3 h-3"})})]})})]},D.id)})})]})})})]})]}),c.jsx(st,{value:"categories",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsx(le,{children:"Product Categories"}),c.jsx(We,{children:"Manage product categories and organization"})]}),c.jsx(ne,{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:u.map(D=>{const U=e.filter(j=>j.category===D);return c.jsx(te,{children:c.jsx(ne,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(kT,{className:"w-6 h-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:D}),c.jsxs("p",{className:"text-sm text-gray-600",children:[U.length," products"]})]})]})})},D)})})})]})}),c.jsx(st,{value:"analytics",className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(os,{className:"w-5 h-5"}),"Total Products"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold",children:e.length}),c.jsx("p",{className:"text-sm text-gray-600",children:"Active products"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(jl,{className:"w-5 h-5"}),"Total Value"]})}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-3xl font-bold",children:[e.reduce((D,U)=>D+U.price*U.stock,0).toLocaleString()," DA"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Inventory value"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(IE,{className:"w-5 h-5"}),"Low Stock"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-red-600",children:e.filter(D=>D.stock<=(D.minStock||0)).length}),c.jsx("p",{className:"text-sm text-gray-600",children:"Items need restocking"})]})]})]})})]}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(te,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(re,{children:[c.jsx(le,{children:E?"Edit Product":"Add New Product"}),c.jsx(We,{children:E?"Update product information":"Enter product details to add to inventory"})]}),c.jsx(ne,{children:c.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"name",children:"Product Name *"}),c.jsx(Ne,{id:"name",value:P.name,onChange:D=>X({...P,name:D.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"sku",children:"SKU *"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{id:"sku",value:P.sku,onChange:D=>X({...P,sku:D.target.value}),required:!0}),c.jsx(fe,{type:"button",variant:"outline",onClick:me,children:"Generate"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"barcode",children:"Barcode"}),c.jsx(Ne,{id:"barcode",value:P.barcode,onChange:D=>X({...P,barcode:D.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"category",children:"Category *"}),c.jsx(Ne,{id:"category",value:P.category,onChange:D=>X({...P,category:D.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"price",children:"Selling Price (DA) *"}),c.jsx(Ne,{id:"price",type:"number",step:"0.01",value:P.price,onChange:D=>X({...P,price:D.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"cost",children:"Cost Price (DA)"}),c.jsx(Ne,{id:"cost",type:"number",step:"0.01",value:P.cost,onChange:D=>X({...P,cost:D.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"stock",children:"Current Stock *"}),c.jsx(Ne,{id:"stock",type:"number",value:P.stock,onChange:D=>X({...P,stock:D.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"minStock",children:"Minimum Stock"}),c.jsx(Ne,{id:"minStock",type:"number",value:P.minStock,onChange:D=>X({...P,minStock:D.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"brand",children:"Brand"}),c.jsx(Ne,{id:"brand",value:P.brand,onChange:D=>X({...P,brand:D.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"supplier",children:"Supplier"}),c.jsx(Ne,{id:"supplier",value:P.supplier,onChange:D=>X({...P,supplier:D.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",className:"w-full p-2 border rounded-md",rows:"3",value:P.description,onChange:D=>X({...P,description:D.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(fe,{type:"button",variant:"outline",onClick:$,children:"Cancel"}),c.jsx(fe,{type:"submit",children:E?"Update Product":"Add Product"})]})]})})]})})]})},RD=({user:n})=>{const[e,i]=L.useState([]),[a,o]=L.useState([]),[u,h]=L.useState(""),[m,g]=L.useState(!1),[p,v]=L.useState(null),[x,b]=L.useState(null),[E,I]=L.useState([]),[C,B]=L.useState(!0),[P,X]=L.useState({name:"",email:"",phone:"",address:"",city:"",postalCode:"",dateOfBirth:"",notes:"",loyaltyPoints:0,creditLimit:0});L.useEffect(()=>{W()},[]),L.useEffect(()=>{ie()},[u,e]);const W=async()=>{try{B(!0);const j=await ji.getCustomers();if(j.success&&j.data){const V=Object.values(j.data);i(V)}}catch(j){console.error("Error loading customers:",j)}finally{B(!1)}},se=async j=>{try{const V=await gu.getTransactions();if(V.success&&V.data){const Q=Object.values(V.data).filter(k=>k.customerId===j).sort((k,Z)=>new Date(Z.createdAt)-new Date(k.createdAt));I(Q)}}catch(V){console.error("Error loading customer transactions:",V)}},ie=()=>{if(!u){o(e);return}const j=e.filter(V=>V.name.toLowerCase().includes(u.toLowerCase())||V.email.toLowerCase().includes(u.toLowerCase())||V.phone.includes(u));o(j)},H=async j=>{j.preventDefault();try{const V={...P,loyaltyPoints:parseInt(P.loyaltyPoints)||0,creditLimit:parseFloat(P.creditLimit)||0};let Q;p?Q=await ji.updateCustomer(p.id,V):Q=await ji.addCustomer(V),Q.success?(alert(p?"Customer updated successfully!":"Customer added successfully!"),z(),W()):alert("Error: "+Q.error)}catch(V){console.error("Error saving customer:",V),alert("Error saving customer: "+V.message)}},oe=j=>{var V,Q;v(j),X({name:j.name||"",email:j.email||"",phone:j.phone||"",address:j.address||"",city:j.city||"",postalCode:j.postalCode||"",dateOfBirth:j.dateOfBirth||"",notes:j.notes||"",loyaltyPoints:((V=j.loyaltyPoints)==null?void 0:V.toString())||"0",creditLimit:((Q=j.creditLimit)==null?void 0:Q.toString())||"0"}),g(!0)},$=async j=>{if(window.confirm(`Are you sure you want to delete ${j.name}?`))try{const V=await ji.deleteCustomer(j.id);V.success?(alert("Customer deleted successfully!"),W()):alert("Error deleting customer: "+V.error)}catch(V){console.error("Error deleting customer:",V),alert("Error deleting customer: "+V.message)}},me=j=>{b(j),se(j.id)},z=()=>{X({name:"",email:"",phone:"",address:"",city:"",postalCode:"",dateOfBirth:"",notes:"",loyaltyPoints:0,creditLimit:0}),v(null),g(!1)},D=()=>{const j=[["Name","Email","Phone","City","Loyalty Points","Total Purchases"].join(","),...a.map(Z=>[Z.name,Z.email,Z.phone,Z.city,Z.loyaltyPoints||0,Z.totalPurchases||0].join(","))].join(`
`),V=new Blob([j],{type:"text/csv"}),Q=window.URL.createObjectURL(V),k=document.createElement("a");k.href=Q,k.download="customers.csv",k.click(),window.URL.revokeObjectURL(Q)},U=j=>{const V=E.filter(Q=>Q.customerId===j.id);return{totalPurchases:V.reduce((Q,k)=>Q+(k.total||0),0),totalOrders:V.length,lastPurchase:V.length>0?V[0].createdAt:null}};return C?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Management"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage customer relationships and data"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(fe,{variant:"outline",onClick:D,children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(fe,{onClick:()=>g(!0),children:[c.jsx(a_,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})]}),c.jsxs(Ui,{defaultValue:"customers",className:"space-y-4",children:[c.jsxs(Pi,{children:[c.jsx(nt,{value:"customers",children:"All Customers"}),c.jsx(nt,{value:"analytics",children:"Analytics"}),c.jsx(nt,{value:"loyalty",children:"Loyalty Program"})]}),c.jsxs(st,{value:"customers",className:"space-y-4",children:[c.jsx(te,{children:c.jsx(ne,{className:"pt-6",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx(Ne,{placeholder:"Search customers by name, email, or phone...",value:u,onChange:j=>h(j.target.value),className:"pl-10"})]})}),c.jsxs(fe,{variant:"outline",children:[c.jsx(Bf,{className:"w-4 h-4 mr-2"}),"Filters"]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(j=>{const V=U(j);return c.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[c.jsx(re,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Ha,{className:"w-6 h-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx(le,{className:"text-lg",children:j.name}),c.jsx(We,{children:j.email})]})]}),c.jsxs(tn,{variant:"secondary",children:[j.loyaltyPoints||0," pts"]})]})}),c.jsxs(ne,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(uf,{className:"w-4 h-4"}),c.jsx("span",{children:j.phone})]}),j.city&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(xc,{className:"w-4 h-4"}),c.jsx("span",{children:j.city})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Purchases"}),c.jsxs("p",{className:"font-bold text-green-600",children:[V.totalPurchases.toLocaleString()," DA"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Orders"}),c.jsx("p",{className:"font-bold",children:V.totalOrders})]})]}),V.lastPurchase&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(Xx,{className:"w-4 h-4"}),c.jsxs("span",{children:["Last: ",new Date(V.lastPurchase).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex gap-2 pt-3",children:[c.jsxs(fe,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>me(j),children:[c.jsx(XE,{className:"w-3 h-3 mr-1"}),"View"]}),c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>oe(j),children:c.jsx(qf,{className:"w-3 h-3"})}),c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>$(j),children:c.jsx(Rl,{className:"w-3 h-3"})})]})]})]},j.id)})})]}),c.jsx(st,{value:"analytics",className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(Ha,{className:"w-5 h-5"}),"Total Customers"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold",children:e.length}),c.jsx("p",{className:"text-sm text-gray-600",children:"Registered customers"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(jl,{className:"w-5 h-5"}),"Total Revenue"]})}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-3xl font-bold",children:[e.reduce((j,V)=>j+(V.totalPurchases||0),0).toLocaleString()," DA"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"From all customers"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(wT,{className:"w-5 h-5"}),"Average Order"]})}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-3xl font-bold",children:[e.length>0?Math.round(e.reduce((j,V)=>j+(V.totalPurchases||0),0)/e.length).toLocaleString():0," DA"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Per customer"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(a_,{className:"w-5 h-5"}),"New This Month"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold",children:e.filter(j=>{const V=new Date(j.createdAt),Q=new Date;return V.getMonth()===Q.getMonth()&&V.getFullYear()===Q.getFullYear()}).length}),c.jsx("p",{className:"text-sm text-gray-600",children:"New customers"})]})]})]})}),c.jsx(st,{value:"loyalty",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsx(le,{children:"Loyalty Program"}),c.jsx(We,{children:"Manage customer loyalty points and rewards"})]}),c.jsx(ne,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Top Loyalty Members"}),c.jsx("div",{className:"space-y-3",children:e.sort((j,V)=>(V.loyaltyPoints||0)-(j.loyaltyPoints||0)).slice(0,10).map((j,V)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(tn,{variant:"outline",children:["#",V+1]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:j.name}),c.jsx("p",{className:"text-sm text-gray-600",children:j.email})]})]}),c.jsxs(tn,{variant:"default",children:[j.loyaltyPoints||0," points"]})]},j.id))})]})})]})})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(te,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(re,{children:[c.jsx(le,{children:p?"Edit Customer":"Add New Customer"}),c.jsx(We,{children:p?"Update customer information":"Enter customer details"})]}),c.jsx(ne,{children:c.jsxs("form",{onSubmit:H,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"name",children:"Full Name *"}),c.jsx(Ne,{id:"name",value:P.name,onChange:j=>X({...P,name:j.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"email",children:"Email"}),c.jsx(Ne,{id:"email",type:"email",value:P.email,onChange:j=>X({...P,email:j.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"phone",children:"Phone *"}),c.jsx(Ne,{id:"phone",value:P.phone,onChange:j=>X({...P,phone:j.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"dateOfBirth",children:"Date of Birth"}),c.jsx(Ne,{id:"dateOfBirth",type:"date",value:P.dateOfBirth,onChange:j=>X({...P,dateOfBirth:j.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"city",children:"City"}),c.jsx(Ne,{id:"city",value:P.city,onChange:j=>X({...P,city:j.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"postalCode",children:"Postal Code"}),c.jsx(Ne,{id:"postalCode",value:P.postalCode,onChange:j=>X({...P,postalCode:j.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"loyaltyPoints",children:"Loyalty Points"}),c.jsx(Ne,{id:"loyaltyPoints",type:"number",value:P.loyaltyPoints,onChange:j=>X({...P,loyaltyPoints:j.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"creditLimit",children:"Credit Limit (DA)"}),c.jsx(Ne,{id:"creditLimit",type:"number",step:"0.01",value:P.creditLimit,onChange:j=>X({...P,creditLimit:j.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"address",children:"Address"}),c.jsx("textarea",{id:"address",className:"w-full p-2 border rounded-md",rows:"2",value:P.address,onChange:j=>X({...P,address:j.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",{id:"notes",className:"w-full p-2 border rounded-md",rows:"3",value:P.notes,onChange:j=>X({...P,notes:j.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(fe,{type:"button",variant:"outline",onClick:z,children:"Cancel"}),c.jsx(fe,{type:"submit",children:p?"Update Customer":"Add Customer"})]})]})})]})}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(te,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(re,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(le,{children:x.name}),c.jsx(We,{children:x.email})]}),c.jsx(fe,{variant:"outline",onClick:()=>b(null),children:"Close"})]})}),c.jsx(ne,{children:c.jsxs(Ui,{defaultValue:"info",className:"space-y-4",children:[c.jsxs(Pi,{children:[c.jsx(nt,{value:"info",children:"Information"}),c.jsx(nt,{value:"transactions",children:"Purchase History"})]}),c.jsx(st,{value:"info",className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Contact Information"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(uf,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{children:x.phone})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wx,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{children:x.email})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(xc,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{children:x.address||"No address provided"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Account Details"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Loyalty Points:"}),c.jsx(tn,{children:x.loyaltyPoints||0})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Credit Limit:"}),c.jsxs("span",{children:[(x.creditLimit||0).toLocaleString()," DA"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Member Since:"}),c.jsx("span",{children:new Date(x.createdAt).toLocaleDateString()})]})]})]})]})}),c.jsxs(st,{value:"transactions",className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Purchase History"}),E.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No purchase history"}):c.jsx("div",{className:"space-y-3",children:E.map(j=>{var V,Q;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Order #",j.id.slice(-8)]}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(j.createdAt).toLocaleDateString()}),c.jsxs("p",{className:"text-sm text-gray-600",children:[((V=j.items)==null?void 0:V.length)||0," items"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-bold text-green-600",children:[(Q=j.total)==null?void 0:Q.toLocaleString()," DA"]}),c.jsx(tn,{variant:"secondary",children:j.paymentMethod})]})]},j.id)})})]})]})})]})})]})},kD=({user:n})=>{var E,I,C,B,P,X,W,se,ie,H,oe,$;const[e,i]=L.useState({startDate:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[a,o]=L.useState(null),[u,h]=L.useState(null),[m,g]=L.useState(null),[p,v]=L.useState(!0);L.useEffect(()=>{x()},[e]);const x=async()=>{try{v(!0);const me=await L1.getSalesSummary(e.startDate,e.endDate);me.success&&o(me.data);const z=await En.getProducts();if(z.success&&z.data){const U=Object.values(z.data);h({totalProducts:U.length,lowStockProducts:U.filter(j=>j.stock<=(j.minStock||0)).length,outOfStockProducts:U.filter(j=>j.stock===0).length,totalValue:U.reduce((j,V)=>j+V.price*V.stock,0),categories:[...new Set(U.map(j=>j.category).filter(Boolean))].length})}const D=await ji.getCustomers();if(D.success&&D.data){const U=Object.values(D.data),j=new Date,V=U.filter(Q=>{const k=new Date(Q.createdAt);return k.getMonth()===j.getMonth()&&k.getFullYear()===j.getFullYear()});g({totalCustomers:U.length,newCustomers:V.length,activeCustomers:U.filter(Q=>Q.totalPurchases>0).length,totalLoyaltyPoints:U.reduce((Q,k)=>Q+(k.loyaltyPoints||0),0)})}}catch(me){console.error("Error loading report data:",me)}finally{v(!1)}},b=me=>{let z="",D="";switch(me){case"sales":z=[["Metric","Value"].join(","),["Total Sales",(a==null?void 0:a.totalSales)||0],["Total Transactions",(a==null?void 0:a.totalTransactions)||0],["Average Transaction",(a==null?void 0:a.averageTransaction)||0],["Date Range",`${e.startDate} to ${e.endDate}`]].join(`
`),D="sales-report.csv";break;case"products":z=[["Metric","Value"].join(","),["Total Products",(u==null?void 0:u.totalProducts)||0],["Low Stock Products",(u==null?void 0:u.lowStockProducts)||0],["Out of Stock Products",(u==null?void 0:u.outOfStockProducts)||0],["Total Inventory Value",(u==null?void 0:u.totalValue)||0],["Categories",(u==null?void 0:u.categories)||0]].join(`
`),D="products-report.csv";break;case"customers":z=[["Metric","Value"].join(","),["Total Customers",(m==null?void 0:m.totalCustomers)||0],["New Customers This Month",(m==null?void 0:m.newCustomers)||0],["Active Customers",(m==null?void 0:m.activeCustomers)||0],["Total Loyalty Points",(m==null?void 0:m.totalLoyaltyPoints)||0]].join(`
`),D="customers-report.csv";break}const U=new Blob([z],{type:"text/csv"}),j=window.URL.createObjectURL(U),V=document.createElement("a");V.href=j,V.download=D,V.click(),window.URL.revokeObjectURL(j)};return p?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Business insights and performance metrics"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(fe,{variant:"outline",onClick:x,children:[c.jsx(Hf,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]}),c.jsx(te,{children:c.jsx(ne,{className:"pt-6",children:c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"startDate",children:"Start Date"}),c.jsx(Ne,{id:"startDate",type:"date",value:e.startDate,onChange:me=>i({...e,startDate:me.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"endDate",children:"End Date"}),c.jsx(Ne,{id:"endDate",type:"date",value:e.endDate,onChange:me=>i({...e,endDate:me.target.value})})]}),c.jsxs(fe,{onClick:x,children:[c.jsx(Bf,{className:"w-4 h-4 mr-2"}),"Apply Filter"]})]})})}),c.jsxs(Ui,{defaultValue:"overview",className:"space-y-4",children:[c.jsxs(Pi,{children:[c.jsx(nt,{value:"overview",children:"Overview"}),c.jsx(nt,{value:"sales",children:"Sales Report"}),c.jsx(nt,{value:"products",children:"Product Report"}),c.jsx(nt,{value:"customers",children:"Customer Report"}),c.jsx(nt,{value:"financial",children:"Financial Report"})]}),c.jsxs(st,{value:"overview",className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Total Sales"}),c.jsx(jl,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((E=a==null?void 0:a.totalSales)==null?void 0:E.toLocaleString())||0," DA"]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.totalTransactions)||0," transactions"]})]})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Products"}),c.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(u==null?void 0:u.totalProducts)||0}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[(u==null?void 0:u.lowStockProducts)||0," low stock"]})]})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Customers"}),c.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(m==null?void 0:m.totalCustomers)||0}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[(m==null?void 0:m.newCustomers)||0," new this month"]})]})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Inventory Value"}),c.jsx(Sc,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[((I=u==null?void 0:u.totalValue)==null?void 0:I.toLocaleString())||0," DA"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total stock value"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(zf,{className:"w-5 h-5"}),"Top Products"]})}),c.jsx(ne,{children:((C=a==null?void 0:a.topProducts)==null?void 0:C.length)>0?c.jsx("div",{className:"space-y-3",children:a.topProducts.slice(0,5).map((me,z)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:me.productName}),c.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",me.quantity]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"font-bold text-sm",children:[me.revenue.toLocaleString()," DA"]})})]},me.productId))}):c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No sales data available"})})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(qE,{className:"w-5 h-5"}),"Stock Status"]})}),c.jsx(ne,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"In Stock"}),c.jsx("span",{className:"font-bold text-green-600",children:((u==null?void 0:u.totalProducts)||0)-((u==null?void 0:u.outOfStockProducts)||0)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Low Stock"}),c.jsx("span",{className:"font-bold text-yellow-600",children:(u==null?void 0:u.lowStockProducts)||0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Out of Stock"}),c.jsx("span",{className:"font-bold text-red-600",children:(u==null?void 0:u.outOfStockProducts)||0})]})]})})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(zE,{className:"w-5 h-5"}),"Performance"]})}),c.jsx(ne,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Avg. Transaction"}),c.jsxs("span",{className:"font-bold",children:[((B=a==null?void 0:a.averageTransaction)==null?void 0:B.toLocaleString())||0," DA"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Active Customers"}),c.jsx("span",{className:"font-bold",children:(m==null?void 0:m.activeCustomers)||0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Categories"}),c.jsx("span",{className:"font-bold",children:(u==null?void 0:u.categories)||0})]})]})})]})]})]}),c.jsxs(st,{value:"sales",className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Sales Report"}),c.jsxs(fe,{onClick:()=>b("sales"),children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export Sales Report"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Total Revenue"})}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[((P=a==null?void 0:a.totalSales)==null?void 0:P.toLocaleString())||0," DA"]}),c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Period: ",e.startDate," to ",e.endDate]})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Total Transactions"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:(a==null?void 0:a.totalTransactions)||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Number of sales"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Average Transaction"})}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[((X=a==null?void 0:a.averageTransaction)==null?void 0:X.toLocaleString())||0," DA"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Per transaction"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Daily Average"})}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[a!=null&&a.totalSales&&(a!=null&&a.totalTransactions)?Math.round(a.totalSales/Math.max(1,Math.ceil((new Date(e.endDate)-new Date(e.startDate))/(1e3*60*60*24)))).toLocaleString():0," DA"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Revenue per day"})]})]})]}),c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsx(le,{children:"Top Selling Products"}),c.jsx(We,{children:"Best performing products in selected period"})]}),c.jsx(ne,{children:((W=a==null?void 0:a.topProducts)==null?void 0:W.length)>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Rank"}),c.jsx("th",{className:"text-left p-2",children:"Product"}),c.jsx("th",{className:"text-left p-2",children:"Quantity Sold"}),c.jsx("th",{className:"text-left p-2",children:"Revenue"})]})}),c.jsx("tbody",{children:a.topProducts.map((me,z)=>c.jsxs("tr",{className:"border-b",children:[c.jsxs("td",{className:"p-2",children:["#",z+1]}),c.jsx("td",{className:"p-2 font-medium",children:me.productName}),c.jsx("td",{className:"p-2",children:me.quantity}),c.jsxs("td",{className:"p-2 font-bold text-green-600",children:[me.revenue.toLocaleString()," DA"]})]},me.productId))})]})}):c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No sales data available for this period"})})]})]}),c.jsxs(st,{value:"products",className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Product Report"}),c.jsxs(fe,{onClick:()=>b("products"),children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export Product Report"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Total Products"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:(u==null?void 0:u.totalProducts)||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Active products"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Inventory Value"})}),c.jsxs(ne,{children:[c.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[((se=u==null?void 0:u.totalValue)==null?void 0:se.toLocaleString())||0," DA"]}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Total stock value"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Low Stock Items"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:(u==null?void 0:u.lowStockProducts)||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Need restocking"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Out of Stock"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-red-600",children:(u==null?void 0:u.outOfStockProducts)||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Unavailable items"})]})]})]})]}),c.jsxs(st,{value:"customers",className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Customer Report"}),c.jsxs(fe,{onClick:()=>b("customers"),children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export Customer Report"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Total Customers"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:(m==null?void 0:m.totalCustomers)||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Registered customers"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"New This Month"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:(m==null?void 0:m.newCustomers)||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"New registrations"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Active Customers"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-purple-600",children:(m==null?void 0:m.activeCustomers)||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"With purchases"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsx(le,{children:"Loyalty Points"})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-orange-600",children:((ie=m==null?void 0:m.totalLoyaltyPoints)==null?void 0:ie.toLocaleString())||0}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Total points issued"})]})]})]})]}),c.jsxs(st,{value:"financial",className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Financial Report"}),c.jsxs(fe,{onClick:()=>b("financial"),children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export Financial Report"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsx(le,{children:"Revenue Summary"}),c.jsx(We,{children:"Financial performance overview"})]}),c.jsx(ne,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Gross Revenue:"}),c.jsxs("span",{className:"font-bold text-green-600",children:[((H=a==null?void 0:a.totalSales)==null?void 0:H.toLocaleString())||0," DA"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Total Transactions:"}),c.jsx("span",{className:"font-bold",children:(a==null?void 0:a.totalTransactions)||0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Average Transaction:"}),c.jsxs("span",{className:"font-bold",children:[((oe=a==null?void 0:a.averageTransaction)==null?void 0:oe.toLocaleString())||0," DA"]})]})]})})]}),c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsx(le,{children:"Asset Summary"}),c.jsx(We,{children:"Current asset valuation"})]}),c.jsx(ne,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Inventory Value:"}),c.jsxs("span",{className:"font-bold text-blue-600",children:[(($=u==null?void 0:u.totalValue)==null?void 0:$.toLocaleString())||0," DA"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Total Products:"}),c.jsx("span",{className:"font-bold",children:(u==null?void 0:u.totalProducts)||0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Product Categories:"}),c.jsx("span",{className:"font-bold",children:(u==null?void 0:u.categories)||0})]})]})})]})]})]})]})]})},ID=({user:n})=>{var E,I;const[e,i]=L.useState({storeName:"My Store",storeAddress:"",storePhone:"",storeEmail:"",currency:"DA",taxRate:19,receiptFooter:"Thank you for your business!",lowStockThreshold:10}),[a,o]=L.useState({displayName:(n==null?void 0:n.email)||"",email:(n==null?void 0:n.email)||"",phone:"",language:"en",notifications:!0,emailNotifications:!0}),[u,h]=L.useState(!1);L.useEffect(()=>{m()},[]);const m=async()=>{try{h(!0);const C=await De.read("settings/store");C.success&&C.data&&i({...e,...C.data});const B=await De.read(`settings/users/${n.uid}`);B.success&&B.data&&o({...a,...B.data})}catch(C){console.error("Error loading settings:",C)}finally{h(!1)}},g=async()=>{try{h(!0);const C=await De.update("settings/store",e);C.success?alert("Store settings saved successfully!"):alert("Error saving settings: "+C.error)}catch(C){console.error("Error saving store settings:",C),alert("Error saving settings: "+C.message)}finally{h(!1)}},p=async()=>{try{h(!0);const C=await De.update(`settings/users/${n.uid}`,a);C.success?alert("User settings saved successfully!"):alert("Error saving settings: "+C.error)}catch(C){console.error("Error saving user settings:",C),alert("Error saving settings: "+C.message)}finally{h(!1)}},v=async()=>{try{h(!0);const[C,B,P]=await Promise.all([De.read("products"),De.read("customers"),De.read("transactions")]),X={products:C.data||{},customers:B.data||{},transactions:P.data||{},settings:{store:e,user:a},exportDate:new Date().toISOString()},W=new Blob([JSON.stringify(X,null,2)],{type:"application/json"}),se=window.URL.createObjectURL(W),ie=document.createElement("a");ie.href=se,ie.download=`store-backup-${new Date().toISOString().split("T")[0]}.json`,ie.click(),window.URL.revokeObjectURL(se),alert("Data exported successfully!")}catch(C){console.error("Error exporting data:",C),alert("Error exporting data: "+C.message)}finally{h(!1)}},x=async C=>{var P;const B=C.target.files[0];if(B){try{h(!0);const X=await B.text(),W=JSON.parse(X);window.confirm("This will overwrite existing data. Are you sure?")&&(W.products&&await De.update("products",W.products),W.customers&&await De.update("customers",W.customers),W.transactions&&await De.update("transactions",W.transactions),(P=W.settings)!=null&&P.store&&(await De.update("settings/store",W.settings.store),i({...e,...W.settings.store})),alert("Data imported successfully!"))}catch(X){console.error("Error importing data:",X),alert("Error importing data: "+X.message)}finally{h(!1)}C.target.value=""}},b=async()=>{if(window.confirm("This will delete ALL data permanently. Are you absolutely sure?")&&window.confirm('This action cannot be undone. Type "DELETE" to confirm:')&&window.prompt("Type DELETE to confirm:")==="DELETE")try{h(!0),await Promise.all([De.delete("products"),De.delete("customers"),De.delete("transactions")]),alert("All data cleared successfully!")}catch(C){console.error("Error clearing data:",C),alert("Error clearing data: "+C.message)}finally{h(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your store and account preferences"})]}),c.jsxs(fe,{onClick:m,variant:"outline",children:[c.jsx(Hf,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),c.jsxs(Ui,{defaultValue:"store",className:"space-y-4",children:[c.jsxs(Pi,{children:[c.jsx(nt,{value:"store",children:"Store Settings"}),c.jsx(nt,{value:"user",children:"User Profile"}),c.jsx(nt,{value:"notifications",children:"Notifications"}),c.jsx(nt,{value:"security",children:"Security"}),c.jsx(nt,{value:"data",children:"Data Management"})]}),c.jsx(st,{value:"store",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(AT,{className:"w-5 h-5"}),"Store Information"]}),c.jsx(We,{children:"Configure your store details and preferences"})]}),c.jsxs(ne,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"storeName",children:"Store Name"}),c.jsx(Ne,{id:"storeName",value:e.storeName,onChange:C=>i({...e,storeName:C.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"storePhone",children:"Store Phone"}),c.jsx(Ne,{id:"storePhone",value:e.storePhone,onChange:C=>i({...e,storePhone:C.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"storeEmail",children:"Store Email"}),c.jsx(Ne,{id:"storeEmail",type:"email",value:e.storeEmail,onChange:C=>i({...e,storeEmail:C.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"currency",children:"Currency"}),c.jsxs("select",{id:"currency",className:"w-full p-2 border rounded-md",value:e.currency,onChange:C=>i({...e,currency:C.target.value}),children:[c.jsx("option",{value:"DA",children:"Algerian Dinar (DA)"}),c.jsx("option",{value:"USD",children:"US Dollar ($)"}),c.jsx("option",{value:"EUR",children:"Euro (€)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"taxRate",children:"Tax Rate (%)"}),c.jsx(Ne,{id:"taxRate",type:"number",step:"0.01",value:e.taxRate,onChange:C=>i({...e,taxRate:parseFloat(C.target.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),c.jsx(Ne,{id:"lowStockThreshold",type:"number",value:e.lowStockThreshold,onChange:C=>i({...e,lowStockThreshold:parseInt(C.target.value)})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"storeAddress",children:"Store Address"}),c.jsx("textarea",{id:"storeAddress",className:"w-full p-2 border rounded-md",rows:"3",value:e.storeAddress,onChange:C=>i({...e,storeAddress:C.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"receiptFooter",children:"Receipt Footer Message"}),c.jsx("textarea",{id:"receiptFooter",className:"w-full p-2 border rounded-md",rows:"2",value:e.receiptFooter,onChange:C=>i({...e,receiptFooter:C.target.value})})]}),c.jsxs(fe,{onClick:g,disabled:u,children:[c.jsx(zh,{className:"w-4 h-4 mr-2"}),"Save Store Settings"]})]})]})}),c.jsx(st,{value:"user",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(Jx,{className:"w-5 h-5"}),"User Profile"]}),c.jsx(We,{children:"Manage your personal account information"})]}),c.jsxs(ne,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"displayName",children:"Display Name"}),c.jsx(Ne,{id:"displayName",value:a.displayName,onChange:C=>o({...a,displayName:C.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"email",children:"Email"}),c.jsx(Ne,{id:"email",type:"email",value:a.email,onChange:C=>o({...a,email:C.target.value}),disabled:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"phone",children:"Phone"}),c.jsx(Ne,{id:"phone",value:a.phone,onChange:C=>o({...a,phone:C.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"language",children:"Language"}),c.jsxs("select",{id:"language",className:"w-full p-2 border rounded-md",value:a.language,onChange:C=>o({...a,language:C.target.value}),children:[c.jsx("option",{value:"en",children:"English"}),c.jsx("option",{value:"ar",children:"العربية"}),c.jsx("option",{value:"fr",children:"Français"})]})]})]}),c.jsxs(fe,{onClick:p,disabled:u,children:[c.jsx(zh,{className:"w-4 h-4 mr-2"}),"Save Profile"]})]})]})}),c.jsx(st,{value:"notifications",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx($x,{className:"w-5 h-5"}),"Notification Preferences"]}),c.jsx(We,{children:"Configure how you receive notifications"})]}),c.jsxs(ne,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Push Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications in the app"})]}),c.jsx("input",{type:"checkbox",checked:a.notifications,onChange:C=>o({...a,notifications:C.target.checked}),className:"w-4 h-4"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),c.jsx("input",{type:"checkbox",checked:a.emailNotifications,onChange:C=>o({...a,emailNotifications:C.target.checked}),className:"w-4 h-4"})]})]}),c.jsxs(fe,{onClick:p,disabled:u,children:[c.jsx(zh,{className:"w-4 h-4 mr-2"}),"Save Notification Settings"]})]})]})}),c.jsx(st,{value:"security",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(bT,{className:"w-5 h-5"}),"Security Settings"]}),c.jsx(We,{children:"Manage your account security"})]}),c.jsx(ne,{className:"space-y-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Change Password"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"For security reasons, password changes are handled through Firebase Authentication."}),c.jsx(fe,{variant:"outline",children:"Reset Password via Email"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Account Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"User ID:"}),c.jsx("span",{className:"font-mono",children:n==null?void 0:n.uid})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Email:"}),c.jsx("span",{children:n==null?void 0:n.email})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Account Created:"}),c.jsx("span",{children:(E=n==null?void 0:n.metadata)==null?void 0:E.creationTime})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Last Sign In:"}),c.jsx("span",{children:(I=n==null?void 0:n.metadata)==null?void 0:I.lastSignInTime})]})]})]})]})})]})}),c.jsx(st,{value:"data",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(YE,{className:"w-5 h-5"}),"Data Management"]}),c.jsx(We,{children:"Backup, restore, and manage your store data"})]}),c.jsxs(ne,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Backup Data"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export all your store data including products, customers, and transactions."}),c.jsxs(fe,{onClick:v,disabled:u,children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export All Data"]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Restore Data"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Import data from a previous backup. This will overwrite existing data."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"file",accept:".json",onChange:x,className:"hidden",id:"import-file"}),c.jsxs(fe,{variant:"outline",onClick:()=>document.getElementById("import-file").click(),disabled:u,children:[c.jsx(zT,{className:"w-4 h-4 mr-2"}),"Import Data"]})]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsx("h4",{className:"font-medium mb-2 text-red-600",children:"Danger Zone"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Permanently delete all store data. This action cannot be undone."}),c.jsxs(fe,{variant:"destructive",onClick:b,disabled:u,children:[c.jsx(Rl,{className:"w-4 h-4 mr-2"}),"Clear All Data"]})]})]})]})})]})]})},OD=({user:n})=>{const[e,i]=L.useState([]),[a,o]=L.useState([]),[u,h]=L.useState(""),[m,g]=L.useState("all"),[p,v]=L.useState(!0),[x,b]=L.useState(!1),[E,I]=L.useState(null),[C,B]=L.useState({type:"add",quantity:"",reason:"",notes:""});L.useEffect(()=>{P()},[]),L.useEffect(()=>{X()},[u,m,e]);const P=async()=>{try{v(!0);const z=await En.getProducts();if(z.success&&z.data){const D=Object.values(z.data);i(D)}}catch(z){console.error("Error loading inventory:",z)}finally{v(!1)}},X=()=>{let z=e;switch(u&&(z=z.filter(D=>D.name.toLowerCase().includes(u.toLowerCase())||D.sku.toLowerCase().includes(u.toLowerCase()))),m){case"low-stock":z=z.filter(D=>D.stock<=(D.minStock||0));break;case"out-of-stock":z=z.filter(D=>D.stock===0);break;case"in-stock":z=z.filter(D=>D.stock>0);break}o(z)},W=async z=>{if(z.preventDefault(),!E||!C.quantity){alert("Please fill in all required fields");return}try{const D=parseInt(C.quantity),U=C.type==="add"?"add":"subtract",j=await WM.updateStock(E.id,D,U);if(j.success){const V={productId:E.id,productName:E.name,type:C.type,quantity:D,reason:C.reason,notes:C.notes,userId:n.uid,userEmail:n.email,timestamp:new Date().toISOString()};await dbService.create("inventory-adjustments",V),alert("Stock adjusted successfully!"),se(),P()}else alert("Error adjusting stock: "+j.error)}catch(D){console.error("Error adjusting stock:",D),alert("Error adjusting stock: "+D.message)}},se=()=>{B({type:"add",quantity:"",reason:"",notes:""}),I(null),b(!1)},ie=z=>{I(z),b(!0)},H=z=>z.stock===0?{status:"Out of Stock",color:"destructive"}:z.stock<=(z.minStock||0)?{status:"Low Stock",color:"default"}:{status:"In Stock",color:"secondary"},oe=()=>{const z=e.length,D=e.filter(Q=>Q.stock>0).length,U=e.filter(Q=>Q.stock<=(Q.minStock||0)&&Q.stock>0).length,j=e.filter(Q=>Q.stock===0).length,V=e.reduce((Q,k)=>Q+k.price*k.stock,0);return{totalProducts:z,inStock:D,lowStock:U,outOfStock:j,totalValue:V}},$=()=>{const z=[["Product Name","SKU","Category","Current Stock","Min Stock","Price","Total Value","Status"].join(","),...a.map(V=>{const Q=H(V);return[V.name,V.sku,V.category,V.stock,V.minStock||0,V.price,V.price*V.stock,Q.status].join(",")})].join(`
`),D=new Blob([z],{type:"text/csv"}),U=window.URL.createObjectURL(D),j=document.createElement("a");j.href=U,j.download="inventory-report.csv",j.click(),window.URL.revokeObjectURL(U)},me=oe();return p?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Management"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage your stock levels"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(fe,{variant:"outline",onClick:$,children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(fe,{variant:"outline",onClick:P,children:[c.jsx(Hf,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Total Products"}),c.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(ne,{children:c.jsx("div",{className:"text-2xl font-bold",children:me.totalProducts})})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"In Stock"}),c.jsx(Sc,{className:"h-4 w-4 text-green-600"})]}),c.jsx(ne,{children:c.jsx("div",{className:"text-2xl font-bold text-green-600",children:me.inStock})})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Low Stock"}),c.jsx(df,{className:"h-4 w-4 text-yellow-600"})]}),c.jsx(ne,{children:c.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:me.lowStock})})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Out of Stock"}),c.jsx(MT,{className:"h-4 w-4 text-red-600"})]}),c.jsx(ne,{children:c.jsx("div",{className:"text-2xl font-bold text-red-600",children:me.outOfStock})})]}),c.jsxs(te,{children:[c.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(le,{className:"text-sm font-medium",children:"Total Value"}),c.jsx(zf,{className:"h-4 w-4 text-blue-600"})]}),c.jsx(ne,{children:c.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[me.totalValue.toLocaleString()," DA"]})})]})]}),c.jsxs(Ui,{defaultValue:"inventory",className:"space-y-4",children:[c.jsxs(Pi,{children:[c.jsx(nt,{value:"inventory",children:"Current Inventory"}),c.jsx(nt,{value:"adjustments",children:"Stock Adjustments"}),c.jsx(nt,{value:"alerts",children:"Stock Alerts"})]}),c.jsxs(st,{value:"inventory",className:"space-y-4",children:[c.jsx(te,{children:c.jsx(ne,{className:"pt-6",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx(Ne,{placeholder:"Search products...",value:u,onChange:z=>h(z.target.value),className:"pl-10"})]})}),c.jsxs("select",{className:"px-3 py-2 border rounded-md",value:m,onChange:z=>g(z.target.value),children:[c.jsx("option",{value:"all",children:"All Products"}),c.jsx("option",{value:"in-stock",children:"In Stock"}),c.jsx("option",{value:"low-stock",children:"Low Stock"}),c.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]})})}),c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{children:["Inventory (",a.length,")"]}),c.jsx(We,{children:"Current stock levels and product information"})]}),c.jsx(ne,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Product"}),c.jsx("th",{className:"text-left p-2",children:"SKU"}),c.jsx("th",{className:"text-left p-2",children:"Category"}),c.jsx("th",{className:"text-left p-2",children:"Current Stock"}),c.jsx("th",{className:"text-left p-2",children:"Min Stock"}),c.jsx("th",{className:"text-left p-2",children:"Status"}),c.jsx("th",{className:"text-left p-2",children:"Value"}),c.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),c.jsx("tbody",{children:a.map(z=>{const D=H(z);return c.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:c.jsx(os,{className:"w-5 h-5 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:z.name}),c.jsx("p",{className:"text-sm text-gray-600",children:z.brand})]})]})}),c.jsx("td",{className:"p-2 font-mono text-sm",children:z.sku}),c.jsx("td",{className:"p-2",children:c.jsx(tn,{variant:"secondary",children:z.category})}),c.jsx("td",{className:"p-2",children:c.jsx("span",{className:"font-bold text-lg",children:z.stock})}),c.jsx("td",{className:"p-2",children:z.minStock||0}),c.jsx("td",{className:"p-2",children:c.jsx(tn,{variant:D.color,children:D.status})}),c.jsxs("td",{className:"p-2 font-medium",children:[(z.price*z.stock).toLocaleString()," DA"]}),c.jsx("td",{className:"p-2",children:c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>ie(z),children:"Adjust"})})]},z.id)})})]})})})]})]}),c.jsx(st,{value:"adjustments",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsx(le,{children:"Stock Adjustments"}),c.jsx(We,{children:"Add or remove stock with proper tracking"})]}),c.jsx(ne,{children:c.jsx("p",{className:"text-gray-600",children:'Stock adjustments are tracked automatically when you use the "Adjust" button in the inventory table. All adjustments are logged with timestamps and reasons for audit purposes.'})})]})}),c.jsx(st,{value:"alerts",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(df,{className:"w-5 h-5 text-red-500"}),"Stock Alerts"]}),c.jsx(We,{children:"Products that need immediate attention"})]}),c.jsx(ne,{children:c.jsxs("div",{className:"space-y-4",children:[e.filter(z=>z.stock===0).length>0&&c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium text-red-600 mb-2",children:["Out of Stock (",e.filter(z=>z.stock===0).length,")"]}),c.jsx("div",{className:"space-y-2",children:e.filter(z=>z.stock===0).map(z=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:z.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",z.sku]})]}),c.jsx(fe,{size:"sm",onClick:()=>ie(z),children:"Restock"})]},z.id))})]}),e.filter(z=>z.stock<=(z.minStock||0)&&z.stock>0).length>0&&c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium text-yellow-600 mb-2",children:["Low Stock (",e.filter(z=>z.stock<=(z.minStock||0)&&z.stock>0).length,")"]}),c.jsx("div",{className:"space-y-2",children:e.filter(z=>z.stock<=(z.minStock||0)&&z.stock>0).map(z=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:z.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",z.sku," | Current: ",z.stock," | Min: ",z.minStock||0]})]}),c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>ie(z),children:"Restock"})]},z.id))})]}),e.filter(z=>z.stock===0||z.stock<=(z.minStock||0)&&z.stock>0).length===0&&c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No stock alerts at this time"})]})})]})})]}),x&&E&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(te,{className:"w-full max-w-md",children:[c.jsxs(re,{children:[c.jsx(le,{children:"Adjust Stock"}),c.jsxs(We,{children:[E.name," (Current: ",E.stock,")"]})]}),c.jsx(ne,{children:c.jsxs("form",{onSubmit:W,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{children:"Adjustment Type"}),c.jsxs("select",{className:"w-full p-2 border rounded-md",value:C.type,onChange:z=>B({...C,type:z.target.value}),children:[c.jsx("option",{value:"add",children:"Add Stock"}),c.jsx("option",{value:"subtract",children:"Remove Stock"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"quantity",children:"Quantity *"}),c.jsx(Ne,{id:"quantity",type:"number",min:"1",value:C.quantity,onChange:z=>B({...C,quantity:z.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"reason",children:"Reason *"}),c.jsxs("select",{id:"reason",className:"w-full p-2 border rounded-md",value:C.reason,onChange:z=>B({...C,reason:z.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select reason..."}),c.jsx("option",{value:"restock",children:"Restock"}),c.jsx("option",{value:"damaged",children:"Damaged goods"}),c.jsx("option",{value:"expired",children:"Expired products"}),c.jsx("option",{value:"theft",children:"Theft/Loss"}),c.jsx("option",{value:"return",children:"Customer return"}),c.jsx("option",{value:"correction",children:"Inventory correction"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",{id:"notes",className:"w-full p-2 border rounded-md",rows:"3",value:C.notes,onChange:z=>B({...C,notes:z.target.value}),placeholder:"Additional notes..."})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(fe,{type:"button",variant:"outline",onClick:se,children:"Cancel"}),c.jsxs(fe,{type:"submit",children:[C.type==="add"?c.jsx(pl,{className:"w-4 h-4 mr-2"}):c.jsx(Zx,{className:"w-4 h-4 mr-2"}),"Adjust Stock"]})]})]})})]})})]})},MD=({user:n})=>{const[e,i]=L.useState([]),[a,o]=L.useState([]),[u,h]=L.useState(""),[m,g]=L.useState(!1),[p,v]=L.useState(null),[x,b]=L.useState(!0),[E,I]=L.useState({name:"",contactPerson:"",email:"",phone:"",address:"",city:"",postalCode:"",country:"",website:"",taxId:"",paymentTerms:"",notes:"",status:"active"});L.useEffect(()=>{C()},[]),L.useEffect(()=>{B()},[u,e]);const C=async()=>{try{b(!0);const H=await De.read("suppliers");if(H.success&&H.data){const oe=Object.values(H.data);i(oe)}}catch(H){console.error("Error loading suppliers:",H)}finally{b(!1)}},B=()=>{if(!u){o(e);return}const H=e.filter(oe=>oe.name.toLowerCase().includes(u.toLowerCase())||oe.contactPerson.toLowerCase().includes(u.toLowerCase())||oe.email.toLowerCase().includes(u.toLowerCase()));o(H)},P=async H=>{H.preventDefault();try{let oe;p?oe=await De.update(`suppliers/${p.id}`,E):oe=await De.create("suppliers",E),oe.success?(alert(p?"Supplier updated successfully!":"Supplier added successfully!"),se(),C()):alert("Error: "+oe.error)}catch(oe){console.error("Error saving supplier:",oe),alert("Error saving supplier: "+oe.message)}},X=H=>{v(H),I({name:H.name||"",contactPerson:H.contactPerson||"",email:H.email||"",phone:H.phone||"",address:H.address||"",city:H.city||"",postalCode:H.postalCode||"",country:H.country||"",website:H.website||"",taxId:H.taxId||"",paymentTerms:H.paymentTerms||"",notes:H.notes||"",status:H.status||"active"}),g(!0)},W=async H=>{if(window.confirm(`Are you sure you want to delete ${H.name}?`))try{const oe=await De.delete(`suppliers/${H.id}`);oe.success?(alert("Supplier deleted successfully!"),C()):alert("Error deleting supplier: "+oe.error)}catch(oe){console.error("Error deleting supplier:",oe),alert("Error deleting supplier: "+oe.message)}},se=()=>{I({name:"",contactPerson:"",email:"",phone:"",address:"",city:"",postalCode:"",country:"",website:"",taxId:"",paymentTerms:"",notes:"",status:"active"}),v(null),g(!1)},ie=()=>{const H=[["Name","Contact Person","Email","Phone","City","Status"].join(","),...a.map(z=>[z.name,z.contactPerson,z.email,z.phone,z.city,z.status].join(","))].join(`
`),oe=new Blob([H],{type:"text/csv"}),$=window.URL.createObjectURL(oe),me=document.createElement("a");me.href=$,me.download="suppliers.csv",me.click(),window.URL.revokeObjectURL($)};return x?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supplier Management"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your suppliers and vendor relationships"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(fe,{variant:"outline",onClick:ie,children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(fe,{onClick:()=>g(!0),children:[c.jsx(pl,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]})]}),c.jsxs(Ui,{defaultValue:"suppliers",className:"space-y-4",children:[c.jsxs(Pi,{children:[c.jsx(nt,{value:"suppliers",children:"All Suppliers"}),c.jsx(nt,{value:"orders",children:"Purchase Orders"}),c.jsx(nt,{value:"analytics",children:"Analytics"})]}),c.jsxs(st,{value:"suppliers",className:"space-y-4",children:[c.jsx(te,{children:c.jsx(ne,{className:"pt-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx(Ne,{placeholder:"Search suppliers by name, contact person, or email...",value:u,onChange:H=>h(H.target.value),className:"pl-10"})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(H=>c.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[c.jsx(re,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(fc,{className:"w-6 h-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx(le,{className:"text-lg",children:H.name}),c.jsx(We,{children:H.contactPerson})]})]}),c.jsx(tn,{variant:H.status==="active"?"default":"secondary",children:H.status})]})}),c.jsxs(ne,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(Wx,{className:"w-4 h-4"}),c.jsx("span",{children:H.email})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(uf,{className:"w-4 h-4"}),c.jsx("span",{children:H.phone})]}),H.city&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(xc,{className:"w-4 h-4"}),c.jsx("span",{children:H.city})]}),H.paymentTerms&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(jl,{className:"w-4 h-4"}),c.jsx("span",{children:H.paymentTerms})]}),c.jsxs("div",{className:"flex gap-2 pt-3",children:[c.jsxs(fe,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>X(H),children:[c.jsx(qf,{className:"w-3 h-3 mr-1"}),"Edit"]}),c.jsx(fe,{size:"sm",variant:"outline",onClick:()=>W(H),children:c.jsx(Rl,{className:"w-3 h-3"})})]})]})]},H.id))}),a.length===0&&c.jsx(te,{children:c.jsxs(ne,{className:"text-center py-8",children:[c.jsx(fc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No suppliers found"}),c.jsxs(fe,{onClick:()=>g(!0),className:"mt-4",children:[c.jsx(pl,{className:"w-4 h-4 mr-2"}),"Add Your First Supplier"]})]})})]}),c.jsx(st,{value:"orders",className:"space-y-4",children:c.jsxs(te,{children:[c.jsxs(re,{children:[c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(i_,{className:"w-5 h-5"}),"Purchase Orders"]}),c.jsx(We,{children:"Manage purchase orders and supplier transactions"})]}),c.jsx(ne,{children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(i_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Purchase order management coming soon"}),c.jsx("p",{className:"text-sm text-gray-400",children:"This feature will allow you to create, track, and manage purchase orders with your suppliers."})]})})]})}),c.jsx(st,{value:"analytics",className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(fc,{className:"w-5 h-5"}),"Total Suppliers"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold",children:e.length}),c.jsx("p",{className:"text-sm text-gray-600",children:"Registered suppliers"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(os,{className:"w-5 h-5"}),"Active Suppliers"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.filter(H=>H.status==="active").length}),c.jsx("p",{className:"text-sm text-gray-600",children:"Currently active"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(xc,{className:"w-5 h-5"}),"Locations"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:[...new Set(e.map(H=>H.city).filter(Boolean))].length}),c.jsx("p",{className:"text-sm text-gray-600",children:"Different cities"})]})]}),c.jsxs(te,{children:[c.jsx(re,{children:c.jsxs(le,{className:"flex items-center gap-2",children:[c.jsx(Xx,{className:"w-5 h-5"}),"This Month"]})}),c.jsxs(ne,{children:[c.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e.filter(H=>{const oe=new Date(H.createdAt),$=new Date;return oe.getMonth()===$.getMonth()&&oe.getFullYear()===$.getFullYear()}).length}),c.jsx("p",{className:"text-sm text-gray-600",children:"New suppliers"})]})]})]})})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(te,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(re,{children:[c.jsx(le,{children:p?"Edit Supplier":"Add New Supplier"}),c.jsx(We,{children:p?"Update supplier information":"Enter supplier details"})]}),c.jsx(ne,{children:c.jsxs("form",{onSubmit:P,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"name",children:"Company Name *"}),c.jsx(Ne,{id:"name",value:E.name,onChange:H=>I({...E,name:H.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"contactPerson",children:"Contact Person *"}),c.jsx(Ne,{id:"contactPerson",value:E.contactPerson,onChange:H=>I({...E,contactPerson:H.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"email",children:"Email"}),c.jsx(Ne,{id:"email",type:"email",value:E.email,onChange:H=>I({...E,email:H.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"phone",children:"Phone *"}),c.jsx(Ne,{id:"phone",value:E.phone,onChange:H=>I({...E,phone:H.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"city",children:"City"}),c.jsx(Ne,{id:"city",value:E.city,onChange:H=>I({...E,city:H.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"postalCode",children:"Postal Code"}),c.jsx(Ne,{id:"postalCode",value:E.postalCode,onChange:H=>I({...E,postalCode:H.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"country",children:"Country"}),c.jsx(Ne,{id:"country",value:E.country,onChange:H=>I({...E,country:H.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"website",children:"Website"}),c.jsx(Ne,{id:"website",value:E.website,onChange:H=>I({...E,website:H.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"taxId",children:"Tax ID"}),c.jsx(Ne,{id:"taxId",value:E.taxId,onChange:H=>I({...E,taxId:H.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"paymentTerms",children:"Payment Terms"}),c.jsxs("select",{id:"paymentTerms",className:"w-full p-2 border rounded-md",value:E.paymentTerms,onChange:H=>I({...E,paymentTerms:H.target.value}),children:[c.jsx("option",{value:"",children:"Select payment terms"}),c.jsx("option",{value:"Net 30",children:"Net 30"}),c.jsx("option",{value:"Net 15",children:"Net 15"}),c.jsx("option",{value:"Net 7",children:"Net 7"}),c.jsx("option",{value:"COD",children:"Cash on Delivery"}),c.jsx("option",{value:"Prepaid",children:"Prepaid"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"status",children:"Status"}),c.jsxs("select",{id:"status",className:"w-full p-2 border rounded-md",value:E.status,onChange:H=>I({...E,status:H.target.value}),children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"address",children:"Address"}),c.jsx("textarea",{id:"address",className:"w-full p-2 border rounded-md",rows:"2",value:E.address,onChange:H=>I({...E,address:H.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ge,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",{id:"notes",className:"w-full p-2 border rounded-md",rows:"3",value:E.notes,onChange:H=>I({...E,notes:H.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(fe,{type:"button",variant:"outline",onClick:se,children:"Cancel"}),c.jsx(fe,{type:"submit",children:p?"Update Supplier":"Add Supplier"})]})]})})]})})]})};function DD({onLogin:n}){const[e,i]=L.useState({username:"",password:""}),a=o=>{o.preventDefault(),e.username&&e.password&&n({username:e.username,role:"admin",uid:"demo-user-"+Date.now(),email:e.username+"@store.com"})};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:c.jsxs(te,{className:"w-full max-w-md",children:[c.jsxs(re,{className:"text-center",children:[c.jsx(le,{className:"text-2xl font-bold text-blue-900",children:"Store Management System"}),c.jsx(We,{children:"نظام إدارة المحلات التجارية"})]}),c.jsxs(ne,{children:[c.jsxs("form",{onSubmit:a,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ge,{htmlFor:"username",children:"Username / اسم المستخدم"}),c.jsx(Ne,{id:"username",type:"text",placeholder:"Enter username",value:e.username,onChange:o=>i({...e,username:o.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ge,{htmlFor:"password",children:"Password / كلمة المرور"}),c.jsx(Ne,{id:"password",type:"password",placeholder:"Enter password",value:e.password,onChange:o=>i({...e,password:o.target.value}),required:!0})]}),c.jsx(fe,{type:"submit",className:"w-full",children:"Login / تسجيل الدخول"})]}),c.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:[c.jsx("p",{children:"Demo credentials:"}),c.jsx("p",{children:"Username: admin | Password: admin123"})]})]})]})})}function LD(){const[n,e]=L.useState(null),[i,a]=L.useState("dashboard"),[o,u]=L.useState(!1);L.useEffect(()=>{const v=localStorage.getItem("storeUser");v&&e(JSON.parse(v))},[]);const h=v=>{e(v),localStorage.setItem("storeUser",JSON.stringify(v))},m=()=>{e(null),localStorage.removeItem("storeUser"),a("dashboard")},g=[{id:"dashboard",name:"Dashboard",icon:eT},{id:"pos",name:"Point of Sale",icon:Qx},{id:"products",name:"Products",icon:os},{id:"customers",name:"Customers",icon:Ha},{id:"inventory",name:"Inventory",icon:FT},{id:"suppliers",name:"Suppliers",icon:fc},{id:"reports",name:"Reports",icon:zf},{id:"settings",name:"Settings",icon:_T}];if(!n)return c.jsx(DD,{onLogin:h});const p=()=>{switch(i){case"dashboard":return c.jsx(Ax,{user:n});case"pos":return c.jsx(ZM,{user:n});case"products":return c.jsx(AD,{user:n});case"customers":return c.jsx(RD,{user:n});case"inventory":return c.jsx(OD,{user:n});case"suppliers":return c.jsx(MD,{user:n});case"reports":return c.jsx(kD,{user:n});case"settings":return c.jsx(ID,{user:n});default:return c.jsx(Ax,{user:n})}};return c.jsxs("div",{className:"flex h-screen bg-gray-100",children:[c.jsxs("div",{className:`${o?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0`,children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b",children:[c.jsx("h1",{className:"text-xl font-bold text-blue-900",children:"Store Manager"}),c.jsx(fe,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>u(!1),children:c.jsx(YT,{className:"h-4 w-4"})})]}),c.jsx("nav",{className:"mt-6",children:g.map(v=>c.jsxs("button",{onClick:()=>{a(v.id),u(!1)},className:`w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors ${i===v.id?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-700"}`,children:[c.jsx(v.icon,{className:"h-5 w-5 mr-3"}),v.name]},v.id))}),c.jsx("div",{className:"absolute bottom-0 w-full p-6 border-t",children:c.jsxs(fe,{variant:"outline",className:"w-full",onClick:m,children:[c.jsx(nT,{className:"h-4 w-4 mr-2"}),"Logout"]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:"bg-white shadow-sm border-b h-16 flex items-center justify-between px-6",children:[c.jsx(fe,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>u(!0),children:c.jsx(rT,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",n.username]}),c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:n.role})]})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:p()})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>u(!1)})]})}DN.createRoot(document.getElementById("root")).render(c.jsx(L.StrictMode,{children:c.jsx(LD,{})}));
